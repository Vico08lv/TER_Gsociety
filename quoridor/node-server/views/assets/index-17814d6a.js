(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function _n(e,t){const r=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}const Pc="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Ac=_n(Pc);function yr(e){if(ae(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=Pe(i)?Nc(i):yr(i);if(n)for(const s in n)t[s]=n[s]}return t}else{if(Pe(e))return e;if(xe(e))return e}}const kc=/;(?![^(]*\))/g,Rc=/:([^]+)/,Oc=/\/\*.*?\*\//gs;function Nc(e){const t={};return e.replace(Oc,"").split(kc).forEach(r=>{if(r){const i=r.split(Rc);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function br(e){let t="";if(Pe(e))t=e;else if(ae(e))for(let r=0;r<e.length;r++){const i=br(e[r]);i&&(t+=i+" ")}else if(xe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function Fc(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Pe(t)&&(e.class=br(t)),r&&(e.style=yr(r)),e}const Mc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ic=_n(Mc);function fl(e){return!!e||e===""}function Lc(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=Lt(e[i],t[i]);return r}function Lt(e,t){if(e===t)return!0;let r=va(e),i=va(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=Ai(e),i=Ai(t),r||i)return e===t;if(r=ae(e),i=ae(t),r||i)return r&&i?Lc(e,t):!1;if(r=xe(e),i=xe(t),r||i){if(!r||!i)return!1;const n=Object.keys(e).length,s=Object.keys(t).length;if(n!==s)return!1;for(const a in e){const o=e.hasOwnProperty(a),h=t.hasOwnProperty(a);if(o&&!h||!o&&h||!Lt(e[a],t[a]))return!1}}return String(e)===String(t)}function vn(e,t){return e.findIndex(r=>Lt(r,t))}const et=e=>Pe(e)?e:e==null?"":ae(e)||xe(e)&&(e.toString===pl||!ue(e.toString))?JSON.stringify(e,gl,2):String(e),gl=(e,t)=>t&&t.__v_isRef?gl(e,t.value):ur(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n])=>(r[`${i} =>`]=n,r),{})}:sr(t)?{[`Set(${t.size})`]:[...t.values()]}:xe(t)&&!ae(t)&&!ml(t)?String(t):t,we={},cr=[],dt=()=>{},Gc=()=>!1,Dc=/^on[^a-z]/,Ii=e=>Dc.test(e),Os=e=>e.startsWith("onUpdate:"),Oe=Object.assign,Ns=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Bc=Object.prototype.hasOwnProperty,Ce=(e,t)=>Bc.call(e,t),ae=Array.isArray,ur=e=>Cr(e)==="[object Map]",sr=e=>Cr(e)==="[object Set]",va=e=>Cr(e)==="[object Date]",Uc=e=>Cr(e)==="[object RegExp]",ue=e=>typeof e=="function",Pe=e=>typeof e=="string",Ai=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",Fs=e=>xe(e)&&ue(e.then)&&ue(e.catch),pl=Object.prototype.toString,Cr=e=>pl.call(e),Vc=e=>Cr(e).slice(8,-1),ml=e=>Cr(e)==="[object Object]",Ms=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bi=_n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Hc=/-(\w)/g,We=yn(e=>e.replace(Hc,(t,r)=>r?r.toUpperCase():"")),qc=/\B([A-Z])/g,st=yn(e=>e.replace(qc,"-$1").toLowerCase()),Li=yn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ci=yn(e=>e?`on${Li(e)}`:""),pr=(e,t)=>!Object.is(e,t),dr=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},ln=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},cn=e=>{const t=Pe(e)?Number(e):NaN;return isNaN(t)?e:t};let ya;const jc=()=>ya||(ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Qe;class Is{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qe,!t&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Qe;try{return Qe=this,t()}finally{Qe=r}}}on(){Qe=this}off(){Qe=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Kc(e){return new Is(e)}function _l(e,t=Qe){t&&t.active&&t.effects.push(e)}function vl(){return Qe}function Wc(e){Qe&&Qe.cleanups.push(e)}const Ls=e=>{const t=new Set(e);return t.w=0,t.n=0,t},yl=e=>(e.w&Gt)>0,bl=e=>(e.n&Gt)>0,zc=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Gt},Yc=e=>{const{deps:t}=e;if(t.length){let r=0;for(let i=0;i<t.length;i++){const n=t[i];yl(n)&&!bl(n)?n.delete(e):t[r++]=n,n.w&=~Gt,n.n&=~Gt}t.length=r}},un=new WeakMap;let _i=0,Gt=1;const as=30;let ht;const Jt=Symbol(""),os=Symbol("");class Gi{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,_l(this,i)}run(){if(!this.active)return this.fn();let t=ht,r=Mt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ht,ht=this,Mt=!0,Gt=1<<++_i,_i<=as?zc(this):ba(this),this.fn()}finally{_i<=as&&Yc(this),Gt=1<<--_i,ht=this.parent,Mt=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ht===this?this.deferStop=!0:this.active&&(ba(this),this.onStop&&this.onStop(),this.active=!1)}}function ba(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}function $c(e,t){e.effect&&(e=e.effect.fn);const r=new Gi(e);t&&(Oe(r,t),t.scope&&_l(r,t.scope)),(!t||!t.lazy)&&r.run();const i=r.run.bind(r);return i.effect=r,i}function Xc(e){e.effect.stop()}let Mt=!0;const Cl=[];function Sr(){Cl.push(Mt),Mt=!1}function wr(){const e=Cl.pop();Mt=e===void 0?!0:e}function ze(e,t,r){if(Mt&&ht){let i=un.get(e);i||un.set(e,i=new Map);let n=i.get(r);n||i.set(r,n=Ls()),Sl(n)}}function Sl(e,t){let r=!1;_i<=as?bl(e)||(e.n|=Gt,r=!yl(e)):r=!e.has(ht),r&&(e.add(ht),ht.deps.push(e))}function Pt(e,t,r,i,n,s){const a=un.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(r==="length"&&ae(e)){const h=Number(i);a.forEach((u,m)=>{(m==="length"||m>=h)&&o.push(u)})}else switch(r!==void 0&&o.push(a.get(r)),t){case"add":ae(e)?Ms(r)&&o.push(a.get("length")):(o.push(a.get(Jt)),ur(e)&&o.push(a.get(os)));break;case"delete":ae(e)||(o.push(a.get(Jt)),ur(e)&&o.push(a.get(os)));break;case"set":ur(e)&&o.push(a.get(Jt));break}if(o.length===1)o[0]&&ls(o[0]);else{const h=[];for(const u of o)u&&h.push(...u);ls(Ls(h))}}function ls(e,t){const r=ae(e)?e:[...e];for(const i of r)i.computed&&Ca(i);for(const i of r)i.computed||Ca(i)}function Ca(e,t){(e!==ht||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Jc(e,t){var r;return(r=un.get(e))===null||r===void 0?void 0:r.get(t)}const Qc=_n("__proto__,__v_isRef,__isVue"),wl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ai)),Zc=bn(),eu=bn(!1,!0),tu=bn(!0),ru=bn(!0,!0),Sa=iu();function iu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=ye(this);for(let s=0,a=this.length;s<a;s++)ze(i,"get",s+"");const n=i[t](...r);return n===-1||n===!1?i[t](...r.map(ye)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Sr();const i=ye(this)[t].apply(this,r);return wr(),i}}),e}function nu(e){const t=ye(this);return ze(t,"has",e),t.hasOwnProperty(e)}function bn(e=!1,t=!1){return function(i,n,s){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&s===(e?t?Rl:kl:t?Al:Pl).get(i))return i;const a=ae(i);if(!e){if(a&&Ce(Sa,n))return Reflect.get(Sa,n,s);if(n==="hasOwnProperty")return nu}const o=Reflect.get(i,n,s);return(Ai(n)?wl.has(n):Qc(n))||(e||ze(i,"get",n),t)?o:Ie(o)?a&&Ms(n)?o:o.value:xe(o)?e?Ds(o):xr(o):o}}const su=xl(),au=xl(!0);function xl(e=!1){return function(r,i,n,s){let a=r[i];if(tr(a)&&Ie(a)&&!Ie(n))return!1;if(!e&&(!ki(n)&&!tr(n)&&(a=ye(a),n=ye(n)),!ae(r)&&Ie(a)&&!Ie(n)))return a.value=n,!0;const o=ae(r)&&Ms(i)?Number(i)<r.length:Ce(r,i),h=Reflect.set(r,i,n,s);return r===ye(s)&&(o?pr(n,a)&&Pt(r,"set",i,n):Pt(r,"add",i,n)),h}}function ou(e,t){const r=Ce(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&Pt(e,"delete",t,void 0),i}function lu(e,t){const r=Reflect.has(e,t);return(!Ai(t)||!wl.has(t))&&ze(e,"has",t),r}function hu(e){return ze(e,"iterate",ae(e)?"length":Jt),Reflect.ownKeys(e)}const Tl={get:Zc,set:su,deleteProperty:ou,has:lu,ownKeys:hu},El={get:tu,set(e,t){return!0},deleteProperty(e,t){return!0}},cu=Oe({},Tl,{get:eu,set:au}),uu=Oe({},El,{get:ru}),Gs=e=>e,Cn=e=>Reflect.getPrototypeOf(e);function Vi(e,t,r=!1,i=!1){e=e.__v_raw;const n=ye(e),s=ye(t);r||(t!==s&&ze(n,"get",t),ze(n,"get",s));const{has:a}=Cn(n),o=i?Gs:r?Vs:Ri;if(a.call(n,t))return o(e.get(t));if(a.call(n,s))return o(e.get(s));e!==n&&e.get(t)}function Hi(e,t=!1){const r=this.__v_raw,i=ye(r),n=ye(e);return t||(e!==n&&ze(i,"has",e),ze(i,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function qi(e,t=!1){return e=e.__v_raw,!t&&ze(ye(e),"iterate",Jt),Reflect.get(e,"size",e)}function wa(e){e=ye(e);const t=ye(this);return Cn(t).has.call(t,e)||(t.add(e),Pt(t,"add",e,e)),this}function xa(e,t){t=ye(t);const r=ye(this),{has:i,get:n}=Cn(r);let s=i.call(r,e);s||(e=ye(e),s=i.call(r,e));const a=n.call(r,e);return r.set(e,t),s?pr(t,a)&&Pt(r,"set",e,t):Pt(r,"add",e,t),this}function Ta(e){const t=ye(this),{has:r,get:i}=Cn(t);let n=r.call(t,e);n||(e=ye(e),n=r.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return n&&Pt(t,"delete",e,void 0),s}function Ea(){const e=ye(this),t=e.size!==0,r=e.clear();return t&&Pt(e,"clear",void 0,void 0),r}function ji(e,t){return function(i,n){const s=this,a=s.__v_raw,o=ye(a),h=t?Gs:e?Vs:Ri;return!e&&ze(o,"iterate",Jt),a.forEach((u,m)=>i.call(n,h(u),h(m),s))}}function Ki(e,t,r){return function(...i){const n=this.__v_raw,s=ye(n),a=ur(s),o=e==="entries"||e===Symbol.iterator&&a,h=e==="keys"&&a,u=n[e](...i),m=r?Gs:t?Vs:Ri;return!t&&ze(s,"iterate",h?os:Jt),{next(){const{value:d,done:_}=u.next();return _?{value:d,done:_}:{value:o?[m(d[0]),m(d[1])]:m(d),done:_}},[Symbol.iterator](){return this}}}}function kt(e){return function(...t){return e==="delete"?!1:this}}function du(){const e={get(s){return Vi(this,s)},get size(){return qi(this)},has:Hi,add:wa,set:xa,delete:Ta,clear:Ea,forEach:ji(!1,!1)},t={get(s){return Vi(this,s,!1,!0)},get size(){return qi(this)},has:Hi,add:wa,set:xa,delete:Ta,clear:Ea,forEach:ji(!1,!0)},r={get(s){return Vi(this,s,!0)},get size(){return qi(this,!0)},has(s){return Hi.call(this,s,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:ji(!0,!1)},i={get(s){return Vi(this,s,!0,!0)},get size(){return qi(this,!0)},has(s){return Hi.call(this,s,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Ki(s,!1,!1),r[s]=Ki(s,!0,!1),t[s]=Ki(s,!1,!0),i[s]=Ki(s,!0,!0)}),[e,r,t,i]}const[fu,gu,pu,mu]=du();function Sn(e,t){const r=t?e?mu:pu:e?gu:fu;return(i,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Ce(r,n)&&n in i?r:i,n,s)}const _u={get:Sn(!1,!1)},vu={get:Sn(!1,!0)},yu={get:Sn(!0,!1)},bu={get:Sn(!0,!0)},Pl=new WeakMap,Al=new WeakMap,kl=new WeakMap,Rl=new WeakMap;function Cu(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Su(e){return e.__v_skip||!Object.isExtensible(e)?0:Cu(Vc(e))}function xr(e){return tr(e)?e:wn(e,!1,Tl,_u,Pl)}function Ol(e){return wn(e,!1,cu,vu,Al)}function Ds(e){return wn(e,!0,El,yu,kl)}function wu(e){return wn(e,!0,uu,bu,Rl)}function wn(e,t,r,i,n){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const a=Su(e);if(a===0)return e;const o=new Proxy(e,a===2?i:r);return n.set(e,o),o}function Qt(e){return tr(e)?Qt(e.__v_raw):!!(e&&e.__v_isReactive)}function tr(e){return!!(e&&e.__v_isReadonly)}function ki(e){return!!(e&&e.__v_isShallow)}function Bs(e){return Qt(e)||tr(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function Us(e){return ln(e,"__v_skip",!0),e}const Ri=e=>xe(e)?xr(e):e,Vs=e=>xe(e)?Ds(e):e;function Hs(e){Mt&&ht&&(e=ye(e),Sl(e.dep||(e.dep=Ls())))}function xn(e,t){e=ye(e);const r=e.dep;r&&ls(r)}function Ie(e){return!!(e&&e.__v_isRef===!0)}function en(e){return Nl(e,!1)}function xu(e){return Nl(e,!0)}function Nl(e,t){return Ie(e)?e:new Tu(e,t)}class Tu{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ye(t),this._value=r?t:Ri(t)}get value(){return Hs(this),this._value}set value(t){const r=this.__v_isShallow||ki(t)||tr(t);t=r?t:ye(t),pr(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Ri(t),xn(this))}}function Eu(e){xn(e)}function Fl(e){return Ie(e)?e.value:e}const Pu={get:(e,t,r)=>Fl(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return Ie(n)&&!Ie(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function qs(e){return Qt(e)?e:new Proxy(e,Pu)}class Au{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:i}=t(()=>Hs(this),()=>xn(this));this._get=r,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function ku(e){return new Au(e)}function Ru(e){const t=ae(e)?new Array(e.length):{};for(const r in e)t[r]=Ml(e,r);return t}class Ou{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jc(ye(this._object),this._key)}}function Ml(e,t,r){const i=e[t];return Ie(i)?i:new Ou(e,t,r)}var Il;class Nu{constructor(t,r,i,n){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Il]=!1,this._dirty=!0,this.effect=new Gi(t,()=>{this._dirty||(this._dirty=!0,xn(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=ye(this);return Hs(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Il="__v_isReadonly";function Fu(e,t,r=!1){let i,n;const s=ue(e);return s?(i=e,n=dt):(i=e.get,n=e.set),new Nu(i,n,s||!n,r)}function Mu(e,...t){}function Iu(e,t){}function Et(e,t,r,i){let n;try{n=i?e(...i):e()}catch(s){ar(s,t,r)}return n}function tt(e,t,r,i){if(ue(e)){const s=Et(e,t,r,i);return s&&Fs(s)&&s.catch(a=>{ar(a,t,r)}),s}const n=[];for(let s=0;s<e.length;s++)n.push(tt(e[s],t,r,i));return n}function ar(e,t,r,i=!0){const n=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,o=r;for(;s;){const u=s.ec;if(u){for(let m=0;m<u.length;m++)if(u[m](e,a,o)===!1)return}s=s.parent}const h=t.appContext.config.errorHandler;if(h){Et(h,null,10,[e,a,o]);return}}Lu(e,r,n,i)}function Lu(e,t,r,i=!0){console.error(e)}let Oi=!1,hs=!1;const Be=[];let mt=0;const fr=[];let wt=null,Yt=0;const Ll=Promise.resolve();let js=null;function Ks(e){const t=js||Ll;return e?t.then(this?e.bind(this):e):t}function Gu(e){let t=mt+1,r=Be.length;for(;t<r;){const i=t+r>>>1;Ni(Be[i])<e?t=i+1:r=i}return t}function Tn(e){(!Be.length||!Be.includes(e,Oi&&e.allowRecurse?mt+1:mt))&&(e.id==null?Be.push(e):Be.splice(Gu(e.id),0,e),Gl())}function Gl(){!Oi&&!hs&&(hs=!0,js=Ll.then(Dl))}function Du(e){const t=Be.indexOf(e);t>mt&&Be.splice(t,1)}function Ws(e){ae(e)?fr.push(...e):(!wt||!wt.includes(e,e.allowRecurse?Yt+1:Yt))&&fr.push(e),Gl()}function Pa(e,t=Oi?mt+1:0){for(;t<Be.length;t++){const r=Be[t];r&&r.pre&&(Be.splice(t,1),t--,r())}}function dn(e){if(fr.length){const t=[...new Set(fr)];if(fr.length=0,wt){wt.push(...t);return}for(wt=t,wt.sort((r,i)=>Ni(r)-Ni(i)),Yt=0;Yt<wt.length;Yt++)wt[Yt]();wt=null,Yt=0}}const Ni=e=>e.id==null?1/0:e.id,Bu=(e,t)=>{const r=Ni(e)-Ni(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Dl(e){hs=!1,Oi=!0,Be.sort(Bu);const t=dt;try{for(mt=0;mt<Be.length;mt++){const r=Be[mt];r&&r.active!==!1&&Et(r,null,14)}}finally{mt=0,Be.length=0,dn(),Oi=!1,js=null,(Be.length||fr.length)&&Dl()}}let or,Wi=[];function Bl(e,t){var r,i;or=e,or?(or.enabled=!0,Wi.forEach(({event:n,args:s})=>or.emit(n,...s)),Wi=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(r=window.navigator)===null||r===void 0?void 0:r.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Bl(s,t)}),setTimeout(()=>{or||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wi=[])},3e3)):Wi=[]}function Uu(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||we;let n=r;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in i){const m=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:_}=i[m]||we;_&&(n=r.map(p=>Pe(p)?p.trim():p)),d&&(n=r.map(hn))}let o,h=i[o=Ci(t)]||i[o=Ci(We(t))];!h&&s&&(h=i[o=Ci(st(t))]),h&&tt(h,e,6,n);const u=i[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,tt(u,e,6,n)}}function Ul(e,t,r=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const s=e.emits;let a={},o=!1;if(!ue(e)){const h=u=>{const m=Ul(u,t,!0);m&&(o=!0,Oe(a,m))};!r&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}return!s&&!o?(xe(e)&&i.set(e,null),null):(ae(s)?s.forEach(h=>a[h]=null):Oe(a,s),xe(e)&&i.set(e,a),a)}function En(e,t){return!e||!Ii(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,st(t))||Ce(e,t))}let De=null,Pn=null;function Fi(e){const t=De;return De=e,Pn=e&&e.type.__scopeId||null,t}function An(e){Pn=e}function kn(){Pn=null}const Vu=e=>zs;function zs(e,t=De,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&ms(-1);const s=Fi(t);let a;try{a=e(...n)}finally{Fi(s),i._d&&ms(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function tn(e){const{type:t,vnode:r,proxy:i,withProxy:n,props:s,propsOptions:[a],slots:o,attrs:h,emit:u,render:m,renderCache:d,data:_,setupState:p,ctx:f,inheritAttrs:y}=e;let C,x;const c=Fi(e);try{if(r.shapeFlag&4){const v=n||i;C=Ze(m.call(v,v,d,s,p,_,f)),x=h}else{const v=t;C=Ze(v.length>1?v(s,{attrs:h,slots:o,emit:u}):v(s,null)),x=t.props?h:qu(h)}}catch(v){Ei.length=0,ar(v,e,1),C=Se(Ue)}let l=C;if(x&&y!==!1){const v=Object.keys(x),{shapeFlag:S}=l;v.length&&S&7&&(a&&v.some(Os)&&(x=ju(x,a)),l=vt(l,x))}return r.dirs&&(l=vt(l),l.dirs=l.dirs?l.dirs.concat(r.dirs):r.dirs),r.transition&&(l.transition=r.transition),C=l,Fi(c),C}function Hu(e){let t;for(let r=0;r<e.length;r++){const i=e[r];if(Dt(i)){if(i.type!==Ue||i.children==="v-if"){if(t)return;t=i}}else return}return t}const qu=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ii(r))&&((t||(t={}))[r]=e[r]);return t},ju=(e,t)=>{const r={};for(const i in e)(!Os(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function Ku(e,t,r){const{props:i,children:n,component:s}=e,{props:a,children:o,patchFlag:h}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&h>=0){if(h&1024)return!0;if(h&16)return i?Aa(i,a,u):!!a;if(h&8){const m=t.dynamicProps;for(let d=0;d<m.length;d++){const _=m[d];if(a[_]!==i[_]&&!En(u,_))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?Aa(i,a,u):!0:!!a;return!1}function Aa(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(t[s]!==e[s]&&!En(r,s))return!0}return!1}function Ys({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Vl=e=>e.__isSuspense,Wu={name:"Suspense",__isSuspense:!0,process(e,t,r,i,n,s,a,o,h,u){e==null?Yu(t,r,i,n,s,a,o,h,u):$u(e,t,r,i,n,a,o,h,u)},hydrate:Xu,create:$s,normalize:Ju},zu=Wu;function Mi(e,t){const r=e.props&&e.props[t];ue(r)&&r()}function Yu(e,t,r,i,n,s,a,o,h){const{p:u,o:{createElement:m}}=h,d=m("div"),_=e.suspense=$s(e,n,i,t,d,r,s,a,o,h);u(null,_.pendingBranch=e.ssContent,d,null,i,_,s,a),_.deps>0?(Mi(e,"onPending"),Mi(e,"onFallback"),u(null,e.ssFallback,t,r,i,null,s,a),gr(_,e.ssFallback)):_.resolve()}function $u(e,t,r,i,n,s,a,o,{p:h,um:u,o:{createElement:m}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const _=t.ssContent,p=t.ssFallback,{activeBranch:f,pendingBranch:y,isInFallback:C,isHydrating:x}=d;if(y)d.pendingBranch=_,ut(_,y)?(h(y,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0?d.resolve():C&&(h(f,p,r,i,n,null,s,a,o),gr(d,p))):(d.pendingId++,x?(d.isHydrating=!1,d.activeBranch=y):u(y,n,d),d.deps=0,d.effects.length=0,d.hiddenContainer=m("div"),C?(h(null,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0?d.resolve():(h(f,p,r,i,n,null,s,a,o),gr(d,p))):f&&ut(_,f)?(h(f,_,r,i,n,d,s,a,o),d.resolve(!0)):(h(null,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0&&d.resolve()));else if(f&&ut(_,f))h(f,_,r,i,n,d,s,a,o),gr(d,_);else if(Mi(t,"onPending"),d.pendingBranch=_,d.pendingId++,h(null,_,d.hiddenContainer,null,n,d,s,a,o),d.deps<=0)d.resolve();else{const{timeout:c,pendingId:l}=d;c>0?setTimeout(()=>{d.pendingId===l&&d.fallback(p)},c):c===0&&d.fallback(p)}}function $s(e,t,r,i,n,s,a,o,h,u,m=!1){const{p:d,m:_,um:p,n:f,o:{parentNode:y,remove:C}}=u,x=e.props?cn(e.props.timeout):void 0,c={vnode:e,parent:t,parentComponent:r,isSVG:a,container:i,hiddenContainer:n,anchor:s,deps:0,pendingId:0,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:m,isUnmounted:!1,effects:[],resolve(l=!1){const{vnode:v,activeBranch:S,pendingBranch:P,pendingId:O,effects:w,parentComponent:A,container:T}=c;if(c.isHydrating)c.isHydrating=!1;else if(!l){const g=S&&P.transition&&P.transition.mode==="out-in";g&&(S.transition.afterLeave=()=>{O===c.pendingId&&_(P,T,b,0)});let{anchor:b}=c;S&&(b=f(S),p(S,A,c,!0)),g||_(P,T,b,0)}gr(c,P),c.pendingBranch=null,c.isInFallback=!1;let R=c.parent,N=!1;for(;R;){if(R.pendingBranch){R.effects.push(...w),N=!0;break}R=R.parent}N||Ws(w),c.effects=[],Mi(v,"onResolve")},fallback(l){if(!c.pendingBranch)return;const{vnode:v,activeBranch:S,parentComponent:P,container:O,isSVG:w}=c;Mi(v,"onFallback");const A=f(S),T=()=>{c.isInFallback&&(d(null,l,O,A,P,null,w,o,h),gr(c,l))},R=l.transition&&l.transition.mode==="out-in";R&&(S.transition.afterLeave=T),c.isInFallback=!0,p(S,P,null,!0),R||T()},move(l,v,S){c.activeBranch&&_(c.activeBranch,l,v,S),c.container=l},next(){return c.activeBranch&&f(c.activeBranch)},registerDep(l,v){const S=!!c.pendingBranch;S&&c.deps++;const P=l.vnode.el;l.asyncDep.catch(O=>{ar(O,l,0)}).then(O=>{if(l.isUnmounted||c.isUnmounted||c.pendingId!==l.suspenseId)return;l.asyncResolved=!0;const{vnode:w}=l;_s(l,O,!1),P&&(w.el=P);const A=!P&&l.subTree.el;v(l,w,y(P||l.subTree.el),P?null:f(l.subTree),c,a,h),A&&C(A),Ys(l,w.el),S&&--c.deps===0&&c.resolve()})},unmount(l,v){c.isUnmounted=!0,c.activeBranch&&p(c.activeBranch,r,l,v),c.pendingBranch&&p(c.pendingBranch,r,l,v)}};return c}function Xu(e,t,r,i,n,s,a,o,h){const u=t.suspense=$s(t,i,r,e.parentNode,document.createElement("div"),null,n,s,a,o,!0),m=h(e,u.pendingBranch=t.ssContent,r,u,s,a);return u.deps===0&&u.resolve(),m}function Ju(e){const{shapeFlag:t,children:r}=e,i=t&32;e.ssContent=ka(i?r.default:r),e.ssFallback=i?ka(r.fallback):Se(Ue)}function ka(e){let t;if(ue(e)){const r=nr&&e._c;r&&(e._d=!1,ce()),e=e(),r&&(e._d=!0,t=Ke,ph())}return ae(e)&&(e=Hu(e)),e=Ze(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function Hl(e,t){t&&t.pendingBranch?ae(e)?t.effects.push(...e):t.effects.push(e):Ws(e)}function gr(e,t){e.activeBranch=t;const{vnode:r,parentComponent:i}=e,n=r.el=t.el;i&&i.subTree===r&&(i.vnode.el=n,Ys(i,n))}function ql(e,t){if(Re){let r=Re.provides;const i=Re.parent&&Re.parent.provides;i===r&&(r=Re.provides=Object.create(i)),r[e]=t}}function Si(e,t,r=!1){const i=Re||De;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&ue(t)?t.call(i.proxy):t}}function Qu(e,t){return Di(e,null,t)}function jl(e,t){return Di(e,null,{flush:"post"})}function Zu(e,t){return Di(e,null,{flush:"sync"})}const zi={};function wi(e,t,r){return Di(e,t,r)}function Di(e,t,{immediate:r,deep:i,flush:n,onTrack:s,onTrigger:a}=we){const o=vl()===(Re==null?void 0:Re.scope)?Re:null;let h,u=!1,m=!1;if(Ie(e)?(h=()=>e.value,u=ki(e)):Qt(e)?(h=()=>e,i=!0):ae(e)?(m=!0,u=e.some(l=>Qt(l)||ki(l)),h=()=>e.map(l=>{if(Ie(l))return l.value;if(Qt(l))return Xt(l);if(ue(l))return Et(l,o,2)})):ue(e)?t?h=()=>Et(e,o,2):h=()=>{if(!(o&&o.isUnmounted))return d&&d(),tt(e,o,3,[_])}:h=dt,t&&i){const l=h;h=()=>Xt(l())}let d,_=l=>{d=x.onStop=()=>{Et(l,o,4)}},p;if(_r)if(_=dt,t?r&&tt(t,o,3,[h(),m?[]:void 0,_]):h(),n==="sync"){const l=Rh();p=l.__watcherHandles||(l.__watcherHandles=[])}else return dt;let f=m?new Array(e.length).fill(zi):zi;const y=()=>{if(x.active)if(t){const l=x.run();(i||u||(m?l.some((v,S)=>pr(v,f[S])):pr(l,f)))&&(d&&d(),tt(t,o,3,[l,f===zi?void 0:m&&f[0]===zi?[]:f,_]),f=l)}else x.run()};y.allowRecurse=!!t;let C;n==="sync"?C=y:n==="post"?C=()=>Ge(y,o&&o.suspense):(y.pre=!0,o&&(y.id=o.uid),C=()=>Tn(y));const x=new Gi(h,C);t?r?y():f=x.run():n==="post"?Ge(x.run.bind(x),o&&o.suspense):x.run();const c=()=>{x.stop(),o&&o.scope&&Ns(o.scope.effects,x)};return p&&p.push(c),c}function ed(e,t,r){const i=this.proxy,n=Pe(e)?e.includes(".")?Kl(i,e):()=>i[e]:e.bind(i,i);let s;ue(t)?s=t:(s=t.handler,r=t);const a=Re;Bt(this);const o=Di(n,s.bind(i),r);return a?Bt(a):It(),o}function Kl(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function Xt(e,t){if(!xe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ie(e))Xt(e.value,t);else if(ae(e))for(let r=0;r<e.length;r++)Xt(e[r],t);else if(sr(e)||ur(e))e.forEach(r=>{Xt(r,t)});else if(ml(e))for(const r in e)Xt(e[r],t);return e}function Xs(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ui(()=>{e.isMounted=!0}),Fn(()=>{e.isUnmounting=!0}),e}const it=[Function,Array],td={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:it,onEnter:it,onAfterEnter:it,onEnterCancelled:it,onBeforeLeave:it,onLeave:it,onAfterLeave:it,onLeaveCancelled:it,onBeforeAppear:it,onAppear:it,onAfterAppear:it,onAppearCancelled:it},setup(e,{slots:t}){const r=Ht(),i=Xs();let n;return()=>{const s=t.default&&Rn(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){for(const y of s)if(y.type!==Ue){a=y;break}}const o=ye(e),{mode:h}=o;if(i.isLeaving)return qn(a);const u=Ra(a);if(!u)return qn(a);const m=mr(u,o,i,r);rr(u,m);const d=r.subTree,_=d&&Ra(d);let p=!1;const{getTransitionKey:f}=u.type;if(f){const y=f();n===void 0?n=y:y!==n&&(n=y,p=!0)}if(_&&_.type!==Ue&&(!ut(u,_)||p)){const y=mr(_,o,i,r);if(rr(_,y),h==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},qn(a);h==="in-out"&&u.type!==Ue&&(y.delayLeave=(C,x,c)=>{const l=Wl(i,_);l[String(_.key)]=_,C._leaveCb=()=>{x(),C._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=c})}return a}}},Js=td;function Wl(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function mr(e,t,r,i){const{appear:n,mode:s,persisted:a=!1,onBeforeEnter:o,onEnter:h,onAfterEnter:u,onEnterCancelled:m,onBeforeLeave:d,onLeave:_,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:y,onAppear:C,onAfterAppear:x,onAppearCancelled:c}=t,l=String(e.key),v=Wl(r,e),S=(w,A)=>{w&&tt(w,i,9,A)},P=(w,A)=>{const T=A[1];S(w,A),ae(w)?w.every(R=>R.length<=1)&&T():w.length<=1&&T()},O={mode:s,persisted:a,beforeEnter(w){let A=o;if(!r.isMounted)if(n)A=y||o;else return;w._leaveCb&&w._leaveCb(!0);const T=v[l];T&&ut(e,T)&&T.el._leaveCb&&T.el._leaveCb(),S(A,[w])},enter(w){let A=h,T=u,R=m;if(!r.isMounted)if(n)A=C||h,T=x||u,R=c||m;else return;let N=!1;const g=w._enterCb=b=>{N||(N=!0,b?S(R,[w]):S(T,[w]),O.delayedLeave&&O.delayedLeave(),w._enterCb=void 0)};A?P(A,[w,g]):g()},leave(w,A){const T=String(e.key);if(w._enterCb&&w._enterCb(!0),r.isUnmounting)return A();S(d,[w]);let R=!1;const N=w._leaveCb=g=>{R||(R=!0,A(),g?S(f,[w]):S(p,[w]),w._leaveCb=void 0,v[T]===e&&delete v[T])};v[T]=e,_?P(_,[w,N]):N()},clone(w){return mr(w,t,r,i)}};return O}function qn(e){if(Bi(e))return e=vt(e),e.children=null,e}function Ra(e){return Bi(e)?e.children?e.children[0]:void 0:e}function rr(e,t){e.shapeFlag&6&&e.component?rr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Rn(e,t=!1,r){let i=[],n=0;for(let s=0;s<e.length;s++){let a=e[s];const o=r==null?a.key:String(r)+String(a.key!=null?a.key:s);a.type===ke?(a.patchFlag&128&&n++,i=i.concat(Rn(a.children,t,o))):(t||a.type!==Ue)&&i.push(o!=null?vt(a,{key:o}):a)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Qs(e){return ue(e)?{setup:e,name:e.name}:e}const Zt=e=>!!e.type.__asyncLoader;function rd(e){ue(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:i,delay:n=200,timeout:s,suspensible:a=!0,onError:o}=e;let h=null,u,m=0;const d=()=>(m++,h=null,_()),_=()=>{let p;return h||(p=h=t().catch(f=>{if(f=f instanceof Error?f:new Error(String(f)),o)return new Promise((y,C)=>{o(f,()=>y(d()),()=>C(f),m+1)});throw f}).then(f=>p!==h&&h?h:(f&&(f.__esModule||f[Symbol.toStringTag]==="Module")&&(f=f.default),u=f,f)))};return Qs({name:"AsyncComponentWrapper",__asyncLoader:_,get __asyncResolved(){return u},setup(){const p=Re;if(u)return()=>jn(u,p);const f=c=>{h=null,ar(c,p,13,!i)};if(a&&p.suspense||_r)return _().then(c=>()=>jn(c,p)).catch(c=>(f(c),()=>i?Se(i,{error:c}):null));const y=en(!1),C=en(),x=en(!!n);return n&&setTimeout(()=>{x.value=!1},n),s!=null&&setTimeout(()=>{if(!y.value&&!C.value){const c=new Error(`Async component timed out after ${s}ms.`);f(c),C.value=c}},s),_().then(()=>{y.value=!0,p.parent&&Bi(p.parent.vnode)&&Tn(p.parent.update)}).catch(c=>{f(c),C.value=c}),()=>{if(y.value&&u)return jn(u,p);if(C.value&&i)return Se(i,{error:C.value});if(r&&!x.value)return Se(r)}}})}function jn(e,t){const{ref:r,props:i,children:n,ce:s}=t.vnode,a=Se(e,i,n);return a.ref=r,a.ce=s,delete t.vnode.ce,a}const Bi=e=>e.type.__isKeepAlive,id={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=Ht(),i=r.ctx;if(!i.renderer)return()=>{const c=t.default&&t.default();return c&&c.length===1?c[0]:c};const n=new Map,s=new Set;let a=null;const o=r.suspense,{renderer:{p:h,m:u,um:m,o:{createElement:d}}}=i,_=d("div");i.activate=(c,l,v,S,P)=>{const O=c.component;u(c,l,v,0,o),h(O.vnode,c,l,v,O,o,S,c.slotScopeIds,P),Ge(()=>{O.isDeactivated=!1,O.a&&dr(O.a);const w=c.props&&c.props.onVnodeMounted;w&&qe(w,O.parent,c)},o)},i.deactivate=c=>{const l=c.component;u(c,_,null,1,o),Ge(()=>{l.da&&dr(l.da);const v=c.props&&c.props.onVnodeUnmounted;v&&qe(v,l.parent,c),l.isDeactivated=!0},o)};function p(c){Kn(c),m(c,r,o,!0)}function f(c){n.forEach((l,v)=>{const S=ys(l.type);S&&(!c||!c(S))&&y(v)})}function y(c){const l=n.get(c);!a||!ut(l,a)?p(l):a&&Kn(a),n.delete(c),s.delete(c)}wi(()=>[e.include,e.exclude],([c,l])=>{c&&f(v=>vi(c,v)),l&&f(v=>!vi(l,v))},{flush:"post",deep:!0});let C=null;const x=()=>{C!=null&&n.set(C,Wn(r.subTree))};return Ui(x),Nn(x),Fn(()=>{n.forEach(c=>{const{subTree:l,suspense:v}=r,S=Wn(l);if(c.type===S.type&&c.key===S.key){Kn(S);const P=S.component.da;P&&Ge(P,v);return}p(c)})}),()=>{if(C=null,!t.default)return null;const c=t.default(),l=c[0];if(c.length>1)return a=null,c;if(!Dt(l)||!(l.shapeFlag&4)&&!(l.shapeFlag&128))return a=null,l;let v=Wn(l);const S=v.type,P=ys(Zt(v)?v.type.__asyncResolved||{}:S),{include:O,exclude:w,max:A}=e;if(O&&(!P||!vi(O,P))||w&&P&&vi(w,P))return a=v,l;const T=v.key==null?S:v.key,R=n.get(T);return v.el&&(v=vt(v),l.shapeFlag&128&&(l.ssContent=v)),C=T,R?(v.el=R.el,v.component=R.component,v.transition&&rr(v,v.transition),v.shapeFlag|=512,s.delete(T),s.add(T)):(s.add(T),A&&s.size>parseInt(A,10)&&y(s.values().next().value)),v.shapeFlag|=256,a=v,Vl(l.type)?l:v}}},nd=id;function vi(e,t){return ae(e)?e.some(r=>vi(r,t)):Pe(e)?e.split(",").includes(t):Uc(e)?e.test(t):!1}function zl(e,t){$l(e,"a",t)}function Yl(e,t){$l(e,"da",t)}function $l(e,t,r=Re){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(On(t,i,r),r){let n=r.parent;for(;n&&n.parent;)Bi(n.parent.vnode)&&sd(i,t,r,n),n=n.parent}}function sd(e,t,r,i){const n=On(t,e,i,!0);Mn(()=>{Ns(i[t],n)},r)}function Kn(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Wn(e){return e.shapeFlag&128?e.ssContent:e}function On(e,t,r=Re,i=!1){if(r){const n=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(r.isUnmounted)return;Sr(),Bt(r);const o=tt(t,r,e,a);return It(),wr(),o});return i?n.unshift(s):n.push(s),s}}const At=e=>(t,r=Re)=>(!_r||e==="sp")&&On(e,(...i)=>t(...i),r),Xl=At("bm"),Ui=At("m"),Jl=At("bu"),Nn=At("u"),Fn=At("bum"),Mn=At("um"),Ql=At("sp"),Zl=At("rtg"),eh=At("rtc");function th(e,t=Re){On("ec",e,t)}function ot(e,t){const r=De;if(r===null)return e;const i=Dn(r)||r.proxy,n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,o,h,u=we]=t[s];a&&(ue(a)&&(a={mounted:a,updated:a}),a.deep&&Xt(o),n.push({dir:a,instance:i,value:o,oldValue:void 0,arg:h,modifiers:u}))}return e}function gt(e,t,r,i){const n=e.dirs,s=t&&t.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let h=o.dir[i];h&&(Sr(),tt(h,r,8,[e.el,o,e,t]),wr())}}const Zs="components",ad="directives";function je(e,t){return ea(Zs,e,!0,t)||e}const rh=Symbol();function od(e){return Pe(e)?ea(Zs,e,!1)||e:e||rh}function ld(e){return ea(ad,e)}function ea(e,t,r=!0,i=!1){const n=De||Re;if(n){const s=n.type;if(e===Zs){const o=ys(s,!1);if(o&&(o===t||o===We(t)||o===Li(We(t))))return s}const a=Oa(n[e]||s[e],t)||Oa(n.appContext[e],t);return!a&&i?s:a}}function Oa(e,t){return e&&(e[t]||e[We(t)]||e[Li(We(t))])}function In(e,t,r,i){let n;const s=r&&r[i];if(ae(e)||Pe(e)){n=new Array(e.length);for(let a=0,o=e.length;a<o;a++)n[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,s&&s[a])}else if(xe(e))if(e[Symbol.iterator])n=Array.from(e,(a,o)=>t(a,o,void 0,s&&s[o]));else{const a=Object.keys(e);n=new Array(a.length);for(let o=0,h=a.length;o<h;o++){const u=a[o];n[o]=t(e[u],u,o,s&&s[o])}}else n=[];return r&&(r[i]=n),n}function hd(e,t){for(let r=0;r<t.length;r++){const i=t[r];if(ae(i))for(let n=0;n<i.length;n++)e[i[n].name]=i[n].fn;else i&&(e[i.name]=i.key?(...n)=>{const s=i.fn(...n);return s&&(s.key=i.key),s}:i.fn)}return e}function cd(e,t,r={},i,n){if(De.isCE||De.parent&&Zt(De.parent)&&De.parent.isCE)return t!=="default"&&(r.name=t),Se("slot",r,i&&i());let s=e[t];s&&s._c&&(s._d=!1),ce();const a=s&&ih(s(r)),o=ct(ke,{key:r.key||a&&a.key||`_${t}`},a||(i?i():[]),a&&e._===1?64:-2);return!n&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function ih(e){return e.some(t=>Dt(t)?!(t.type===Ue||t.type===ke&&!ih(t.children)):!0)?e:null}function ud(e,t){const r={};for(const i in e)r[t&&/[A-Z]/.test(i)?`on:${i}`:Ci(i)]=e[i];return r}const cs=e=>e?Sh(e)?Dn(e)||e.proxy:cs(e.parent):null,xi=Oe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cs(e.parent),$root:e=>cs(e.root),$emit:e=>e.emit,$options:e=>ta(e),$forceUpdate:e=>e.f||(e.f=()=>Tn(e.update)),$nextTick:e=>e.n||(e.n=Ks.bind(e.proxy)),$watch:e=>ed.bind(e)}),zn=(e,t)=>e!==we&&!e.__isScriptSetup&&Ce(e,t),us={get({_:e},t){const{ctx:r,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:h}=e;let u;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return s[t]}else{if(zn(i,t))return a[t]=1,i[t];if(n!==we&&Ce(n,t))return a[t]=2,n[t];if((u=e.propsOptions[0])&&Ce(u,t))return a[t]=3,s[t];if(r!==we&&Ce(r,t))return a[t]=4,r[t];ds&&(a[t]=0)}}const m=xi[t];let d,_;if(m)return t==="$attrs"&&ze(e,"get",t),m(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(r!==we&&Ce(r,t))return a[t]=4,r[t];if(_=h.config.globalProperties,Ce(_,t))return _[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:s}=e;return zn(n,t)?(n[t]=r,!0):i!==we&&Ce(i,t)?(i[t]=r,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:s}},a){let o;return!!r[a]||e!==we&&Ce(e,a)||zn(t,a)||(o=s[0])&&Ce(o,a)||Ce(i,a)||Ce(xi,a)||Ce(n.config.globalProperties,a)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ce(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},dd=Oe({},us,{get(e,t){if(t!==Symbol.unscopables)return us.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Ac(t)}});let ds=!0;function fd(e){const t=ta(e),r=e.proxy,i=e.ctx;ds=!1,t.beforeCreate&&Na(t.beforeCreate,e,"bc");const{data:n,computed:s,methods:a,watch:o,provide:h,inject:u,created:m,beforeMount:d,mounted:_,beforeUpdate:p,updated:f,activated:y,deactivated:C,beforeDestroy:x,beforeUnmount:c,destroyed:l,unmounted:v,render:S,renderTracked:P,renderTriggered:O,errorCaptured:w,serverPrefetch:A,expose:T,inheritAttrs:R,components:N,directives:g,filters:b}=t;if(u&&gd(u,i,null,e.appContext.config.unwrapInjectedRef),a)for(const M in a){const L=a[M];ue(L)&&(i[M]=L.bind(r))}if(n){const M=n.call(r,r);xe(M)&&(e.data=xr(M))}if(ds=!0,s)for(const M in s){const L=s[M],G=ue(L)?L.bind(r,r):ue(L.get)?L.get.bind(r,r):dt,B=!ue(L)&&ue(L.set)?L.set.bind(r):dt,K=Eh({get:G,set:B});Object.defineProperty(i,M,{enumerable:!0,configurable:!0,get:()=>K.value,set:X=>K.value=X})}if(o)for(const M in o)nh(o[M],i,r,M);if(h){const M=ue(h)?h.call(r):h;Reflect.ownKeys(M).forEach(L=>{ql(L,M[L])})}m&&Na(m,e,"c");function k(M,L){ae(L)?L.forEach(G=>M(G.bind(r))):L&&M(L.bind(r))}if(k(Xl,d),k(Ui,_),k(Jl,p),k(Nn,f),k(zl,y),k(Yl,C),k(th,w),k(eh,P),k(Zl,O),k(Fn,c),k(Mn,v),k(Ql,A),ae(T))if(T.length){const M=e.exposed||(e.exposed={});T.forEach(L=>{Object.defineProperty(M,L,{get:()=>r[L],set:G=>r[L]=G})})}else e.exposed||(e.exposed={});S&&e.render===dt&&(e.render=S),R!=null&&(e.inheritAttrs=R),N&&(e.components=N),g&&(e.directives=g)}function gd(e,t,r=dt,i=!1){ae(e)&&(e=fs(e));for(const n in e){const s=e[n];let a;xe(s)?"default"in s?a=Si(s.from||n,s.default,!0):a=Si(s.from||n):a=Si(s),Ie(a)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[n]=a}}function Na(e,t,r){tt(ae(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function nh(e,t,r,i){const n=i.includes(".")?Kl(r,i):()=>r[i];if(Pe(e)){const s=t[e];ue(s)&&wi(n,s)}else if(ue(e))wi(n,e.bind(r));else if(xe(e))if(ae(e))e.forEach(s=>nh(s,t,r,i));else{const s=ue(e.handler)?e.handler.bind(r):t[e.handler];ue(s)&&wi(n,s,e)}}function ta(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let h;return o?h=o:!n.length&&!r&&!i?h=t:(h={},n.length&&n.forEach(u=>fn(h,u,a,!0)),fn(h,t,a)),xe(t)&&s.set(t,h),h}function fn(e,t,r,i=!1){const{mixins:n,extends:s}=t;s&&fn(e,s,r,!0),n&&n.forEach(a=>fn(e,a,r,!0));for(const a in t)if(!(i&&a==="expose")){const o=pd[a]||r&&r[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const pd={data:Fa,props:zt,emits:zt,methods:zt,computed:zt,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:zt,directives:zt,watch:_d,provide:Fa,inject:md};function Fa(e,t){return t?e?function(){return Oe(ue(e)?e.call(this,this):e,ue(t)?t.call(this,this):t)}:t:e}function md(e,t){return zt(fs(e),fs(t))}function fs(e){if(ae(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function zt(e,t){return e?Oe(Oe(Object.create(null),e),t):t}function _d(e,t){if(!e)return t;if(!t)return e;const r=Oe(Object.create(null),e);for(const i in t)r[i]=Ve(e[i],t[i]);return r}function vd(e,t,r,i=!1){const n={},s={};ln(s,Ln,1),e.propsDefaults=Object.create(null),sh(e,t,n,s);for(const a in e.propsOptions[0])a in n||(n[a]=void 0);r?e.props=i?n:Ol(n):e.type.props?e.props=n:e.props=s,e.attrs=s}function yd(e,t,r,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=e,o=ye(n),[h]=e.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const m=e.vnode.dynamicProps;for(let d=0;d<m.length;d++){let _=m[d];if(En(e.emitsOptions,_))continue;const p=t[_];if(h)if(Ce(s,_))p!==s[_]&&(s[_]=p,u=!0);else{const f=We(_);n[f]=gs(h,o,f,p,e,!1)}else p!==s[_]&&(s[_]=p,u=!0)}}}else{sh(e,t,n,s)&&(u=!0);let m;for(const d in o)(!t||!Ce(t,d)&&((m=st(d))===d||!Ce(t,m)))&&(h?r&&(r[d]!==void 0||r[m]!==void 0)&&(n[d]=gs(h,o,d,void 0,e,!0)):delete n[d]);if(s!==o)for(const d in s)(!t||!Ce(t,d))&&(delete s[d],u=!0)}u&&Pt(e,"set","$attrs")}function sh(e,t,r,i){const[n,s]=e.propsOptions;let a=!1,o;if(t)for(let h in t){if(bi(h))continue;const u=t[h];let m;n&&Ce(n,m=We(h))?!s||!s.includes(m)?r[m]=u:(o||(o={}))[m]=u:En(e.emitsOptions,h)||(!(h in i)||u!==i[h])&&(i[h]=u,a=!0)}if(s){const h=ye(r),u=o||we;for(let m=0;m<s.length;m++){const d=s[m];r[d]=gs(n,h,d,u[d],e,!Ce(u,d))}}return a}function gs(e,t,r,i,n,s){const a=e[r];if(a!=null){const o=Ce(a,"default");if(o&&i===void 0){const h=a.default;if(a.type!==Function&&ue(h)){const{propsDefaults:u}=n;r in u?i=u[r]:(Bt(n),i=u[r]=h.call(null,t),It())}else i=h}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===st(r))&&(i=!0))}return i}function ah(e,t,r=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const s=e.props,a={},o=[];let h=!1;if(!ue(e)){const m=d=>{h=!0;const[_,p]=ah(d,t,!0);Oe(a,_),p&&o.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!s&&!h)return xe(e)&&i.set(e,cr),cr;if(ae(s))for(let m=0;m<s.length;m++){const d=We(s[m]);Ma(d)&&(a[d]=we)}else if(s)for(const m in s){const d=We(m);if(Ma(d)){const _=s[m],p=a[d]=ae(_)||ue(_)?{type:_}:Object.assign({},_);if(p){const f=Ga(Boolean,p.type),y=Ga(String,p.type);p[0]=f>-1,p[1]=y<0||f<y,(f>-1||Ce(p,"default"))&&o.push(d)}}}const u=[a,o];return xe(e)&&i.set(e,u),u}function Ma(e){return e[0]!=="$"}function Ia(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function La(e,t){return Ia(e)===Ia(t)}function Ga(e,t){return ae(t)?t.findIndex(r=>La(r,e)):ue(t)&&La(t,e)?0:-1}const oh=e=>e[0]==="_"||e==="$stable",ra=e=>ae(e)?e.map(Ze):[Ze(e)],bd=(e,t,r)=>{if(t._n)return t;const i=zs((...n)=>ra(t(...n)),r);return i._c=!1,i},lh=(e,t,r)=>{const i=e._ctx;for(const n in e){if(oh(n))continue;const s=e[n];if(ue(s))t[n]=bd(n,s,i);else if(s!=null){const a=ra(s);t[n]=()=>a}}},hh=(e,t)=>{const r=ra(t);e.slots.default=()=>r},Cd=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ye(t),ln(t,"_",r)):lh(t,e.slots={})}else e.slots={},t&&hh(e,t);ln(e.slots,Ln,1)},Sd=(e,t,r)=>{const{vnode:i,slots:n}=e;let s=!0,a=we;if(i.shapeFlag&32){const o=t._;o?r&&o===1?s=!1:(Oe(n,t),!r&&o===1&&delete n._):(s=!t.$stable,lh(t,n)),a=t}else t&&(hh(e,t),a={default:1});if(s)for(const o in n)!oh(o)&&!(o in a)&&delete n[o]};function ch(){return{app:null,config:{isNativeTag:Gc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wd=0;function xd(e,t){return function(i,n=null){ue(i)||(i=Object.assign({},i)),n!=null&&!xe(n)&&(n=null);const s=ch(),a=new Set;let o=!1;const h=s.app={_uid:wd++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Nh,get config(){return s.config},set config(u){},use(u,...m){return a.has(u)||(u&&ue(u.install)?(a.add(u),u.install(h,...m)):ue(u)&&(a.add(u),u(h,...m))),h},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),h},component(u,m){return m?(s.components[u]=m,h):s.components[u]},directive(u,m){return m?(s.directives[u]=m,h):s.directives[u]},mount(u,m,d){if(!o){const _=Se(i,n);return _.appContext=s,m&&t?t(_,u):e(_,u,d),o=!0,h._container=u,u.__vue_app__=h,Dn(_.component)||_.component.proxy}},unmount(){o&&(e(null,h._container),delete h._container.__vue_app__)},provide(u,m){return s.provides[u]=m,h}};return h}}function gn(e,t,r,i,n=!1){if(ae(e)){e.forEach((_,p)=>gn(_,t&&(ae(t)?t[p]:t),r,i,n));return}if(Zt(i)&&!n)return;const s=i.shapeFlag&4?Dn(i.component)||i.component.proxy:i.el,a=n?null:s,{i:o,r:h}=e,u=t&&t.r,m=o.refs===we?o.refs={}:o.refs,d=o.setupState;if(u!=null&&u!==h&&(Pe(u)?(m[u]=null,Ce(d,u)&&(d[u]=null)):Ie(u)&&(u.value=null)),ue(h))Et(h,o,12,[a,m]);else{const _=Pe(h),p=Ie(h);if(_||p){const f=()=>{if(e.f){const y=_?Ce(d,h)?d[h]:m[h]:h.value;n?ae(y)&&Ns(y,s):ae(y)?y.includes(s)||y.push(s):_?(m[h]=[s],Ce(d,h)&&(d[h]=m[h])):(h.value=[s],e.k&&(m[e.k]=h.value))}else _?(m[h]=a,Ce(d,h)&&(d[h]=a)):p&&(h.value=a,e.k&&(m[e.k]=a))};a?(f.id=-1,Ge(f,r)):f()}}}let Rt=!1;const Yi=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",$i=e=>e.nodeType===8;function Td(e){const{mt:t,p:r,o:{patchProp:i,createText:n,nextSibling:s,parentNode:a,remove:o,insert:h,createComment:u}}=e,m=(x,c)=>{if(!c.hasChildNodes()){r(null,x,c),dn(),c._vnode=x;return}Rt=!1,d(c.firstChild,x,null,null,null),dn(),c._vnode=x,Rt&&console.error("Hydration completed but contains mismatches.")},d=(x,c,l,v,S,P=!1)=>{const O=$i(x)&&x.data==="[",w=()=>y(x,c,l,v,S,O),{type:A,ref:T,shapeFlag:R,patchFlag:N}=c;let g=x.nodeType;c.el=x,N===-2&&(P=!1,c.dynamicChildren=null);let b=null;switch(A){case ir:g!==3?c.children===""?(h(c.el=n(""),a(x),x),b=x):b=w():(x.data!==c.children&&(Rt=!0,x.data=c.children),b=s(x));break;case Ue:g!==8||O?b=w():b=s(x);break;case er:if(O&&(x=s(x),g=x.nodeType),g===1||g===3){b=x;const E=!c.children.length;for(let k=0;k<c.staticCount;k++)E&&(c.children+=b.nodeType===1?b.outerHTML:b.data),k===c.staticCount-1&&(c.anchor=b),b=s(b);return O?s(b):b}else w();break;case ke:O?b=f(x,c,l,v,S,P):b=w();break;default:if(R&1)g!==1||c.type.toLowerCase()!==x.tagName.toLowerCase()?b=w():b=_(x,c,l,v,S,P);else if(R&6){c.slotScopeIds=S;const E=a(x);if(t(c,E,null,l,v,Yi(E),P),b=O?C(x):s(x),b&&$i(b)&&b.data==="teleport end"&&(b=s(b)),Zt(c)){let k;O?(k=Se(ke),k.anchor=b?b.previousSibling:E.lastChild):k=x.nodeType===3?Gn(""):Se("div"),k.el=x,c.component.subTree=k}}else R&64?g!==8?b=w():b=c.type.hydrate(x,c,l,v,S,P,e,p):R&128&&(b=c.type.hydrate(x,c,l,v,Yi(a(x)),S,P,e,d))}return T!=null&&gn(T,null,v,c),b},_=(x,c,l,v,S,P)=>{P=P||!!c.dynamicChildren;const{type:O,props:w,patchFlag:A,shapeFlag:T,dirs:R}=c,N=O==="input"&&R||O==="option";if(N||A!==-1){if(R&&gt(c,null,l,"created"),w)if(N||!P||A&48)for(const b in w)(N&&b.endsWith("value")||Ii(b)&&!bi(b))&&i(x,b,null,w[b],!1,void 0,l);else w.onClick&&i(x,"onClick",null,w.onClick,!1,void 0,l);let g;if((g=w&&w.onVnodeBeforeMount)&&qe(g,l,c),R&&gt(c,null,l,"beforeMount"),((g=w&&w.onVnodeMounted)||R)&&Hl(()=>{g&&qe(g,l,c),R&&gt(c,null,l,"mounted")},v),T&16&&!(w&&(w.innerHTML||w.textContent))){let b=p(x.firstChild,c,x,l,v,S,P);for(;b;){Rt=!0;const E=b;b=b.nextSibling,o(E)}}else T&8&&x.textContent!==c.children&&(Rt=!0,x.textContent=c.children)}return x.nextSibling},p=(x,c,l,v,S,P,O)=>{O=O||!!c.dynamicChildren;const w=c.children,A=w.length;for(let T=0;T<A;T++){const R=O?w[T]:w[T]=Ze(w[T]);if(x)x=d(x,R,v,S,P,O);else{if(R.type===ir&&!R.children)continue;Rt=!0,r(null,R,l,null,v,S,Yi(l),P)}}return x},f=(x,c,l,v,S,P)=>{const{slotScopeIds:O}=c;O&&(S=S?S.concat(O):O);const w=a(x),A=p(s(x),c,w,l,v,S,P);return A&&$i(A)&&A.data==="]"?s(c.anchor=A):(Rt=!0,h(c.anchor=u("]"),w,A),A)},y=(x,c,l,v,S,P)=>{if(Rt=!0,c.el=null,P){const A=C(x);for(;;){const T=s(x);if(T&&T!==A)o(T);else break}}const O=s(x),w=a(x);return o(x),r(null,c,w,O,l,v,Yi(w),S),O},C=x=>{let c=0;for(;x;)if(x=s(x),x&&$i(x)&&(x.data==="["&&c++,x.data==="]")){if(c===0)return s(x);c--}return x};return[m,d]}const Ge=Hl;function uh(e){return fh(e)}function dh(e){return fh(e,Td)}function fh(e,t){const r=jc();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:h,setText:u,setElementText:m,parentNode:d,nextSibling:_,setScopeId:p=dt,insertStaticContent:f}=e,y=(F,D,V,H=null,q=null,j=null,J=!1,$=null,Q=!!D.dynamicChildren)=>{if(F===D)return;F&&!ut(F,D)&&(H=I(F),X(F,q,j,!0),F=null),D.patchFlag===-2&&(Q=!1,D.dynamicChildren=null);const{type:W,ref:ne,shapeFlag:Z}=D;switch(W){case ir:C(F,D,V,H);break;case Ue:x(F,D,V,H);break;case er:F==null&&c(D,V,H,J);break;case ke:N(F,D,V,H,q,j,J,$,Q);break;default:Z&1?S(F,D,V,H,q,j,J,$,Q):Z&6?g(F,D,V,H,q,j,J,$,Q):(Z&64||Z&128)&&W.process(F,D,V,H,q,j,J,$,Q,Y)}ne!=null&&q&&gn(ne,F&&F.ref,j,D||F,!D)},C=(F,D,V,H)=>{if(F==null)i(D.el=o(D.children),V,H);else{const q=D.el=F.el;D.children!==F.children&&u(q,D.children)}},x=(F,D,V,H)=>{F==null?i(D.el=h(D.children||""),V,H):D.el=F.el},c=(F,D,V,H)=>{[F.el,F.anchor]=f(F.children,D,V,H,F.el,F.anchor)},l=({el:F,anchor:D},V,H)=>{let q;for(;F&&F!==D;)q=_(F),i(F,V,H),F=q;i(D,V,H)},v=({el:F,anchor:D})=>{let V;for(;F&&F!==D;)V=_(F),n(F),F=V;n(D)},S=(F,D,V,H,q,j,J,$,Q)=>{J=J||D.type==="svg",F==null?P(D,V,H,q,j,J,$,Q):A(F,D,q,j,J,$,Q)},P=(F,D,V,H,q,j,J,$)=>{let Q,W;const{type:ne,props:Z,shapeFlag:se,transition:le,dirs:de}=F;if(Q=F.el=a(F.type,j,Z&&Z.is,Z),se&8?m(Q,F.children):se&16&&w(F.children,Q,null,H,q,j&&ne!=="foreignObject",J,$),de&&gt(F,null,H,"created"),O(Q,F,F.scopeId,J,H),Z){for(const pe in Z)pe!=="value"&&!bi(pe)&&s(Q,pe,null,Z[pe],j,F.children,H,q,ie);"value"in Z&&s(Q,"value",null,Z.value),(W=Z.onVnodeBeforeMount)&&qe(W,H,F)}de&&gt(F,null,H,"beforeMount");const be=(!q||q&&!q.pendingBranch)&&le&&!le.persisted;be&&le.beforeEnter(Q),i(Q,D,V),((W=Z&&Z.onVnodeMounted)||be||de)&&Ge(()=>{W&&qe(W,H,F),be&&le.enter(Q),de&&gt(F,null,H,"mounted")},q)},O=(F,D,V,H,q)=>{if(V&&p(F,V),H)for(let j=0;j<H.length;j++)p(F,H[j]);if(q){let j=q.subTree;if(D===j){const J=q.vnode;O(F,J,J.scopeId,J.slotScopeIds,q.parent)}}},w=(F,D,V,H,q,j,J,$,Q=0)=>{for(let W=Q;W<F.length;W++){const ne=F[W]=$?Ft(F[W]):Ze(F[W]);y(null,ne,D,V,H,q,j,J,$)}},A=(F,D,V,H,q,j,J)=>{const $=D.el=F.el;let{patchFlag:Q,dynamicChildren:W,dirs:ne}=D;Q|=F.patchFlag&16;const Z=F.props||we,se=D.props||we;let le;V&&qt(V,!1),(le=se.onVnodeBeforeUpdate)&&qe(le,V,D,F),ne&&gt(D,F,V,"beforeUpdate"),V&&qt(V,!0);const de=q&&D.type!=="foreignObject";if(W?T(F.dynamicChildren,W,$,V,H,de,j):J||L(F,D,$,null,V,H,de,j,!1),Q>0){if(Q&16)R($,D,Z,se,V,H,q);else if(Q&2&&Z.class!==se.class&&s($,"class",null,se.class,q),Q&4&&s($,"style",Z.style,se.style,q),Q&8){const be=D.dynamicProps;for(let pe=0;pe<be.length;pe++){const Ae=be[pe],$e=Z[Ae],rt=se[Ae];(rt!==$e||Ae==="value")&&s($,Ae,$e,rt,q,F.children,V,H,ie)}}Q&1&&F.children!==D.children&&m($,D.children)}else!J&&W==null&&R($,D,Z,se,V,H,q);((le=se.onVnodeUpdated)||ne)&&Ge(()=>{le&&qe(le,V,D,F),ne&&gt(D,F,V,"updated")},H)},T=(F,D,V,H,q,j,J)=>{for(let $=0;$<D.length;$++){const Q=F[$],W=D[$],ne=Q.el&&(Q.type===ke||!ut(Q,W)||Q.shapeFlag&70)?d(Q.el):V;y(Q,W,ne,null,H,q,j,J,!0)}},R=(F,D,V,H,q,j,J)=>{if(V!==H){if(V!==we)for(const $ in V)!bi($)&&!($ in H)&&s(F,$,V[$],null,J,D.children,q,j,ie);for(const $ in H){if(bi($))continue;const Q=H[$],W=V[$];Q!==W&&$!=="value"&&s(F,$,W,Q,J,D.children,q,j,ie)}"value"in H&&s(F,"value",V.value,H.value)}},N=(F,D,V,H,q,j,J,$,Q)=>{const W=D.el=F?F.el:o(""),ne=D.anchor=F?F.anchor:o("");let{patchFlag:Z,dynamicChildren:se,slotScopeIds:le}=D;le&&($=$?$.concat(le):le),F==null?(i(W,V,H),i(ne,V,H),w(D.children,V,ne,q,j,J,$,Q)):Z>0&&Z&64&&se&&F.dynamicChildren?(T(F.dynamicChildren,se,V,q,j,J,$),(D.key!=null||q&&D===q.subTree)&&ia(F,D,!0)):L(F,D,V,ne,q,j,J,$,Q)},g=(F,D,V,H,q,j,J,$,Q)=>{D.slotScopeIds=$,F==null?D.shapeFlag&512?q.ctx.activate(D,V,H,J,Q):b(D,V,H,q,j,J,Q):E(F,D,Q)},b=(F,D,V,H,q,j,J)=>{const $=F.component=Ch(F,H,q);if(Bi(F)&&($.ctx.renderer=Y),wh($),$.asyncDep){if(q&&q.registerDep($,k),!F.el){const Q=$.subTree=Se(Ue);x(null,Q,D,V)}return}k($,F,D,V,q,j,J)},E=(F,D,V)=>{const H=D.component=F.component;if(Ku(F,D,V))if(H.asyncDep&&!H.asyncResolved){M(H,D,V);return}else H.next=D,Du(H.update),H.update();else D.el=F.el,H.vnode=D},k=(F,D,V,H,q,j,J)=>{const $=()=>{if(F.isMounted){let{next:ne,bu:Z,u:se,parent:le,vnode:de}=F,be=ne,pe;qt(F,!1),ne?(ne.el=de.el,M(F,ne,J)):ne=de,Z&&dr(Z),(pe=ne.props&&ne.props.onVnodeBeforeUpdate)&&qe(pe,le,ne,de),qt(F,!0);const Ae=tn(F),$e=F.subTree;F.subTree=Ae,y($e,Ae,d($e.el),I($e),F,q,j),ne.el=Ae.el,be===null&&Ys(F,Ae.el),se&&Ge(se,q),(pe=ne.props&&ne.props.onVnodeUpdated)&&Ge(()=>qe(pe,le,ne,de),q)}else{let ne;const{el:Z,props:se}=D,{bm:le,m:de,parent:be}=F,pe=Zt(D);if(qt(F,!1),le&&dr(le),!pe&&(ne=se&&se.onVnodeBeforeMount)&&qe(ne,be,D),qt(F,!0),Z&&oe){const Ae=()=>{F.subTree=tn(F),oe(Z,F.subTree,F,q,null)};pe?D.type.__asyncLoader().then(()=>!F.isUnmounted&&Ae()):Ae()}else{const Ae=F.subTree=tn(F);y(null,Ae,V,H,F,q,j),D.el=Ae.el}if(de&&Ge(de,q),!pe&&(ne=se&&se.onVnodeMounted)){const Ae=D;Ge(()=>qe(ne,be,Ae),q)}(D.shapeFlag&256||be&&Zt(be.vnode)&&be.vnode.shapeFlag&256)&&F.a&&Ge(F.a,q),F.isMounted=!0,D=V=H=null}},Q=F.effect=new Gi($,()=>Tn(W),F.scope),W=F.update=()=>Q.run();W.id=F.uid,qt(F,!0),W()},M=(F,D,V)=>{D.component=F;const H=F.vnode.props;F.vnode=D,F.next=null,yd(F,D.props,H,V),Sd(F,D.children,V),Sr(),Pa(),wr()},L=(F,D,V,H,q,j,J,$,Q=!1)=>{const W=F&&F.children,ne=F?F.shapeFlag:0,Z=D.children,{patchFlag:se,shapeFlag:le}=D;if(se>0){if(se&128){B(W,Z,V,H,q,j,J,$,Q);return}else if(se&256){G(W,Z,V,H,q,j,J,$,Q);return}}le&8?(ne&16&&ie(W,q,j),Z!==W&&m(V,Z)):ne&16?le&16?B(W,Z,V,H,q,j,J,$,Q):ie(W,q,j,!0):(ne&8&&m(V,""),le&16&&w(Z,V,H,q,j,J,$,Q))},G=(F,D,V,H,q,j,J,$,Q)=>{F=F||cr,D=D||cr;const W=F.length,ne=D.length,Z=Math.min(W,ne);let se;for(se=0;se<Z;se++){const le=D[se]=Q?Ft(D[se]):Ze(D[se]);y(F[se],le,V,null,q,j,J,$,Q)}W>ne?ie(F,q,j,!0,!1,Z):w(D,V,H,q,j,J,$,Q,Z)},B=(F,D,V,H,q,j,J,$,Q)=>{let W=0;const ne=D.length;let Z=F.length-1,se=ne-1;for(;W<=Z&&W<=se;){const le=F[W],de=D[W]=Q?Ft(D[W]):Ze(D[W]);if(ut(le,de))y(le,de,V,null,q,j,J,$,Q);else break;W++}for(;W<=Z&&W<=se;){const le=F[Z],de=D[se]=Q?Ft(D[se]):Ze(D[se]);if(ut(le,de))y(le,de,V,null,q,j,J,$,Q);else break;Z--,se--}if(W>Z){if(W<=se){const le=se+1,de=le<ne?D[le].el:H;for(;W<=se;)y(null,D[W]=Q?Ft(D[W]):Ze(D[W]),V,de,q,j,J,$,Q),W++}}else if(W>se)for(;W<=Z;)X(F[W],q,j,!0),W++;else{const le=W,de=W,be=new Map;for(W=de;W<=se;W++){const Xe=D[W]=Q?Ft(D[W]):Ze(D[W]);Xe.key!=null&&be.set(Xe.key,W)}let pe,Ae=0;const $e=se-de+1;let rt=!1,pa=0;const Er=new Array($e);for(W=0;W<$e;W++)Er[W]=0;for(W=le;W<=Z;W++){const Xe=F[W];if(Ae>=$e){X(Xe,q,j,!0);continue}let ft;if(Xe.key!=null)ft=be.get(Xe.key);else for(pe=de;pe<=se;pe++)if(Er[pe-de]===0&&ut(Xe,D[pe])){ft=pe;break}ft===void 0?X(Xe,q,j,!0):(Er[ft-de]=W+1,ft>=pa?pa=ft:rt=!0,y(Xe,D[ft],V,null,q,j,J,$,Q),Ae++)}const ma=rt?Ed(Er):cr;for(pe=ma.length-1,W=$e-1;W>=0;W--){const Xe=de+W,ft=D[Xe],_a=Xe+1<ne?D[Xe+1].el:H;Er[W]===0?y(null,ft,V,_a,q,j,J,$,Q):rt&&(pe<0||W!==ma[pe]?K(ft,V,_a,2):pe--)}}},K=(F,D,V,H,q=null)=>{const{el:j,type:J,transition:$,children:Q,shapeFlag:W}=F;if(W&6){K(F.component.subTree,D,V,H);return}if(W&128){F.suspense.move(D,V,H);return}if(W&64){J.move(F,D,V,Y);return}if(J===ke){i(j,D,V);for(let Z=0;Z<Q.length;Z++)K(Q[Z],D,V,H);i(F.anchor,D,V);return}if(J===er){l(F,D,V);return}if(H!==2&&W&1&&$)if(H===0)$.beforeEnter(j),i(j,D,V),Ge(()=>$.enter(j),q);else{const{leave:Z,delayLeave:se,afterLeave:le}=$,de=()=>i(j,D,V),be=()=>{Z(j,()=>{de(),le&&le()})};se?se(j,de,be):be()}else i(j,D,V)},X=(F,D,V,H=!1,q=!1)=>{const{type:j,props:J,ref:$,children:Q,dynamicChildren:W,shapeFlag:ne,patchFlag:Z,dirs:se}=F;if($!=null&&gn($,null,V,F,!0),ne&256){D.ctx.deactivate(F);return}const le=ne&1&&se,de=!Zt(F);let be;if(de&&(be=J&&J.onVnodeBeforeUnmount)&&qe(be,D,F),ne&6)re(F.component,V,H);else{if(ne&128){F.suspense.unmount(V,H);return}le&&gt(F,null,D,"beforeUnmount"),ne&64?F.type.remove(F,D,V,q,Y,H):W&&(j!==ke||Z>0&&Z&64)?ie(W,D,V,!1,!0):(j===ke&&Z&384||!q&&ne&16)&&ie(Q,D,V),H&&z(F)}(de&&(be=J&&J.onVnodeUnmounted)||le)&&Ge(()=>{be&&qe(be,D,F),le&&gt(F,null,D,"unmounted")},V)},z=F=>{const{type:D,el:V,anchor:H,transition:q}=F;if(D===ke){te(V,H);return}if(D===er){v(F);return}const j=()=>{n(V),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(F.shapeFlag&1&&q&&!q.persisted){const{leave:J,delayLeave:$}=q,Q=()=>J(V,j);$?$(F.el,j,Q):Q()}else j()},te=(F,D)=>{let V;for(;F!==D;)V=_(F),n(F),F=V;n(D)},re=(F,D,V)=>{const{bum:H,scope:q,update:j,subTree:J,um:$}=F;H&&dr(H),q.stop(),j&&(j.active=!1,X(J,F,D,V)),$&&Ge($,D),Ge(()=>{F.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},ie=(F,D,V,H=!1,q=!1,j=0)=>{for(let J=j;J<F.length;J++)X(F[J],D,V,H,q)},I=F=>F.shapeFlag&6?I(F.component.subTree):F.shapeFlag&128?F.suspense.next():_(F.anchor||F.el),U=(F,D,V)=>{F==null?D._vnode&&X(D._vnode,null,null,!0):y(D._vnode||null,F,D,null,null,null,V),Pa(),dn(),D._vnode=F},Y={p:y,um:X,m:K,r:z,mt:b,mc:w,pc:L,pbc:T,n:I,o:e};let he,oe;return t&&([he,oe]=t(Y)),{render:U,hydrate:he,createApp:xd(U,he)}}function qt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function ia(e,t,r=!1){const i=e.children,n=t.children;if(ae(i)&&ae(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=Ft(n[s]),o.el=a.el),r||ia(a,o)),o.type===ir&&(o.el=a.el)}}function Ed(e){const t=e.slice(),r=[0];let i,n,s,a,o;const h=e.length;for(i=0;i<h;i++){const u=e[i];if(u!==0){if(n=r[r.length-1],e[n]<u){t[i]=n,r.push(i);continue}for(s=0,a=r.length-1;s<a;)o=s+a>>1,e[r[o]]<u?s=o+1:a=o;u<e[r[s]]&&(s>0&&(t[i]=r[s-1]),r[s]=i)}}for(s=r.length,a=r[s-1];s-- >0;)r[s]=a,a=t[a];return r}const Pd=e=>e.__isTeleport,Ti=e=>e&&(e.disabled||e.disabled===""),Da=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ps=(e,t)=>{const r=e&&e.to;return Pe(r)?t?t(r):null:r},Ad={__isTeleport:!0,process(e,t,r,i,n,s,a,o,h,u){const{mc:m,pc:d,pbc:_,o:{insert:p,querySelector:f,createText:y,createComment:C}}=u,x=Ti(t.props);let{shapeFlag:c,children:l,dynamicChildren:v}=t;if(e==null){const S=t.el=y(""),P=t.anchor=y("");p(S,r,i),p(P,r,i);const O=t.target=ps(t.props,f),w=t.targetAnchor=y("");O&&(p(w,O),a=a||Da(O));const A=(T,R)=>{c&16&&m(l,T,R,n,s,a,o,h)};x?A(r,P):O&&A(O,w)}else{t.el=e.el;const S=t.anchor=e.anchor,P=t.target=e.target,O=t.targetAnchor=e.targetAnchor,w=Ti(e.props),A=w?r:P,T=w?S:O;if(a=a||Da(P),v?(_(e.dynamicChildren,v,A,n,s,a,o),ia(e,t,!0)):h||d(e,t,A,T,n,s,a,o,!1),x)w||Xi(t,r,S,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=ps(t.props,f);R&&Xi(t,R,null,u,0)}else w&&Xi(t,P,O,u,1)}gh(t)},remove(e,t,r,i,{um:n,o:{remove:s}},a){const{shapeFlag:o,children:h,anchor:u,targetAnchor:m,target:d,props:_}=e;if(d&&s(m),(a||!Ti(_))&&(s(u),o&16))for(let p=0;p<h.length;p++){const f=h[p];n(f,t,r,!0,!!f.dynamicChildren)}},move:Xi,hydrate:kd};function Xi(e,t,r,{o:{insert:i},m:n},s=2){s===0&&i(e.targetAnchor,t,r);const{el:a,anchor:o,shapeFlag:h,children:u,props:m}=e,d=s===2;if(d&&i(a,t,r),(!d||Ti(m))&&h&16)for(let _=0;_<u.length;_++)n(u[_],t,r,2);d&&i(o,t,r)}function kd(e,t,r,i,n,s,{o:{nextSibling:a,parentNode:o,querySelector:h}},u){const m=t.target=ps(t.props,h);if(m){const d=m._lpa||m.firstChild;if(t.shapeFlag&16)if(Ti(t.props))t.anchor=u(a(e),t,o(e),r,i,n,s),t.targetAnchor=d;else{t.anchor=a(e);let _=d;for(;_;)if(_=a(_),_&&_.nodeType===8&&_.data==="teleport anchor"){t.targetAnchor=_,m._lpa=t.targetAnchor&&a(t.targetAnchor);break}u(d,t,m,r,i,n,s)}gh(t)}return t.anchor&&a(t.anchor)}const Rd=Ad;function gh(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const ke=Symbol(void 0),ir=Symbol(void 0),Ue=Symbol(void 0),er=Symbol(void 0),Ei=[];let Ke=null;function ce(e=!1){Ei.push(Ke=e?null:[])}function ph(){Ei.pop(),Ke=Ei[Ei.length-1]||null}let nr=1;function ms(e){nr+=e}function mh(e){return e.dynamicChildren=nr>0?Ke||cr:null,ph(),nr>0&&Ke&&Ke.push(e),e}function fe(e,t,r,i,n,s){return mh(ee(e,t,r,i,n,s,!0))}function ct(e,t,r,i,n){return mh(Se(e,t,r,i,n,!0))}function Dt(e){return e?e.__v_isVNode===!0:!1}function ut(e,t){return e.type===t.type&&e.key===t.key}function Od(e){}const Ln="__vInternal",_h=({key:e})=>e??null,rn=({ref:e,ref_key:t,ref_for:r})=>e!=null?Pe(e)||Ie(e)||ue(e)?{i:De,r:e,k:t,f:!!r}:e:null;function ee(e,t=null,r=null,i=0,n=null,s=e===ke?0:1,a=!1,o=!1){const h={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_h(t),ref:t&&rn(t),scopeId:Pn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:De};return o?(na(h,r),s&128&&e.normalize(h)):r&&(h.shapeFlag|=Pe(r)?8:16),nr>0&&!a&&Ke&&(h.patchFlag>0||s&6)&&h.patchFlag!==32&&Ke.push(h),h}const Se=Nd;function Nd(e,t=null,r=null,i=0,n=null,s=!1){if((!e||e===rh)&&(e=Ue),Dt(e)){const o=vt(e,t,!0);return r&&na(o,r),nr>0&&!s&&Ke&&(o.shapeFlag&6?Ke[Ke.indexOf(e)]=o:Ke.push(o)),o.patchFlag|=-2,o}if(Bd(e)&&(e=e.__vccOpts),t){t=vh(t);let{class:o,style:h}=t;o&&!Pe(o)&&(t.class=br(o)),xe(h)&&(Bs(h)&&!ae(h)&&(h=Oe({},h)),t.style=yr(h))}const a=Pe(e)?1:Vl(e)?128:Pd(e)?64:xe(e)?4:ue(e)?2:0;return ee(e,t,r,i,n,a,s,!0)}function vh(e){return e?Bs(e)||Ln in e?Oe({},e):e:null}function vt(e,t,r=!1){const{props:i,ref:n,patchFlag:s,children:a}=e,o=t?bh(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&_h(o),ref:t&&t.ref?r&&n?ae(n)?n.concat(rn(t)):[n,rn(t)]:rn(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vt(e.ssContent),ssFallback:e.ssFallback&&vt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Gn(e=" ",t=0){return Se(ir,null,e,t)}function yh(e,t){const r=Se(er,null,e);return r.staticCount=t,r}function Te(e="",t=!1){return t?(ce(),ct(Ue,null,e)):Se(Ue,null,e)}function Ze(e){return e==null||typeof e=="boolean"?Se(Ue):ae(e)?Se(ke,null,e.slice()):typeof e=="object"?Ft(e):Se(ir,null,String(e))}function Ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vt(e)}function na(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ae(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),na(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!(Ln in t)?t._ctx=De:n===3&&De&&(De.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ue(t)?(t={default:t,_ctx:De},r=32):(t=String(t),i&64?(r=16,t=[Gn(t)]):r=8);e.children=t,e.shapeFlag|=r}function bh(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=br([t.class,i.class]));else if(n==="style")t.style=yr([t.style,i.style]);else if(Ii(n)){const s=t[n],a=i[n];a&&s!==a&&!(ae(s)&&s.includes(a))&&(t[n]=s?[].concat(s,a):a)}else n!==""&&(t[n]=i[n])}return t}function qe(e,t,r,i=null){tt(e,t,7,[r,i])}const Fd=ch();let Md=0;function Ch(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||Fd,s={uid:Md++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Is(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ah(i,n),emitsOptions:Ul(i,n),emit:null,emitted:null,propsDefaults:we,inheritAttrs:i.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Uu.bind(null,s),e.ce&&e.ce(s),s}let Re=null;const Ht=()=>Re||De,Bt=e=>{Re=e,e.scope.on()},It=()=>{Re&&Re.scope.off(),Re=null};function Sh(e){return e.vnode.shapeFlag&4}let _r=!1;function wh(e,t=!1){_r=t;const{props:r,children:i}=e.vnode,n=Sh(e);vd(e,r,n,t),Cd(e,i);const s=n?Id(e,t):void 0;return _r=!1,s}function Id(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Us(new Proxy(e.ctx,us));const{setup:i}=r;if(i){const n=e.setupContext=i.length>1?Th(e):null;Bt(e),Sr();const s=Et(i,e,0,[e.props,n]);if(wr(),It(),Fs(s)){if(s.then(It,It),t)return s.then(a=>{_s(e,a,t)}).catch(a=>{ar(a,e,0)});e.asyncDep=s}else _s(e,s,t)}else xh(e,t)}function _s(e,t,r){ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=qs(t)),xh(e,r)}let pn,vs;function Ld(e){pn=e,vs=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,dd))}}const Gd=()=>!pn;function xh(e,t,r){const i=e.type;if(!e.render){if(!t&&pn&&!i.render){const n=i.template||ta(e).template;if(n){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:h}=i,u=Oe(Oe({isCustomElement:s,delimiters:o},a),h);i.render=pn(n,u)}}e.render=i.render||dt,vs&&vs(e)}Bt(e),Sr(),fd(e),wr(),It()}function Dd(e){return new Proxy(e.attrs,{get(t,r){return ze(e,"get","$attrs"),t[r]}})}function Th(e){const t=i=>{e.exposed=i||{}};let r;return{get attrs(){return r||(r=Dd(e))},slots:e.slots,emit:e.emit,expose:t}}function Dn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(qs(Us(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in xi)return xi[r](e)},has(t,r){return r in t||r in xi}}))}function ys(e,t=!0){return ue(e)?e.displayName||e.name:e.name||t&&e.__name}function Bd(e){return ue(e)&&"__vccOpts"in e}const Eh=(e,t)=>Fu(e,t,_r);function Ud(){return null}function Vd(){return null}function Hd(e){}function qd(e,t){return null}function jd(){return Ph().slots}function Kd(){return Ph().attrs}function Ph(){const e=Ht();return e.setupContext||(e.setupContext=Th(e))}function Wd(e,t){const r=ae(e)?e.reduce((i,n)=>(i[n]={},i),{}):e;for(const i in t){const n=r[i];n?ae(n)||ue(n)?r[i]={type:n,default:t[i]}:n.default=t[i]:n===null&&(r[i]={default:t[i]})}return r}function zd(e,t){const r={};for(const i in e)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>e[i]});return r}function Yd(e){const t=Ht();let r=e();return It(),Fs(r)&&(r=r.catch(i=>{throw Bt(t),i})),[r,()=>Bt(t)]}function Ah(e,t,r){const i=arguments.length;return i===2?xe(t)&&!ae(t)?Dt(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Dt(r)&&(r=[r]),Se(e,t,r))}const kh=Symbol(""),Rh=()=>Si(kh);function $d(){}function Xd(e,t,r,i){const n=r[i];if(n&&Oh(n,e))return n;const s=t();return s.memo=e.slice(),r[i]=s}function Oh(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(pr(r[i],t[i]))return!1;return nr>0&&Ke&&Ke.push(e),!0}const Nh="3.2.47",Jd={createComponentInstance:Ch,setupComponent:wh,renderComponentRoot:tn,setCurrentRenderingInstance:Fi,isVNode:Dt,normalizeVNode:Ze},Qd=Jd,Zd=null,ef=null,tf="http://www.w3.org/2000/svg",$t=typeof document<"u"?document:null,Ba=$t&&$t.createElement("template"),rf={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t?$t.createElementNS(tf,e):$t.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>$t.createTextNode(e),createComment:e=>$t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,n,s){const a=r?r.previousSibling:t.lastChild;if(n&&(n===s||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{Ba.innerHTML=i?`<svg>${e}</svg>`:e;const o=Ba.content;if(i){const h=o.firstChild;for(;h.firstChild;)o.appendChild(h.firstChild);o.removeChild(h)}t.insertBefore(o,r)}return[a?a.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function nf(e,t,r){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function sf(e,t,r){const i=e.style,n=Pe(r);if(r&&!n){if(t&&!Pe(t))for(const s in t)r[s]==null&&bs(i,s,"");for(const s in r)bs(i,s,r[s])}else{const s=i.display;n?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const Ua=/\s*!important$/;function bs(e,t,r){if(ae(r))r.forEach(i=>bs(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=af(e,t);Ua.test(r)?e.setProperty(st(i),r.replace(Ua,""),"important"):e[i]=r}}const Va=["Webkit","Moz","ms"],Yn={};function af(e,t){const r=Yn[t];if(r)return r;let i=We(t);if(i!=="filter"&&i in e)return Yn[t]=i;i=Li(i);for(let n=0;n<Va.length;n++){const s=Va[n]+i;if(s in e)return Yn[t]=s}return t}const Ha="http://www.w3.org/1999/xlink";function of(e,t,r,i,n){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Ha,t.slice(6,t.length)):e.setAttributeNS(Ha,t,r);else{const s=Ic(t);r==null||s&&!fl(r)?e.removeAttribute(t):e.setAttribute(t,s?"":r)}}function lf(e,t,r,i,n,s,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,n,s),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const h=r??"";(e.value!==h||e.tagName==="OPTION")&&(e.value=h),r==null&&e.removeAttribute(t);return}let o=!1;if(r===""||r==null){const h=typeof e[t];h==="boolean"?r=fl(r):r==null&&h==="string"?(r="",o=!0):h==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(t)}function Tt(e,t,r,i){e.addEventListener(t,r,i)}function hf(e,t,r,i){e.removeEventListener(t,r,i)}function cf(e,t,r,i,n=null){const s=e._vei||(e._vei={}),a=s[t];if(i&&a)a.value=i;else{const[o,h]=uf(t);if(i){const u=s[t]=gf(i,n);Tt(e,o,u,h)}else a&&(hf(e,o,a,h),s[t]=void 0)}}const qa=/(?:Once|Passive|Capture)$/;function uf(e){let t;if(qa.test(e)){t={};let i;for(;i=e.match(qa);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):st(e.slice(2)),t]}let $n=0;const df=Promise.resolve(),ff=()=>$n||(df.then(()=>$n=0),$n=Date.now());function gf(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;tt(pf(i,r.value),t,5,[i])};return r.value=e,r.attached=ff(),r}function pf(e,t){if(ae(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const ja=/^on[a-z]/,mf=(e,t,r,i,n=!1,s,a,o,h)=>{t==="class"?nf(e,i,n):t==="style"?sf(e,r,i):Ii(t)?Os(t)||cf(e,t,r,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_f(e,t,i,n))?lf(e,t,i,s,a,o,h):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),of(e,t,i,n))};function _f(e,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&ja.test(t)&&ue(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ja.test(t)&&Pe(r)?!1:t in e}function Fh(e,t){const r=Qs(e);class i extends Bn{constructor(s){super(r,s,t)}}return i.def=r,i}const vf=e=>Fh(e,Xh),yf=typeof HTMLElement<"u"?HTMLElement:class{};class Bn extends yf{constructor(t,r={},i){super(),this._def=t,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ks(()=>{this._connected||(ws(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const n of i)this._setAttr(n.attributeName)}).observe(this,{attributes:!0});const t=(i,n=!1)=>{const{props:s,styles:a}=i;let o;if(s&&!ae(s))for(const h in s){const u=s[h];(u===Number||u&&u.type===Number)&&(h in this._props&&(this._props[h]=cn(this._props[h])),(o||(o=Object.create(null)))[We(h)]=!0)}this._numberProps=o,n&&this._resolveProps(i),this._applyStyles(a),this._update()},r=this._def.__asyncLoader;r?r().then(i=>t(i,!0)):t(this._def)}_resolveProps(t){const{props:r}=t,i=ae(r)?r:Object.keys(r||{});for(const n of Object.keys(this))n[0]!=="_"&&i.includes(n)&&this._setProp(n,this[n],!0,!1);for(const n of i.map(We))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(s){this._setProp(n,s)}})}_setAttr(t){let r=this.getAttribute(t);const i=We(t);this._numberProps&&this._numberProps[i]&&(r=cn(r)),this._setProp(i,r,!1)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,n=!0){r!==this._props[t]&&(this._props[t]=r,n&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(st(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(st(t),r+""):r||this.removeAttribute(st(t))))}_update(){ws(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Se(this._def,Oe({},this._props));return this._instance||(t.ce=r=>{this._instance=r,r.isCE=!0;const i=(s,a)=>{this.dispatchEvent(new CustomEvent(s,{detail:a}))};r.emit=(s,...a)=>{i(s,a),st(s)!==s&&i(st(s),a)};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof Bn){r.parent=n._instance,r.provides=n._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(r=>{const i=document.createElement("style");i.textContent=r,this.shadowRoot.appendChild(i)})}}function bf(e="$style"){{const t=Ht();if(!t)return we;const r=t.type.__cssModules;if(!r)return we;const i=r[e];return i||we}}function Cf(e){const t=Ht();if(!t)return;const r=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>Ss(s,n))},i=()=>{const n=e(t.proxy);Cs(t.subTree,n),r(n)};jl(i),Ui(()=>{const n=new MutationObserver(i);n.observe(t.subTree.el.parentNode,{childList:!0}),Mn(()=>n.disconnect())})}function Cs(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Cs(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Ss(e.el,t);else if(e.type===ke)e.children.forEach(r=>Cs(r,t));else if(e.type===er){let{el:r,anchor:i}=e;for(;r&&(Ss(r,t),r!==i);)r=r.nextSibling}}function Ss(e,t){if(e.nodeType===1){const r=e.style;for(const i in t)r.setProperty(`--${i}`,t[i])}}const Ot="transition",Pr="animation",sa=(e,{slots:t})=>Ah(Js,Ih(e),t);sa.displayName="Transition";const Mh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Sf=sa.props=Oe({},Js.props,Mh),jt=(e,t=[])=>{ae(e)?e.forEach(r=>r(...t)):e&&e(...t)},Ka=e=>e?ae(e)?e.some(t=>t.length>1):e.length>1:!1;function Ih(e){const t={};for(const N in e)N in Mh||(t[N]=e[N]);if(e.css===!1)return t;const{name:r="v",type:i,duration:n,enterFromClass:s=`${r}-enter-from`,enterActiveClass:a=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:h=s,appearActiveClass:u=a,appearToClass:m=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:_=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,f=wf(n),y=f&&f[0],C=f&&f[1],{onBeforeEnter:x,onEnter:c,onEnterCancelled:l,onLeave:v,onLeaveCancelled:S,onBeforeAppear:P=x,onAppear:O=c,onAppearCancelled:w=l}=t,A=(N,g,b)=>{Nt(N,g?m:o),Nt(N,g?u:a),b&&b()},T=(N,g)=>{N._isLeaving=!1,Nt(N,d),Nt(N,p),Nt(N,_),g&&g()},R=N=>(g,b)=>{const E=N?O:c,k=()=>A(g,N,b);jt(E,[g,k]),Wa(()=>{Nt(g,N?h:s),St(g,N?m:o),Ka(E)||za(g,i,y,k)})};return Oe(t,{onBeforeEnter(N){jt(x,[N]),St(N,s),St(N,a)},onBeforeAppear(N){jt(P,[N]),St(N,h),St(N,u)},onEnter:R(!1),onAppear:R(!0),onLeave(N,g){N._isLeaving=!0;const b=()=>T(N,g);St(N,d),Gh(),St(N,_),Wa(()=>{N._isLeaving&&(Nt(N,d),St(N,p),Ka(v)||za(N,i,C,b))}),jt(v,[N,b])},onEnterCancelled(N){A(N,!1),jt(l,[N])},onAppearCancelled(N){A(N,!0),jt(w,[N])},onLeaveCancelled(N){T(N),jt(S,[N])}})}function wf(e){if(e==null)return null;if(xe(e))return[Xn(e.enter),Xn(e.leave)];{const t=Xn(e);return[t,t]}}function Xn(e){return cn(e)}function St(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function Nt(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function Wa(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xf=0;function za(e,t,r,i){const n=e._endId=++xf,s=()=>{n===e._endId&&i()};if(r)return setTimeout(s,r);const{type:a,timeout:o,propCount:h}=Lh(e,t);if(!a)return i();const u=a+"end";let m=0;const d=()=>{e.removeEventListener(u,_),s()},_=p=>{p.target===e&&++m>=h&&d()};setTimeout(()=>{m<h&&d()},o+1),e.addEventListener(u,_)}function Lh(e,t){const r=window.getComputedStyle(e),i=f=>(r[f]||"").split(", "),n=i(`${Ot}Delay`),s=i(`${Ot}Duration`),a=Ya(n,s),o=i(`${Pr}Delay`),h=i(`${Pr}Duration`),u=Ya(o,h);let m=null,d=0,_=0;t===Ot?a>0&&(m=Ot,d=a,_=s.length):t===Pr?u>0&&(m=Pr,d=u,_=h.length):(d=Math.max(a,u),m=d>0?a>u?Ot:Pr:null,_=m?m===Ot?s.length:h.length:0);const p=m===Ot&&/\b(transform|all)(,|$)/.test(i(`${Ot}Property`).toString());return{type:m,timeout:d,propCount:_,hasTransform:p}}function Ya(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>$a(r)+$a(e[i])))}function $a(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Gh(){return document.body.offsetHeight}const Dh=new WeakMap,Bh=new WeakMap,Uh={name:"TransitionGroup",props:Oe({},Sf,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Ht(),i=Xs();let n,s;return Nn(()=>{if(!n.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Rf(n[0].el,r.vnode.el,a))return;n.forEach(Pf),n.forEach(Af);const o=n.filter(kf);Gh(),o.forEach(h=>{const u=h.el,m=u.style;St(u,a),m.transform=m.webkitTransform=m.transitionDuration="";const d=u._moveCb=_=>{_&&_.target!==u||(!_||/transform$/.test(_.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,Nt(u,a))};u.addEventListener("transitionend",d)})}),()=>{const a=ye(e),o=Ih(a);let h=a.tag||ke;n=s,s=t.default?Rn(t.default()):[];for(let u=0;u<s.length;u++){const m=s[u];m.key!=null&&rr(m,mr(m,o,i,r))}if(n)for(let u=0;u<n.length;u++){const m=n[u];rr(m,mr(m,o,i,r)),Dh.set(m,m.el.getBoundingClientRect())}return Se(h,null,s)}}},Tf=e=>delete e.mode;Uh.props;const Ef=Uh;function Pf(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Af(e){Bh.set(e,e.el.getBoundingClientRect())}function kf(e){const t=Dh.get(e),r=Bh.get(e),i=t.left-r.left,n=t.top-r.top;if(i||n){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${n}px)`,s.transitionDuration="0s",e}}function Rf(e,t,r){const i=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:s}=Lh(i);return n.removeChild(i),s}const Ut=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ae(t)?r=>dr(t,r):t};function Of(e){e.target.composing=!0}function Xa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vt={created(e,{modifiers:{lazy:t,trim:r,number:i}},n){e._assign=Ut(n);const s=i||n.props&&n.props.type==="number";Tt(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;r&&(o=o.trim()),s&&(o=hn(o)),e._assign(o)}),r&&Tt(e,"change",()=>{e.value=e.value.trim()}),t||(Tt(e,"compositionstart",Of),Tt(e,"compositionend",Xa),Tt(e,"change",Xa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:i,number:n}},s){if(e._assign=Ut(s),e.composing||document.activeElement===e&&e.type!=="range"&&(r||i&&e.value.trim()===t||(n||e.type==="number")&&hn(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},aa={deep:!0,created(e,t,r){e._assign=Ut(r),Tt(e,"change",()=>{const i=e._modelValue,n=vr(e),s=e.checked,a=e._assign;if(ae(i)){const o=vn(i,n),h=o!==-1;if(s&&!h)a(i.concat(n));else if(!s&&h){const u=[...i];u.splice(o,1),a(u)}}else if(sr(i)){const o=new Set(i);s?o.add(n):o.delete(n),a(o)}else a(Hh(e,s))})},mounted:Ja,beforeUpdate(e,t,r){e._assign=Ut(r),Ja(e,t,r)}};function Ja(e,{value:t,oldValue:r},i){e._modelValue=t,ae(t)?e.checked=vn(t,i.props.value)>-1:sr(t)?e.checked=t.has(i.props.value):t!==r&&(e.checked=Lt(t,Hh(e,!0)))}const xt={created(e,{value:t},r){e.checked=Lt(t,r.props.value),e._assign=Ut(r),Tt(e,"change",()=>{e._assign(vr(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e._assign=Ut(i),t!==r&&(e.checked=Lt(t,i.props.value))}},Vh={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const n=sr(t);Tt(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>r?hn(vr(a)):vr(a));e._assign(e.multiple?n?new Set(s):s:s[0])}),e._assign=Ut(i)},mounted(e,{value:t}){Qa(e,t)},beforeUpdate(e,t,r){e._assign=Ut(r)},updated(e,{value:t}){Qa(e,t)}};function Qa(e,t){const r=e.multiple;if(!(r&&!ae(t)&&!sr(t))){for(let i=0,n=e.options.length;i<n;i++){const s=e.options[i],a=vr(s);if(r)ae(t)?s.selected=vn(t,a)>-1:s.selected=t.has(a);else if(Lt(vr(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function vr(e){return"_value"in e?e._value:e.value}function Hh(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const qh={created(e,t,r){Ji(e,t,r,null,"created")},mounted(e,t,r){Ji(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){Ji(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){Ji(e,t,r,i,"updated")}};function jh(e,t){switch(e){case"SELECT":return Vh;case"TEXTAREA":return Vt;default:switch(t){case"checkbox":return aa;case"radio":return xt;default:return Vt}}}function Ji(e,t,r,i,n){const a=jh(e.tagName,r.props&&r.props.type)[n];a&&a(e,t,r,i)}function Nf(){Vt.getSSRProps=({value:e})=>({value:e}),xt.getSSRProps=({value:e},t)=>{if(t.props&&Lt(t.props.value,e))return{checked:!0}},aa.getSSRProps=({value:e},t)=>{if(ae(e)){if(t.props&&vn(e,t.props.value)>-1)return{checked:!0}}else if(sr(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},qh.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=jh(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const Ff=["ctrl","shift","alt","meta"],Mf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ff.some(r=>e[`${r}Key`]&&!t.includes(r))},If=(e,t)=>(r,...i)=>{for(let n=0;n<t.length;n++){const s=Mf[t[n]];if(s&&s(r,t))return}return e(r,...i)},Lf={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kh=(e,t)=>r=>{if(!("key"in r))return;const i=st(r.key);if(t.some(n=>n===i||Lf[n]===i))return e(r)},Wh={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Ar(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),Ar(e,!0),i.enter(e)):i.leave(e,()=>{Ar(e,!1)}):Ar(e,t))},beforeUnmount(e,{value:t}){Ar(e,t)}};function Ar(e,t){e.style.display=t?e._vod:"none"}function Gf(){Wh.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const zh=Oe({patchProp:mf},rf);let Pi,Za=!1;function Yh(){return Pi||(Pi=uh(zh))}function $h(){return Pi=Za?Pi:dh(zh),Za=!0,Pi}const ws=(...e)=>{Yh().render(...e)},Xh=(...e)=>{$h().hydrate(...e)},Jh=(...e)=>{const t=Yh().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=Qh(i);if(!n)return;const s=t._component;!ue(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.innerHTML="";const a=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t},Df=(...e)=>{const t=$h().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=Qh(i);if(n)return r(n,!0,n instanceof SVGElement)},t};function Qh(e){return Pe(e)?document.querySelector(e):e}let eo=!1;const Bf=()=>{eo||(eo=!0,Nf(),Gf())},Uf=()=>{},Vf=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Js,Comment:Ue,EffectScope:Is,Fragment:ke,KeepAlive:nd,ReactiveEffect:Gi,Static:er,Suspense:zu,Teleport:Rd,Text:ir,Transition:sa,TransitionGroup:Ef,VueElement:Bn,assertNumber:Iu,callWithAsyncErrorHandling:tt,callWithErrorHandling:Et,camelize:We,capitalize:Li,cloneVNode:vt,compatUtils:ef,compile:Uf,computed:Eh,createApp:Jh,createBlock:ct,createCommentVNode:Te,createElementBlock:fe,createElementVNode:ee,createHydrationRenderer:dh,createPropsRestProxy:zd,createRenderer:uh,createSSRApp:Df,createSlots:hd,createStaticVNode:yh,createTextVNode:Gn,createVNode:Se,customRef:ku,defineAsyncComponent:rd,defineComponent:Qs,defineCustomElement:Fh,defineEmits:Vd,defineExpose:Hd,defineProps:Ud,defineSSRCustomElement:vf,get devtools(){return or},effect:$c,effectScope:Kc,getCurrentInstance:Ht,getCurrentScope:vl,getTransitionRawChildren:Rn,guardReactiveProps:vh,h:Ah,handleError:ar,hydrate:Xh,initCustomFormatter:$d,initDirectivesForSSR:Bf,inject:Si,isMemoSame:Oh,isProxy:Bs,isReactive:Qt,isReadonly:tr,isRef:Ie,isRuntimeOnly:Gd,isShallow:ki,isVNode:Dt,markRaw:Us,mergeDefaults:Wd,mergeProps:bh,nextTick:Ks,normalizeClass:br,normalizeProps:Fc,normalizeStyle:yr,onActivated:zl,onBeforeMount:Xl,onBeforeUnmount:Fn,onBeforeUpdate:Jl,onDeactivated:Yl,onErrorCaptured:th,onMounted:Ui,onRenderTracked:eh,onRenderTriggered:Zl,onScopeDispose:Wc,onServerPrefetch:Ql,onUnmounted:Mn,onUpdated:Nn,openBlock:ce,popScopeId:kn,provide:ql,proxyRefs:qs,pushScopeId:An,queuePostFlushCb:Ws,reactive:xr,readonly:Ds,ref:en,registerRuntimeCompiler:Ld,render:ws,renderList:In,renderSlot:cd,resolveComponent:je,resolveDirective:ld,resolveDynamicComponent:od,resolveFilter:Zd,resolveTransitionHooks:mr,setBlockTracking:ms,setDevtoolsHook:Bl,setTransitionHooks:rr,shallowReactive:Ol,shallowReadonly:wu,shallowRef:xu,ssrContextKey:kh,ssrUtils:Qd,stop:Xc,toDisplayString:et,toHandlerKey:Ci,toHandlers:ud,toRaw:ye,toRef:Ml,toRefs:Ru,transformVNodeArgs:Od,triggerRef:Eu,unref:Fl,useAttrs:Kd,useCssModule:bf,useCssVars:Cf,useSSRContext:Rh,useSlots:jd,useTransitionState:Xs,vModelCheckbox:aa,vModelDynamic:qh,vModelRadio:xt,vModelSelect:Vh,vModelText:Vt,vShow:Wh,version:Nh,warn:Mu,watch:wi,watchEffect:Qu,watchPostEffect:jl,watchSyncEffect:Zu,withAsyncContext:Yd,withCtx:zs,withDefaults:qd,withDirectives:ot,withKeys:Kh,withMemo:Xd,withModifiers:If,withScopeId:Vu},Symbol.toStringTag,{value:"Module"}));const yt=Object.create(null);yt.open="0";yt.close="1";yt.ping="2";yt.pong="3";yt.message="4";yt.upgrade="5";yt.noop="6";const nn=Object.create(null);Object.keys(yt).forEach(e=>{nn[yt[e]]=e});const Hf={type:"error",data:"parser error"},qf=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jf=typeof ArrayBuffer=="function",Kf=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Zh=({type:e,data:t},r,i)=>qf&&t instanceof Blob?r?i(t):to(t,i):jf&&(t instanceof ArrayBuffer||Kf(t))?r?i(t):to(new Blob([t]),i):i(yt[e]+(t||"")),to=(e,t)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];t("b"+(i||""))},r.readAsDataURL(e)},ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ro.length;e++)yi[ro.charCodeAt(e)]=e;const Wf=e=>{let t=e.length*.75,r=e.length,i,n=0,s,a,o,h;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),m=new Uint8Array(u);for(i=0;i<r;i+=4)s=yi[e.charCodeAt(i)],a=yi[e.charCodeAt(i+1)],o=yi[e.charCodeAt(i+2)],h=yi[e.charCodeAt(i+3)],m[n++]=s<<2|a>>4,m[n++]=(a&15)<<4|o>>2,m[n++]=(o&3)<<6|h&63;return u},zf=typeof ArrayBuffer=="function",ec=(e,t)=>{if(typeof e!="string")return{type:"message",data:tc(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:Yf(e.substring(1),t)}:nn[r]?e.length>1?{type:nn[r],data:e.substring(1)}:{type:nn[r]}:Hf},Yf=(e,t)=>{if(zf){const r=Wf(e);return tc(r,t)}else return{base64:!0,data:e}},tc=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}},rc=String.fromCharCode(30),$f=(e,t)=>{const r=e.length,i=new Array(r);let n=0;e.forEach((s,a)=>{Zh(s,!1,o=>{i[a]=o,++n===r&&t(i.join(rc))})})},Xf=(e,t)=>{const r=e.split(rc),i=[];for(let n=0;n<r.length;n++){const s=ec(r[n],t);if(i.push(s),s.type==="error")break}return i},ic=4;function Me(e){if(e)return Jf(e)}function Jf(e){for(var t in Me.prototype)e[t]=Me.prototype[t];return e}Me.prototype.on=Me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Me.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Me.prototype.off=Me.prototype.removeListener=Me.prototype.removeAllListeners=Me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,n=0;n<r.length;n++)if(i=r[n],i===t||i.fn===t){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,n=r.length;i<n;++i)r[i].apply(this,t)}return this};Me.prototype.emitReserved=Me.prototype.emit;Me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const nt=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function nc(e,...t){return t.reduce((r,i)=>(e.hasOwnProperty(i)&&(r[i]=e[i]),r),{})}const Qf=nt.setTimeout,Zf=nt.clearTimeout;function Un(e,t){t.useNativeTimers?(e.setTimeoutFn=Qf.bind(nt),e.clearTimeoutFn=Zf.bind(nt)):(e.setTimeoutFn=nt.setTimeout.bind(nt),e.clearTimeoutFn=nt.clearTimeout.bind(nt))}const e0=1.33;function t0(e){return typeof e=="string"?r0(e):Math.ceil((e.byteLength||e.size)*e0)}function r0(e){let t=0,r=0;for(let i=0,n=e.length;i<n;i++)t=e.charCodeAt(i),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(i++,r+=4);return r}class i0 extends Error{constructor(t,r,i){super(t),this.description=r,this.context=i,this.type="TransportError"}}class sc extends Me{constructor(t){super(),this.writable=!1,Un(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,r,i){return super.emitReserved("error",new i0(t,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=ec(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const ac="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xs=64,n0={};let io=0,Qi=0,no;function so(e){let t="";do t=ac[e%xs]+t,e=Math.floor(e/xs);while(e>0);return t}function oc(){const e=so(+new Date);return e!==no?(io=0,no=e):e+"."+so(io++)}for(;Qi<xs;Qi++)n0[ac[Qi]]=Qi;function lc(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function s0(e){let t={},r=e.split("&");for(let i=0,n=r.length;i<n;i++){let s=r[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}let hc=!1;try{hc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const a0=hc;function cc(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||a0))return new XMLHttpRequest}catch{}if(!t)try{return new nt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function o0(){}const l0=function(){return new cc({xdomain:!1}).responseType!=null}();class h0 extends sc{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const i=location.protocol==="https:";let n=location.port;n||(n=i?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==i}const r=t&&t.forceBase64;this.supportsBinary=l0&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Xf(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,$f(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const r=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=oc()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const n=lc(t),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(n.length?"?"+n:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new _t(this.uri(),t)}doWrite(t,r){const i=this.request({method:"POST",data:t});i.on("success",r),i.on("error",(n,s)=>{this.onError("xhr post error",n,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=t}}class _t extends Me{constructor(t,r){super(),Un(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const t=nc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new cc(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=_t.requestsCount++,_t.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=o0,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete _t.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}_t.requestsCount=0;_t.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ao);else if(typeof addEventListener=="function"){const e="onpagehide"in nt?"pagehide":"unload";addEventListener(e,ao,!1)}}function ao(){for(let e in _t.requests)_t.requests.hasOwnProperty(e)&&_t.requests[e].abort()}const uc=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0))(),Zi=nt.WebSocket||nt.MozWebSocket,oo=!0,c0="arraybuffer",lo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class u0 extends sc{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),r=this.opts.protocols,i=lo?{}:nc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=oo&&!lo?r?new Zi(t,r):new Zi(t):new Zi(t,r,i)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType||c0,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],n=r===t.length-1;Zh(i,this.supportsBinary,s=>{const a={};try{oo&&this.ws.send(s)}catch{}n&&uc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const r=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=oc()),this.supportsBinary||(t.b64=1);const n=lc(t),s=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(n.length?"?"+n:"")}check(){return!!Zi}}const d0={websocket:u0,polling:h0},f0=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g0=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ts(e){const t=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));let n=f0.exec(e||""),s={},a=14;for(;a--;)s[g0[a]]=n[a]||"";return r!=-1&&i!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=p0(s,s.path),s.queryKey=m0(s,s.query),s}function p0(e,t){const r=/\/{2,9}/g,i=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function m0(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,s){n&&(r[n]=s)}),r}let dc=class lr extends Me{constructor(t,r={}){super(),this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=Ts(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=Ts(r.host).host),Un(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=s0(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=ic,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new d0[t](i)}open(){let t;if(this.opts.rememberUpgrade&&lr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;lr.priorWebsocketSuccess=!1;const n=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!i)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;lr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=r.name,this.emitReserved("upgradeError",_)}}))};function s(){i||(i=!0,m(),r.close(),r=null)}const a=d=>{const _=new Error("probe error: "+d);_.transport=r.name,s(),this.emitReserved("upgradeError",_)};function o(){a("transport closed")}function h(){a("socket closed")}function u(d){r&&d.name!==r.name&&s()}const m=()=>{r.removeListener("open",n),r.removeListener("error",a),r.removeListener("close",o),this.off("close",h),this.off("upgrading",u)};r.once("open",n),r.once("error",a),r.once("close",o),this.once("close",h),this.once("upgrading",u),r.open()}onOpen(){if(this.readyState="open",lr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const n=this.writeBuffer[i].data;if(n&&(r+=t0(n)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,n){if(typeof r=="function"&&(n=r,r=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:t,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){lr.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let i=0;const n=t.length;for(;i<n;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}};dc.protocol=ic;function _0(e,t="",r){let i=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),i=Ts(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+t,i.href=i.protocol+"://"+s+(r&&r.port===i.port?"":":"+i.port),i}const v0=typeof ArrayBuffer=="function",y0=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,fc=Object.prototype.toString,b0=typeof Blob=="function"||typeof Blob<"u"&&fc.call(Blob)==="[object BlobConstructor]",C0=typeof File=="function"||typeof File<"u"&&fc.call(File)==="[object FileConstructor]";function oa(e){return v0&&(e instanceof ArrayBuffer||y0(e))||b0&&e instanceof Blob||C0&&e instanceof File}function sn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,i=e.length;r<i;r++)if(sn(e[r]))return!0;return!1}if(oa(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return sn(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&sn(e[r]))return!0;return!1}function S0(e){const t=[],r=e.data,i=e;return i.data=Es(r,t),i.attachments=t.length,{packet:i,buffers:t}}function Es(e,t){if(!e)return e;if(oa(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=Es(e[i],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=Es(e[i],t));return r}return e}function w0(e,t){return e.data=Ps(e.data,t),delete e.attachments,e}function Ps(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ps(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ps(e[r],t));return e}const x0=5;var ve;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ve||(ve={}));class T0{constructor(t){this.replacer=t}encode(t){return(t.type===ve.EVENT||t.type===ve.ACK)&&sn(t)?this.encodeAsBinary({type:t.type===ve.EVENT?ve.BINARY_EVENT:ve.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===ve.BINARY_EVENT||t.type===ve.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=S0(t),i=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(i),n}}class la extends Me{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const i=r.type===ve.BINARY_EVENT;i||r.type===ve.BINARY_ACK?(r.type=i?ve.EVENT:ve.ACK,this.reconstructor=new E0(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(oa(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const i={type:Number(t.charAt(0))};if(ve[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===ve.BINARY_EVENT||i.type===ve.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const a=t.substring(s,r);if(a!=Number(a)||t.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););i.nsp=t.substring(s,r)}else i.nsp="/";const n=t.charAt(r+1);if(n!==""&&Number(n)==n){const s=r+1;for(;++r;){const a=t.charAt(r);if(a==null||Number(a)!=a){--r;break}if(r===t.length)break}i.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(la.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case ve.CONNECT:return typeof r=="object";case ve.DISCONNECT:return r===void 0;case ve.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case ve.EVENT:case ve.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case ve.ACK:case ve.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class E0{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=w0(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const P0=Object.freeze(Object.defineProperty({__proto__:null,Decoder:la,Encoder:T0,get PacketType(){return ve},protocol:x0},Symbol.toStringTag,{value:"Module"}));function lt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const A0=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gc extends Me{constructor(t,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[lt(t,"open",this.onopen.bind(this)),lt(t,"packet",this.onpacket.bind(this)),lt(t,"error",this.onerror.bind(this)),lt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(A0.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:ve.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const a=this.ids++,o=r.pop();this._registerAckCallback(a,o),i.id=a}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,r){var i;const n=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(n===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,[null,...a])}}emitWithAck(t,...r){const i=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((n,s)=>{r.push((a,o)=>i?a?s(a):n(o):n(a)),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((n,...s)=>i!==this._queue[0]?void 0:(n!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ve.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ve.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ve.EVENT:case ve.BINARY_EVENT:this.onevent(t);break;case ve.ACK:case ve.BINARY_ACK:this.onack(t);break;case ve.DISCONNECT:this.ondisconnect();break;case ve.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let i=!1;return function(...n){i||(i=!0,r.packet({type:ve.ACK,id:t,data:n}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ve.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,t.data)}}}function Tr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Tr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Tr.prototype.reset=function(){this.attempts=0};Tr.prototype.setMin=function(e){this.ms=e};Tr.prototype.setMax=function(e){this.max=e};Tr.prototype.setJitter=function(e){this.jitter=e};class As extends Me{constructor(t,r){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Un(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Tr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const n=r.parser||P0;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new dc(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const n=lt(r,"open",function(){i.onopen(),t&&t()}),s=lt(r,"error",a=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",a),t?t(a):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const a=this._timeout;a===0&&n();const o=this.setTimeoutFn(()=>{n(),r.close(),r.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&o.unref(),this.subs.push(function(){clearTimeout(o)})}return this.subs.push(n),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(lt(t,"ping",this.onping.bind(this)),lt(t,"data",this.ondata.bind(this)),lt(t,"error",this.onerror.bind(this)),lt(t,"close",this.onclose.bind(this)),lt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){uc(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new gc(this,t,r),this.nsps[t]=i),i}_destroy(t){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let i=0;i<r.length;i++)this.engine.write(r[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const kr={};function an(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=_0(e,t.path||"/socket.io"),i=r.source,n=r.id,s=r.path,a=kr[n]&&s in kr[n].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let h;return o?h=new As(i,t):(kr[n]||(kr[n]=new As(i,t)),h=kr[n]),r.query&&!t.query&&(t.query=r.queryKey),h.socket(r.path,t)}Object.assign(an,{Manager:As,Socket:gc,io:an,connect:an});class mn{constructor(){const t=xr({host:!1,roomId:null,username:"",socketId:"",turn:!1,color:null,positionStart:null,win:!1});Object.assign(this,t)}isHost(t){this.host=!0,this.turn=!0,this.socketId=t}}class k0{constructor(){const t=xr({nb_Players:2,nb_Squares:9,nb_Walls:5,new_nb_Walls:5});Object.assign(this,t)}}const Ye=(e,t)=>{const r=e.__vccOpts||e;for(const[i,n]of t)r[i]=n;return r},R0={props:{socket:{required:!0},roomID:void 0},data(){return{players:[]}},mounted(){this.roomID&&(this.socket.emit("get users",this.roomID),this.socket.on("list users",e=>{this.players=e}))}},O0=ee("h2",null,"Liste des joueurs en attentes",-1),N0=ee("div",{class:"spinner-border"},null,-1),F0={id:"user-list"};function M0(e,t,r,i,n,s){return ce(),fe("div",null,[O0,N0,ee("ul",F0,[(ce(!0),fe(ke,null,In(n.players,a=>(ce(),fe("li",{key:a.username},et(a.username),1))),128))])])}const ha=Ye(R0,[["render",M0]]);const I0={props:["revele","toggleModale","socket"],data(){return{player:new mn,game:new k0,state:"initGame"}},components:{ListeUserComponent:ha},methods:{createRoom(){this.game.new_nb_Walls=this.game.nb_Walls,this.player.isHost(this.socket.id),this.socket.emit("playerData",this.player,this.game),this.socket.on("room id",e=>{this.player.roomId=e,this.state="wait",this.$emit("event-roomId",{roomId:e,player:this.player,game:this.game})}),console.log(this.player)},deserter(){console.log("deserter"),this.socket.emit("deserter",this.player),this.state="initGame",this.player=new mn}}},at=e=>(An("data-v-3de9ba79"),e=e(),kn(),e),L0={key:0,class:"overlay"},G0={key:1,class:"bloc-modale"},D0={key:0},B0=at(()=>ee("label",{for:"username"},"nom :",-1)),U0=at(()=>ee("label",{for:"nbPlayersInput"},"Number of players : ",-1)),V0=["value"],H0=at(()=>ee("label",{for:"twoPlayers"}," 2 joueurs ",-1)),q0=["value"],j0=at(()=>ee("label",{for:"fourPlayers"}," 4 joueurs ",-1)),K0=at(()=>ee("label",{for:"nbSquares"},"Nombre cellules : ",-1)),W0=["value"],z0=at(()=>ee("label",{for:"septCells"}," 7 cellules ",-1)),Y0=["value"],$0=at(()=>ee("label",{for:"nineCells"}," 9 cellules ",-1)),X0=["value"],J0=at(()=>ee("label",{for:"elevenCells"}," 11 cellules ",-1)),Q0=["value"],Z0=at(()=>ee("label",{for:"treizeCells"}," 13 cellules ",-1)),e1=at(()=>ee("label",{for:"nbWallsInput"},"Number of walls:",-1)),t1=["min","max"],r1=at(()=>ee("br",null,null,-1)),i1=at(()=>ee("br",null,null,-1));function n1(e,t,r,i,n,s){const a=je("ListeUserComponent");return ce(),fe(ke,null,[r.revele?(ce(),fe("div",L0)):Te("",!0),r.revele?(ce(),fe("div",G0,[n.state==="initGame"?(ce(),fe("div",D0,[ee("div",null,[B0,ot(ee("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=o=>n.player.username=o)},null,512),[[Vt,n.player.username]])]),ee("div",null,[ee("div",null,[U0,ot(ee("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=o=>n.game.nb_Players=o),id:"twoPlayers",name:"twoPlayers",value:parseInt(2),checked:""},null,8,V0),[[xt,n.game.nb_Players]]),H0,ot(ee("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=o=>n.game.nb_Players=o),id:"fourPlayers",name:"fourPlayers",value:parseInt(4)},null,8,q0),[[xt,n.game.nb_Players]]),j0])]),ee("div",null,[K0,ot(ee("input",{type:"radio","onUpdate:modelValue":t[3]||(t[3]=o=>n.game.nb_Squares=o),id:"septCells",name:"septCells",value:parseInt(7)},null,8,W0),[[xt,n.game.nb_Squares]]),z0,ot(ee("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=o=>n.game.nb_Squares=o),id:"nineCells",name:"nineCells",value:parseInt(9)},null,8,Y0),[[xt,n.game.nb_Squares]]),$0,ot(ee("input",{type:"radio","onUpdate:modelValue":t[5]||(t[5]=o=>n.game.nb_Squares=o),id:"elevenCells",name:"elevenCells",value:parseInt(11)},null,8,X0),[[xt,n.game.nb_Squares]]),J0,ot(ee("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=o=>n.game.nb_Squares=o),id:"treizeCells",name:"treizeCells",value:parseInt(13)},null,8,Q0),[[xt,n.game.nb_Squares]]),Z0]),ee("div",null,[e1,ot(ee("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>n.game.nb_Walls=o),type:"range",id:"nbWalls",name:"nbWalls",min:parseInt(3),max:parseInt(10)},null,8,t1),[[Vt,n.game.nb_Walls,void 0,{number:!0}]])]),ee("button",{class:"pointer btn btn-success",onClick:t[8]||(t[8]=(...o)=>s.createRoom&&s.createRoom(...o))},"Crer la partie"),r1,ee("div",null,et(n.game),1),i1,ee("div",null,et(n.player),1)])):Te("",!0),n.state==="initGame"?(ce(),fe("button",{key:1,onClick:t[9]||(t[9]=(...o)=>r.toggleModale&&r.toggleModale(...o)),class:"btn-closei btn btn-danger"},"X")):Te("",!0),n.state==="wait"?(ce(),fe("button",{key:2,onClick:[t[10]||(t[10]=(...o)=>r.toggleModale&&r.toggleModale(...o)),t[11]||(t[11]=(...o)=>s.deserter&&s.deserter(...o))],class:"btn-closei btn btn-danger"},"Quitter")):Te("",!0),n.state==="wait"?(ce(),ct(a,{key:3,roomID:n.player.roomId,socket:r.socket},null,8,["roomID","socket"])):Te("",!0)])):Te("",!0)],64)}const s1=Ye(I0,[["render",n1],["__scopeId","data-v-3de9ba79"]]),a1={props:["socket","player"],data(){return{rooms:[],roomId:null,game:null}},created(){this.socket.emit("get rooms",this.roomId),console.log(this.rooms),this.socket.on("list rooms",e=>{this.rooms=e})},methods:{joinRoom(e,t){this.roomId=e,this.game=t,console.log("[List] : "+this.roomId),this.$emit("event-roomId",{roomId:this.roomId,state:"waitPlayers",game:this.game})}}},o1=ee("h2",null,"Liste des salons disponibles",-1),l1={id:"room-list"},h1={class:"card text-white bg-primary mb-3",style:{"max-width":"18rem"}},c1={class:"card-header"},u1=["onClick"],d1={class:"card-body"},f1={class:"card-title"},g1={class:"card-text"};function p1(e,t,r,i,n,s){return ce(),fe("div",null,[o1,ee("ul",l1,[(ce(!0),fe(ke,null,In(n.rooms,a=>(ce(),fe("li",{key:a.id},[ee("div",h1,[ee("div",c1,[ee("button",{onClick:o=>s.joinRoom(a.id,a.info),class:"pointer btn btn-success"},"Join",8,u1)]),ee("div",d1,[ee("h5",f1,et(a.id),1),ee("p",g1,et(a.info),1)])])]))),128))])])}const pc=Ye(a1,[["render",p1]]);const m1={props:["revele","toggleModale","socket"],data(){return{player:new mn,state:"setUsername",game:null}},components:{ListeRoomComponent:pc,ListeUserComponent:ha},methods:{validateName(){this.player.socketId=this.socket.id,this.state="setRoom"},setRoomId(e){this.player.roomId=e.roomId,this.socket.emit("playerData",this.player),this.state=e.state,this.game=e.game,this.$emit("event-roomId",{roomId:e.roomId,player:this.player,game:this.game}),console.log("[Join] : "+e.roomId),console.log("[Join] : "+this.player.socketId)},deserter(){console.log("deserter"),this.socket.emit("deserter",this.player),this.state="setUsername",this.player=new mn}}},_1=e=>(An("data-v-ffd1654e"),e=e(),kn(),e),v1={key:0,class:"overlay"},y1={key:1,class:"bloc-modale"},b1={key:2},C1=_1(()=>ee("label",{for:"username"},"nom :",-1));function S1(e,t,r,i,n,s){const a=je("ListeRoomComponent"),o=je("ListeUserComponent");return ce(),fe(ke,null,[r.revele?(ce(),fe("div",v1)):Te("",!0),r.revele?(ce(),fe("div",y1,[n.state!=="waitPlayers"?(ce(),fe("button",{key:0,onClick:t[0]||(t[0]=(...h)=>r.toggleModale&&r.toggleModale(...h)),class:"btn-closei btn btn-danger"},"X")):Te("",!0),n.state==="waitPlayers"?(ce(),fe("button",{key:1,onClick:[t[1]||(t[1]=(...h)=>r.toggleModale&&r.toggleModale(...h)),t[2]||(t[2]=(...h)=>s.deserter&&s.deserter(...h))],class:"btn-closei btn btn-danger"},"Quitter")):Te("",!0),n.state==="setUsername"?(ce(),fe("div",b1,[ee("div",null,[C1,ot(ee("input",{type:"text",id:"username","onUpdate:modelValue":t[3]||(t[3]=h=>n.player.username=h)},null,512),[[Vt,n.player.username]])]),ee("button",{onClick:t[4]||(t[4]=(...h)=>s.validateName&&s.validateName(...h)),class:"pointer btn btn-success"},"Rejoindre un salon")])):Te("",!0),n.state==="setRoom"?(ce(),ct(a,{key:3,socket:r.socket,player:n.player,onEventRoomId:s.setRoomId},null,8,["socket","player","onEventRoomId"])):Te("",!0),n.state==="waitPlayers"?(ce(),ct(o,{key:4,roomID:n.player.roomId,socket:r.socket},null,8,["roomID","socket"])):Te("",!0)])):Te("",!0)],64)}const w1=Ye(m1,[["render",S1],["__scopeId","data-v-ffd1654e"]]);var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function x1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var s=Function.bind.apply(t,n);return new s}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var on={exports:{}},Rr={},Jn={},Qn={},ho;function me(){return ho||(ho=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;var t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof ks<"u"?ks:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.0.1",isBrowser:r(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return e.Konva.angleDeg?n*t:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(n){e.glob.Konva=n}};const i=n=>{e.Konva[n.prototype.getClassName()]=n};e._registerNode=i,e.Konva._injectGlobal(e.Konva)}(Qn)),Qn}var Zn={},co;function Ne(){return co||(co=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=me();class r{constructor(v=[1,0,0,1,0,0]){this.dirty=!1,this.m=v&&v.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(v){v.m[0]=this.m[0],v.m[1]=this.m[1],v.m[2]=this.m[2],v.m[3]=this.m[3],v.m[4]=this.m[4],v.m[5]=this.m[5]}point(v){var S=this.m;return{x:S[0]*v.x+S[2]*v.y+S[4],y:S[1]*v.x+S[3]*v.y+S[5]}}translate(v,S){return this.m[4]+=this.m[0]*v+this.m[2]*S,this.m[5]+=this.m[1]*v+this.m[3]*S,this}scale(v,S){return this.m[0]*=v,this.m[1]*=v,this.m[2]*=S,this.m[3]*=S,this}rotate(v){var S=Math.cos(v),P=Math.sin(v),O=this.m[0]*S+this.m[2]*P,w=this.m[1]*S+this.m[3]*P,A=this.m[0]*-P+this.m[2]*S,T=this.m[1]*-P+this.m[3]*S;return this.m[0]=O,this.m[1]=w,this.m[2]=A,this.m[3]=T,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(v,S){var P=this.m[0]+this.m[2]*S,O=this.m[1]+this.m[3]*S,w=this.m[2]+this.m[0]*v,A=this.m[3]+this.m[1]*v;return this.m[0]=P,this.m[1]=O,this.m[2]=w,this.m[3]=A,this}multiply(v){var S=this.m[0]*v.m[0]+this.m[2]*v.m[1],P=this.m[1]*v.m[0]+this.m[3]*v.m[1],O=this.m[0]*v.m[2]+this.m[2]*v.m[3],w=this.m[1]*v.m[2]+this.m[3]*v.m[3],A=this.m[0]*v.m[4]+this.m[2]*v.m[5]+this.m[4],T=this.m[1]*v.m[4]+this.m[3]*v.m[5]+this.m[5];return this.m[0]=S,this.m[1]=P,this.m[2]=O,this.m[3]=w,this.m[4]=A,this.m[5]=T,this}invert(){var v=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),S=this.m[3]*v,P=-this.m[1]*v,O=-this.m[2]*v,w=this.m[0]*v,A=v*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),T=v*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=S,this.m[1]=P,this.m[2]=O,this.m[3]=w,this.m[4]=A,this.m[5]=T,this}getMatrix(){return this.m}decompose(){var v=this.m[0],S=this.m[1],P=this.m[2],O=this.m[3],w=this.m[4],A=this.m[5],T=v*O-S*P;let R={x:w,y:A,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(v!=0||S!=0){var N=Math.sqrt(v*v+S*S);R.rotation=S>0?Math.acos(v/N):-Math.acos(v/N),R.scaleX=N,R.scaleY=T/N,R.skewX=(v*P+S*O)/T,R.skewY=0}else if(P!=0||O!=0){var g=Math.sqrt(P*P+O*O);R.rotation=Math.PI/2-(O>0?Math.acos(-P/g):-Math.acos(P/g)),R.scaleX=T/g,R.scaleY=g,R.skewX=0,R.skewY=(v*P+S*O)/T}return R.rotation=e.Util._getRotation(R.rotation),R}}e.Transform=r;var i="[object Array]",n="[object Number]",s="[object String]",a="[object Boolean]",o=Math.PI/180,h=180/Math.PI,u="#",m="",d="0",_="Konva warning: ",p="Konva error: ",f="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,x=[];const c=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(l){setTimeout(l,60)};e.Util={_isElement(l){return!!(l&&l.nodeType==1)},_isFunction(l){return!!(l&&l.constructor&&l.call&&l.apply)},_isPlainObject(l){return!!l&&l.constructor===Object},_isArray(l){return Object.prototype.toString.call(l)===i},_isNumber(l){return Object.prototype.toString.call(l)===n&&!isNaN(l)&&isFinite(l)},_isString(l){return Object.prototype.toString.call(l)===s},_isBoolean(l){return Object.prototype.toString.call(l)===a},isObject(l){return l instanceof Object},isValidSelector(l){if(typeof l!="string")return!1;var v=l[0];return v==="#"||v==="."||v===v.toUpperCase()},_sign(l){return l===0||l>0?1:-1},requestAnimFrame(l){x.push(l),x.length===1&&c(function(){const v=x;x=[],v.forEach(function(S){S()})})},createCanvasElement(){var l=document.createElement("canvas");try{l.style=l.style||{}}catch{}return l},createImageElement(){return document.createElement("img")},_isInDocument(l){for(;l=l.parentNode;)if(l==document)return!0;return!1},_urlToImage(l,v){var S=e.Util.createImageElement();S.onload=function(){v(S)},S.src=l},_rgbToHex(l,v,S){return((1<<24)+(l<<16)+(v<<8)+S).toString(16).slice(1)},_hexToRgb(l){l=l.replace(u,m);var v=parseInt(l,16);return{r:v>>16&255,g:v>>8&255,b:v&255}},getRandomColor(){for(var l=(Math.random()*16777215<<0).toString(16);l.length<6;)l=d+l;return u+l},getRGB(l){var v;return l in y?(v=y[l],{r:v[0],g:v[1],b:v[2]}):l[0]===u?this._hexToRgb(l.substring(1)):l.substr(0,4)===f?(v=C.exec(l.replace(/ /g,"")),{r:parseInt(v[1],10),g:parseInt(v[2],10),b:parseInt(v[3],10)}):{r:0,g:0,b:0}},colorToRGBA(l){return l=l||"black",e.Util._namedColorToRBA(l)||e.Util._hex3ColorToRGBA(l)||e.Util._hex4ColorToRGBA(l)||e.Util._hex6ColorToRGBA(l)||e.Util._hex8ColorToRGBA(l)||e.Util._rgbColorToRGBA(l)||e.Util._rgbaColorToRGBA(l)||e.Util._hslColorToRGBA(l)},_namedColorToRBA(l){var v=y[l.toLowerCase()];return v?{r:v[0],g:v[1],b:v[2],a:1}:null},_rgbColorToRGBA(l){if(l.indexOf("rgb(")===0){l=l.match(/rgb\(([^)]+)\)/)[1];var v=l.split(/ *, */).map(Number);return{r:v[0],g:v[1],b:v[2],a:1}}},_rgbaColorToRGBA(l){if(l.indexOf("rgba(")===0){l=l.match(/rgba\(([^)]+)\)/)[1];var v=l.split(/ *, */).map((S,P)=>S.slice(-1)==="%"?P===3?parseInt(S)/100:parseInt(S)/100*255:Number(S));return{r:v[0],g:v[1],b:v[2],a:v[3]}}},_hex8ColorToRGBA(l){if(l[0]==="#"&&l.length===9)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:parseInt(l.slice(7,9),16)/255}},_hex6ColorToRGBA(l){if(l[0]==="#"&&l.length===7)return{r:parseInt(l.slice(1,3),16),g:parseInt(l.slice(3,5),16),b:parseInt(l.slice(5,7),16),a:1}},_hex4ColorToRGBA(l){if(l[0]==="#"&&l.length===5)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:parseInt(l[4]+l[4],16)/255}},_hex3ColorToRGBA(l){if(l[0]==="#"&&l.length===4)return{r:parseInt(l[1]+l[1],16),g:parseInt(l[2]+l[2],16),b:parseInt(l[3]+l[3],16),a:1}},_hslColorToRGBA(l){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(l)){const[v,...S]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(l),P=Number(S[0])/360,O=Number(S[1])/100,w=Number(S[2])/100;let A,T,R;if(O===0)return R=w*255,{r:Math.round(R),g:Math.round(R),b:Math.round(R),a:1};w<.5?A=w*(1+O):A=w+O-w*O;const N=2*w-A,g=[0,0,0];for(let b=0;b<3;b++)T=P+1/3*-(b-1),T<0&&T++,T>1&&T--,6*T<1?R=N+(A-N)*6*T:2*T<1?R=A:3*T<2?R=N+(A-N)*(2/3-T)*6:R=N,g[b]=R*255;return{r:Math.round(g[0]),g:Math.round(g[1]),b:Math.round(g[2]),a:1}}},haveIntersection(l,v){return!(v.x>l.x+l.width||v.x+v.width<l.x||v.y>l.y+l.height||v.y+v.height<l.y)},cloneObject(l){var v={};for(var S in l)this._isPlainObject(l[S])?v[S]=this.cloneObject(l[S]):this._isArray(l[S])?v[S]=this.cloneArray(l[S]):v[S]=l[S];return v},cloneArray(l){return l.slice(0)},degToRad(l){return l*o},radToDeg(l){return l*h},_degToRad(l){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(l)},_radToDeg(l){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(l)},_getRotation(l){return t.Konva.angleDeg?e.Util.radToDeg(l):l},_capitalize(l){return l.charAt(0).toUpperCase()+l.slice(1)},throw(l){throw new Error(p+l)},error(l){console.error(p+l)},warn(l){t.Konva.showWarnings&&console.warn(_+l)},each(l,v){for(var S in l)v(S,l[S])},_inRange(l,v,S){return v<=l&&l<S},_getProjectionToSegment(l,v,S,P,O,w){var A,T,R,N=(l-S)*(l-S)+(v-P)*(v-P);if(N==0)A=l,T=v,R=(O-S)*(O-S)+(w-P)*(w-P);else{var g=((O-l)*(S-l)+(w-v)*(P-v))/N;g<0?(A=l,T=v,R=(l-O)*(l-O)+(v-w)*(v-w)):g>1?(A=S,T=P,R=(S-O)*(S-O)+(P-w)*(P-w)):(A=l+g*(S-l),T=v+g*(P-v),R=(A-O)*(A-O)+(T-w)*(T-w))}return[A,T,R]},_getProjectionToLine(l,v,S){var P=e.Util.cloneObject(l),O=Number.MAX_VALUE;return v.forEach(function(w,A){if(!(!S&&A===v.length-1)){var T=v[(A+1)%v.length],R=e.Util._getProjectionToSegment(w.x,w.y,T.x,T.y,l.x,l.y),N=R[0],g=R[1],b=R[2];b<O&&(P.x=N,P.y=g,O=b)}}),P},_prepareArrayForTween(l,v,S){var P,O=[],w=[];if(l.length>v.length){var A=v;v=l,l=A}for(P=0;P<l.length;P+=2)O.push({x:l[P],y:l[P+1]});for(P=0;P<v.length;P+=2)w.push({x:v[P],y:v[P+1]});var T=[];return w.forEach(function(R){var N=e.Util._getProjectionToLine(R,O,S);T.push(N.x),T.push(N.y)}),T},_prepareToStringify(l){var v;l.visitedByCircularReferenceRemoval=!0;for(var S in l)if(l.hasOwnProperty(S)&&l[S]&&typeof l[S]=="object"){if(v=Object.getOwnPropertyDescriptor(l,S),l[S].visitedByCircularReferenceRemoval||e.Util._isElement(l[S]))if(v.configurable)delete l[S];else return null;else if(e.Util._prepareToStringify(l[S])===null)if(v.configurable)delete l[S];else return null}return delete l.visitedByCircularReferenceRemoval,l},_assign(l,v){for(var S in v)l[S]=v[S];return l},_getFirstPointerId(l){return l.touches?l.changedTouches[0].identifier:l.pointerId||999},releaseCanvas(...l){t.Konva.releaseCanvasOnDestroy&&l.forEach(v=>{v.width=0,v.height=0})},drawRoundedRectPath(l,v,S,P){let O=0,w=0,A=0,T=0;typeof P=="number"?O=w=A=T=Math.min(P,v/2,S/2):(O=Math.min(P[0]||0,v/2,S/2),w=Math.min(P[1]||0,v/2,S/2),T=Math.min(P[2]||0,v/2,S/2),A=Math.min(P[3]||0,v/2,S/2)),l.moveTo(O,0),l.lineTo(v-w,0),l.arc(v-w,w,w,Math.PI*3/2,0,!1),l.lineTo(v,S-T),l.arc(v-T,S-T,T,0,Math.PI/2,!1),l.lineTo(A,S),l.arc(A,S-A,A,Math.PI/2,Math.PI,!1),l.lineTo(0,O),l.arc(O,O,O,Math.PI,Math.PI*3/2,!1)}}}(Zn)),Zn}var Or={},es={},Ee={},uo;function _e(){if(uo)return Ee;uo=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getComponentValidator=Ee.getBooleanValidator=Ee.getNumberArrayValidator=Ee.getFunctionValidator=Ee.getStringOrGradientValidator=Ee.getStringValidator=Ee.getNumberOrAutoValidator=Ee.getNumberOrArrayOfNumbersValidator=Ee.getNumberValidator=Ee.alphaComponent=Ee.RGBComponent=void 0;const e=me(),t=Ne();function r(f){return t.Util._isString(f)?'"'+f+'"':Object.prototype.toString.call(f)==="[object Number]"||t.Util._isBoolean(f)?f:Object.prototype.toString.call(f)}function i(f){return f>255?255:f<0?0:Math.round(f)}Ee.RGBComponent=i;function n(f){return f>1?1:f<1e-4?1e-4:f}Ee.alphaComponent=n;function s(){if(e.Konva.isUnminified)return function(f,y){return t.Util._isNumber(f)||t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),f}}Ee.getNumberValidator=s;function a(f){if(e.Konva.isUnminified)return function(y,C){let x=t.Util._isNumber(y),c=t.Util._isArray(y)&&y.length==f;return!x&&!c&&t.Util.warn(r(y)+' is a not valid value for "'+C+'" attribute. The value should be a number or Array<number>('+f+")"),y}}Ee.getNumberOrArrayOfNumbersValidator=a;function o(){if(e.Konva.isUnminified)return function(f,y){var C=t.Util._isNumber(f),x=f==="auto";return C||x||t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),f}}Ee.getNumberOrAutoValidator=o;function h(){if(e.Konva.isUnminified)return function(f,y){return t.Util._isString(f)||t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),f}}Ee.getStringValidator=h;function u(){if(e.Konva.isUnminified)return function(f,y){const C=t.Util._isString(f),x=Object.prototype.toString.call(f)==="[object CanvasGradient]"||f&&f.addColorStop;return C||x||t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),f}}Ee.getStringOrGradientValidator=u;function m(){if(e.Konva.isUnminified)return function(f,y){return t.Util._isFunction(f)||t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),f}}Ee.getFunctionValidator=m;function d(){if(e.Konva.isUnminified)return function(f,y){const C=Int8Array?Object.getPrototypeOf(Int8Array):null;return C&&f instanceof C||(t.Util._isArray(f)?f.forEach(function(x){t.Util._isNumber(x)||t.Util.warn('"'+y+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),f}}Ee.getNumberArrayValidator=d;function _(){if(e.Konva.isUnminified)return function(f,y){var C=f===!0||f===!1;return C||t.Util.warn(r(f)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),f}}Ee.getBooleanValidator=_;function p(f){if(e.Konva.isUnminified)return function(y,C){return y==null||t.Util.isObject(y)||t.Util.warn(r(y)+' is a not valid value for "'+C+'" attribute. The value should be an object with properties '+f),y}}return Ee.getComponentValidator=p,Ee}var fo;function ge(){return fo||(fo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Ne(),r=_e();var i="get",n="set";e.Factory={addGetterSetter(s,a,o,h,u){e.Factory.addGetter(s,a,o),e.Factory.addSetter(s,a,h,u),e.Factory.addOverloadedGetterSetter(s,a)},addGetter(s,a,o){var h=i+t.Util._capitalize(a);s.prototype[h]=s.prototype[h]||function(){var u=this.attrs[a];return u===void 0?o:u}},addSetter(s,a,o,h){var u=n+t.Util._capitalize(a);s.prototype[u]||e.Factory.overWriteSetter(s,a,o,h)},overWriteSetter(s,a,o,h){var u=n+t.Util._capitalize(a);s.prototype[u]=function(m){return o&&m!==void 0&&m!==null&&(m=o.call(this,m,a)),this._setAttr(a,m),h&&h.call(this),this}},addComponentsGetterSetter(s,a,o,h,u){var m=o.length,d=t.Util._capitalize,_=i+d(a),p=n+d(a),f,y;s.prototype[_]=function(){var x={};for(f=0;f<m;f++)y=o[f],x[y]=this.getAttr(a+d(y));return x};var C=(0,r.getComponentValidator)(o);s.prototype[p]=function(x){var c=this.attrs[a],l;h&&(x=h.call(this,x)),C&&C.call(this,x,a);for(l in x)x.hasOwnProperty(l)&&this._setAttr(a+d(l),x[l]);return x||o.forEach(v=>{this._setAttr(a+d(v),void 0)}),this._fireChangeEvent(a,c,x),u&&u.call(this),this},e.Factory.addOverloadedGetterSetter(s,a)},addOverloadedGetterSetter(s,a){var o=t.Util._capitalize(a),h=n+o,u=i+o;s.prototype[a]=function(){return arguments.length?(this[h](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(s,a,o,h){t.Util.error("Adding deprecated "+a);var u=i+t.Util._capitalize(a),m=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[u]=function(){t.Util.error(m);var d=this.attrs[a];return d===void 0?o:d},e.Factory.addSetter(s,a,h,function(){t.Util.error(m)}),e.Factory.addOverloadedGetterSetter(s,a)},backCompat(s,a){t.Util.each(a,function(o,h){var u=s.prototype[h],m=i+t.Util._capitalize(o),d=n+t.Util._capitalize(o);function _(){u.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}s.prototype[o]=_,s.prototype[m]=_,s.prototype[d]=_})},afterSetFilter(){this._filterUpToDate=!1}}}(es)),es}var bt={},Ct={},go;function _c(){if(go)return Ct;go=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.HitContext=Ct.SceneContext=Ct.Context=void 0;const e=Ne(),t=me();function r(x){var c=[],l=x.length,v=e.Util,S,P;for(S=0;S<l;S++)P=x[S],v._isNumber(P)?P=Math.round(P*1e3)/1e3:v._isString(P)||(P=P+""),c.push(P);return c}var i=",",n="(",s=")",a="([",o="])",h=";",u="()",m="=",d=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],_=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const p=100;let f=class{constructor(c){this.canvas=c,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(c){c.fillEnabled()&&this._fill(c)}_fill(c){}strokeShape(c){c.hasStroke()&&this._stroke(c)}_stroke(c){}fillStrokeShape(c){c.attrs.fillAfterStrokeEnabled?(this.strokeShape(c),this.fillShape(c)):(this.fillShape(c),this.strokeShape(c))}getTrace(c,l){var v=this.traceArr,S=v.length,P="",O,w,A,T;for(O=0;O<S;O++)w=v[O],A=w.method,A?(T=w.args,P+=A,c?P+=u:e.Util._isArray(T[0])?P+=a+T.join(i)+o:(l&&(T=T.map(R=>typeof R=="number"?Math.floor(R):R)),P+=n+T.join(i)+s)):(P+=w.property,c||(P+=m+w.val)),P+=h;return P}clearTrace(){this.traceArr=[]}_trace(c){var l=this.traceArr,v;l.push(c),v=l.length,v>=p&&l.shift()}reset(){var c=this.getCanvas().getPixelRatio();this.setTransform(1*c,0,0,1*c,0,0)}getCanvas(){return this.canvas}clear(c){var l=this.getCanvas();c?this.clearRect(c.x||0,c.y||0,c.width||0,c.height||0):this.clearRect(0,0,l.getWidth()/l.pixelRatio,l.getHeight()/l.pixelRatio)}_applyLineCap(c){const l=c.attrs.lineCap;l&&this.setAttr("lineCap",l)}_applyOpacity(c){var l=c.getAbsoluteOpacity();l!==1&&this.setAttr("globalAlpha",l)}_applyLineJoin(c){const l=c.attrs.lineJoin;l&&this.setAttr("lineJoin",l)}setAttr(c,l){this._context[c]=l}arc(c,l,v,S,P,O){this._context.arc(c,l,v,S,P,O)}arcTo(c,l,v,S,P){this._context.arcTo(c,l,v,S,P)}beginPath(){this._context.beginPath()}bezierCurveTo(c,l,v,S,P,O){this._context.bezierCurveTo(c,l,v,S,P,O)}clearRect(c,l,v,S){this._context.clearRect(c,l,v,S)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(c,l){var v=arguments;if(v.length===2)return this._context.createImageData(c,l);if(v.length===1)return this._context.createImageData(c)}createLinearGradient(c,l,v,S){return this._context.createLinearGradient(c,l,v,S)}createPattern(c,l){return this._context.createPattern(c,l)}createRadialGradient(c,l,v,S,P,O){return this._context.createRadialGradient(c,l,v,S,P,O)}drawImage(c,l,v,S,P,O,w,A,T){var R=arguments,N=this._context;R.length===3?N.drawImage(c,l,v):R.length===5?N.drawImage(c,l,v,S,P):R.length===9&&N.drawImage(c,l,v,S,P,O,w,A,T)}ellipse(c,l,v,S,P,O,w,A){this._context.ellipse(c,l,v,S,P,O,w,A)}isPointInPath(c,l,v,S){return v?this._context.isPointInPath(v,c,l,S):this._context.isPointInPath(c,l,S)}fill(c){c?this._context.fill(c):this._context.fill()}fillRect(c,l,v,S){this._context.fillRect(c,l,v,S)}strokeRect(c,l,v,S){this._context.strokeRect(c,l,v,S)}fillText(c,l,v,S){S?this._context.fillText(c,l,v,S):this._context.fillText(c,l,v)}measureText(c){return this._context.measureText(c)}getImageData(c,l,v,S){return this._context.getImageData(c,l,v,S)}lineTo(c,l){this._context.lineTo(c,l)}moveTo(c,l){this._context.moveTo(c,l)}rect(c,l,v,S){this._context.rect(c,l,v,S)}putImageData(c,l,v){this._context.putImageData(c,l,v)}quadraticCurveTo(c,l,v,S){this._context.quadraticCurveTo(c,l,v,S)}restore(){this._context.restore()}rotate(c){this._context.rotate(c)}save(){this._context.save()}scale(c,l){this._context.scale(c,l)}setLineDash(c){this._context.setLineDash?this._context.setLineDash(c):"mozDash"in this._context?this._context.mozDash=c:"webkitLineDash"in this._context&&(this._context.webkitLineDash=c)}getLineDash(){return this._context.getLineDash()}setTransform(c,l,v,S,P,O){this._context.setTransform(c,l,v,S,P,O)}stroke(c){c?this._context.stroke(c):this._context.stroke()}strokeText(c,l,v,S){this._context.strokeText(c,l,v,S)}transform(c,l,v,S,P,O){this._context.transform(c,l,v,S,P,O)}translate(c,l){this._context.translate(c,l)}_enableTrace(){var c=this,l=d.length,v=this.setAttr,S,P,O=function(w){var A=c[w],T;c[w]=function(){return P=r(Array.prototype.slice.call(arguments,0)),T=A.apply(c,arguments),c._trace({method:w,args:P}),T}};for(S=0;S<l;S++)O(d[S]);c.setAttr=function(){v.apply(c,arguments);var w=arguments[0],A=arguments[1];(w==="shadowOffsetX"||w==="shadowOffsetY"||w==="shadowBlur")&&(A=A/this.canvas.getPixelRatio()),c._trace({property:w,val:A})}}_applyGlobalCompositeOperation(c){const l=c.attrs.globalCompositeOperation;var v=!l||l==="source-over";v||this.setAttr("globalCompositeOperation",l)}};Ct.Context=f,_.forEach(function(x){Object.defineProperty(f.prototype,x,{get(){return this._context[x]},set(c){this._context[x]=c}})});class y extends f{constructor(c,{willReadFrequently:l=!1}={}){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:l})}_fillColor(c){var l=c.fill();this.setAttr("fillStyle",l),c._fillFunc(this)}_fillPattern(c){this.setAttr("fillStyle",c._getFillPattern()),c._fillFunc(this)}_fillLinearGradient(c){var l=c._getLinearGradient();l&&(this.setAttr("fillStyle",l),c._fillFunc(this))}_fillRadialGradient(c){const l=c._getRadialGradient();l&&(this.setAttr("fillStyle",l),c._fillFunc(this))}_fill(c){const l=c.fill(),v=c.getFillPriority();if(l&&v==="color"){this._fillColor(c);return}const S=c.getFillPatternImage();if(S&&v==="pattern"){this._fillPattern(c);return}const P=c.getFillLinearGradientColorStops();if(P&&v==="linear-gradient"){this._fillLinearGradient(c);return}const O=c.getFillRadialGradientColorStops();if(O&&v==="radial-gradient"){this._fillRadialGradient(c);return}l?this._fillColor(c):S?this._fillPattern(c):P?this._fillLinearGradient(c):O&&this._fillRadialGradient(c)}_strokeLinearGradient(c){const l=c.getStrokeLinearGradientStartPoint(),v=c.getStrokeLinearGradientEndPoint(),S=c.getStrokeLinearGradientColorStops(),P=this.createLinearGradient(l.x,l.y,v.x,v.y);if(S){for(var O=0;O<S.length;O+=2)P.addColorStop(S[O],S[O+1]);this.setAttr("strokeStyle",P)}}_stroke(c){var l=c.dash(),v=c.getStrokeScaleEnabled();if(c.hasStroke()){if(!v){this.save();var S=this.getCanvas().getPixelRatio();this.setTransform(S,0,0,S,0,0)}this._applyLineCap(c),l&&c.dashEnabled()&&(this.setLineDash(l),this.setAttr("lineDashOffset",c.dashOffset())),this.setAttr("lineWidth",c.strokeWidth()),c.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var P=c.getStrokeLinearGradientColorStops();P?this._strokeLinearGradient(c):this.setAttr("strokeStyle",c.stroke()),c._strokeFunc(this),v||this.restore()}}_applyShadow(c){var l,v,S,P=(l=c.getShadowRGBA())!==null&&l!==void 0?l:"black",O=(v=c.getShadowBlur())!==null&&v!==void 0?v:5,w=(S=c.getShadowOffset())!==null&&S!==void 0?S:{x:0,y:0},A=c.getAbsoluteScale(),T=this.canvas.getPixelRatio(),R=A.x*T,N=A.y*T;this.setAttr("shadowColor",P),this.setAttr("shadowBlur",O*Math.min(Math.abs(R),Math.abs(N))),this.setAttr("shadowOffsetX",w.x*R),this.setAttr("shadowOffsetY",w.y*N)}}Ct.SceneContext=y;class C extends f{constructor(c){super(c),this._context=c._canvas.getContext("2d",{willReadFrequently:!0})}_fill(c){this.save(),this.setAttr("fillStyle",c.colorKey),c._fillFuncHit(this),this.restore()}strokeShape(c){c.hasHitStroke()&&this._stroke(c)}_stroke(c){if(c.hasHitStroke()){const P=c.getStrokeScaleEnabled();if(!P){this.save();var l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(c);var v=c.hitStrokeWidth(),S=v==="auto"?c.strokeWidth():v;this.setAttr("lineWidth",S),this.setAttr("strokeStyle",c.colorKey),c._strokeFuncHit(this),P||this.restore()}}}return Ct.HitContext=C,Ct}var po;function Vn(){if(po)return bt;po=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.HitCanvas=bt.SceneCanvas=bt.Canvas=void 0;const e=Ne(),t=_c(),r=me(),i=ge(),n=_e();var s;function a(){if(s)return s;var m=e.Util.createCanvasElement(),d=m.getContext("2d");return s=function(){var _=r.Konva._global.devicePixelRatio||1,p=d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1;return _/p}(),e.Util.releaseCanvas(m),s}let o=class{constructor(d){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var _=d||{},p=_.pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=p,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(d){var _=this.pixelRatio;this.pixelRatio=d,this.setSize(this.getWidth()/_,this.getHeight()/_)}setWidth(d){this.width=this._canvas.width=d*this.pixelRatio,this._canvas.style.width=d+"px";var _=this.pixelRatio,p=this.getContext()._context;p.scale(_,_)}setHeight(d){this.height=this._canvas.height=d*this.pixelRatio,this._canvas.style.height=d+"px";var _=this.pixelRatio,p=this.getContext()._context;p.scale(_,_)}getWidth(){return this.width}getHeight(){return this.height}setSize(d,_){this.setWidth(d||0),this.setHeight(_||0)}toDataURL(d,_){try{return this._canvas.toDataURL(d,_)}catch{try{return this._canvas.toDataURL()}catch(f){return e.Util.error("Unable to get data URL. "+f.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};bt.Canvas=o,i.Factory.addGetterSetter(o,"pixelRatio",void 0,(0,n.getNumberValidator)());class h extends o{constructor(d={width:0,height:0,willReadFrequently:!1}){super(d),this.context=new t.SceneContext(this,{willReadFrequently:d.willReadFrequently}),this.setSize(d.width,d.height)}}bt.SceneCanvas=h;class u extends o{constructor(d={width:0,height:0}){super(d),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(d.width,d.height)}}return bt.HitCanvas=u,bt}var ts={},mo;function ca(){return mo||(mo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=me(),r=Ne();e.DD={get isDragging(){var i=!1;return e.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return e.DD._dragElements.forEach(n=>{i=n.node}),i},_dragElements:new Map,_drag(i){const n=[];e.DD._dragElements.forEach((s,a)=>{const{node:o}=s,h=o.getStage();h.setPointersPositions(i),s.pointerId===void 0&&(s.pointerId=r.Util._getFirstPointerId(i));const u=h._changedPointerPositions.find(_=>_.id===s.pointerId);if(u){if(s.dragStatus!=="dragging"){var m=o.dragDistance(),d=Math.max(Math.abs(u.x-s.startPointerPos.x),Math.abs(u.y-s.startPointerPos.y));if(d<m||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,s),n.push(o)}}),n.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:i},!0)})},_endDragBefore(i){const n=[];e.DD._dragElements.forEach(s=>{const{node:a}=s,o=a.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(m=>m.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,s.dragStatus="stopped");const u=s.node.getLayer()||s.node instanceof t.Konva.Stage&&s.node;u&&n.indexOf(u)===-1&&n.push(u)}),n.forEach(s=>{s.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((n,s)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:i},!0),n.dragStatus!=="dragging"&&e.DD._dragElements.delete(s)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))}(ts)),ts}var _o;function Fe(){if(_o)return Or;_o=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.Node=void 0;const e=Ne(),t=ge(),r=Vn(),i=me(),n=ca(),s=_e();var a="absoluteOpacity",o="allEventListeners",h="absoluteTransform",u="absoluteScale",m="canvas",d="Change",_="children",p="konva",f="listening",y="mouseenter",C="mouseleave",x="set",c="Shape",l=" ",v="stage",S="transform",P="Stage",O="visible",w=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(l);let A=1,T=class Rs{constructor(g){this._id=A++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(g),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(g){(g===S||g===h)&&this._cache.get(g)?this._cache.get(g).dirty=!0:g?this._cache.delete(g):this._cache.clear()}_getCache(g,b){var E=this._cache.get(g),k=g===S||g===h,M=E===void 0||k&&E.dirty===!0;return M&&(E=b.call(this),this._cache.set(g,E)),E}_calculate(g,b,E){if(!this._attachedDepsListeners.get(g)){const k=b.map(M=>M+"Change.konva").join(l);this.on(k,()=>{this._clearCache(g)}),this._attachedDepsListeners.set(g,!0)}return this._getCache(g,E)}_getCanvasCache(){return this._cache.get(m)}_clearSelfAndDescendantCache(g){this._clearCache(g),g===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(m)){const{scene:g,filter:b,hit:E}=this._cache.get(m);e.Util.releaseCanvas(g,b,E),this._cache.delete(m)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(g){var b=g||{},E={};(b.x===void 0||b.y===void 0||b.width===void 0||b.height===void 0)&&(E=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var k=Math.ceil(b.width||E.width),M=Math.ceil(b.height||E.height),L=b.pixelRatio,G=b.x===void 0?Math.floor(E.x):b.x,B=b.y===void 0?Math.floor(E.y):b.y,K=b.offset||0,X=b.drawBorder||!1,z=b.hitCanvasPixelRatio||1;if(!k||!M){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}k+=K*2+1,M+=K*2+1,G-=K,B-=K;var te=new r.SceneCanvas({pixelRatio:L,width:k,height:M}),re=new r.SceneCanvas({pixelRatio:L,width:0,height:0,willReadFrequently:!0}),ie=new r.HitCanvas({pixelRatio:z,width:k,height:M}),I=te.getContext(),U=ie.getContext();return ie.isCache=!0,te.isCache=!0,this._cache.delete(m),this._filterUpToDate=!1,b.imageSmoothingEnabled===!1&&(te.getContext()._context.imageSmoothingEnabled=!1,re.getContext()._context.imageSmoothingEnabled=!1),I.save(),U.save(),I.translate(-G,-B),U.translate(-G,-B),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this.drawScene(te,this),this.drawHit(ie,this),this._isUnderCache=!1,I.restore(),U.restore(),X&&(I.save(),I.beginPath(),I.rect(0,0,k,M),I.closePath(),I.setAttr("strokeStyle","red"),I.setAttr("lineWidth",5),I.stroke(),I.restore()),this._cache.set(m,{scene:te,filter:re,hit:ie,x:G,y:B}),this._requestDraw(),this}isCached(){return this._cache.has(m)}getClientRect(g){throw new Error('abstract "getClientRect" method call')}_transformedRect(g,b){var E=[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}],k,M,L,G,B=this.getAbsoluteTransform(b);return E.forEach(function(K){var X=B.point(K);k===void 0&&(k=L=X.x,M=G=X.y),k=Math.min(k,X.x),M=Math.min(M,X.y),L=Math.max(L,X.x),G=Math.max(G,X.y)}),{x:k,y:M,width:L-k,height:G-M}}_drawCachedSceneCanvas(g){g.save(),g._applyOpacity(this),g._applyGlobalCompositeOperation(this);const b=this._getCanvasCache();g.translate(b.x,b.y);var E=this._getCachedSceneCanvas(),k=E.pixelRatio;g.drawImage(E._canvas,0,0,E.width/k,E.height/k),g.restore()}_drawCachedHitCanvas(g){var b=this._getCanvasCache(),E=b.hit;g.save(),g.translate(b.x,b.y),g.drawImage(E._canvas,0,0,E.width/E.pixelRatio,E.height/E.pixelRatio),g.restore()}_getCachedSceneCanvas(){var g=this.filters(),b=this._getCanvasCache(),E=b.scene,k=b.filter,M=k.getContext(),L,G,B,K;if(g){if(!this._filterUpToDate){var X=E.pixelRatio;k.setSize(E.width/E.pixelRatio,E.height/E.pixelRatio);try{for(L=g.length,M.clear(),M.drawImage(E._canvas,0,0,E.getWidth()/X,E.getHeight()/X),G=M.getImageData(0,0,k.getWidth(),k.getHeight()),B=0;B<L;B++){if(K=g[B],typeof K!="function"){e.Util.error("Filter should be type of function, but got "+typeof K+" instead. Please check correct filters");continue}K.call(this,G),M.putImageData(G,0,0)}}catch(z){e.Util.error("Unable to apply filter. "+z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return k}return E}on(g,b){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);var E=g.split(l),k=E.length,M,L,G,B,K;for(M=0;M<k;M++)L=E[M],G=L.split("."),B=G[0],K=G[1]||"",this.eventListeners[B]||(this.eventListeners[B]=[]),this.eventListeners[B].push({name:K,handler:b});return this}off(g,b){var E=(g||"").split(l),k=E.length,M,L,G,B,K,X;if(this._cache&&this._cache.delete(o),!g)for(L in this.eventListeners)this._off(L);for(M=0;M<k;M++)if(G=E[M],B=G.split("."),K=B[0],X=B[1],K)this.eventListeners[K]&&this._off(K,X,b);else for(L in this.eventListeners)this._off(L,X,b);return this}dispatchEvent(g){var b={target:this,type:g.type,evt:g};return this.fire(g.type,b),this}addEventListener(g,b){return this.on(g,function(E){b.call(this,E.evt)}),this}removeEventListener(g){return this.off(g),this}_delegate(g,b,E){var k=this;this.on(g,function(M){for(var L=M.target.findAncestors(b,!0,k),G=0;G<L.length;G++)M=e.Util.cloneObject(M),M.currentTarget=L[G],E.call(L[G],M)})}remove(){return this.isDragging()&&this.stopDrag(),n.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(O),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();var g=this.getParent();g&&g.children&&(g.children.splice(this.index,1),g._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(g){var b="get"+e.Util._capitalize(g);return e.Util._isFunction(this[b])?this[b]():this.attrs[g]}getAncestors(){for(var g=this.getParent(),b=[];g;)b.push(g),g=g.getParent();return b}getAttrs(){return this.attrs||{}}setAttrs(g){return this._batchTransformChanges(()=>{var b,E;if(!g)return this;for(b in g)b!==_&&(E=x+e.Util._capitalize(b),e.Util._isFunction(this[E])?this[E](g[b]):this._setAttr(b,g[b]))}),this}isListening(){return this._getCache(f,this._isListening)}_isListening(g){if(!this.listening())return!1;const E=this.getParent();return E&&E!==g&&this!==g?E._isListening(g):!0}isVisible(){return this._getCache(O,this._isVisible)}_isVisible(g){if(!this.visible())return!1;const E=this.getParent();return E&&E!==g&&this!==g?E._isVisible(g):!0}shouldDrawHit(g,b=!1){if(g)return this._isVisible(g)&&this._isListening(g);var E=this.getLayer(),k=!1;n.DD._dragElements.forEach(L=>{L.dragStatus==="dragging"&&(L.node.nodeType==="Stage"||L.node.getLayer()===E)&&(k=!0)});var M=!b&&!i.Konva.hitOnDragEnabled&&k;return this.isListening()&&this.isVisible()&&!M}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var g=this.getDepth(),b=this,E=0,k,M,L,G;function B(K){for(k=[],M=K.length,L=0;L<M;L++)G=K[L],E++,G.nodeType!==c&&(k=k.concat(G.getChildren().slice())),G._id===b._id&&(L=M);k.length>0&&k[0].getDepth()<=g&&B(k)}return b.nodeType!==P&&B(b.getStage().getChildren()),E}getDepth(){for(var g=0,b=this.parent;b;)g++,b=b.parent;return g}_batchTransformChanges(g){this._batchingTransformChange=!0,g(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(S),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(g){return this._batchTransformChanges(()=>{this.x(g.x),this.y(g.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var g=this.getStage().getPointerPosition();if(!g)return null;var b=this.getAbsoluteTransform().copy();return b.invert(),b.point(g)}getAbsolutePosition(g){let b=!1,E=this.parent;for(;E;){if(E.isCached()){b=!0;break}E=E.parent}b&&!g&&(g=!0);var k=this.getAbsoluteTransform(g).getMatrix(),M=new e.Transform,L=this.offset();return M.m=k.slice(),M.translate(L.x,L.y),M.getTranslation()}setAbsolutePosition(g){var b=this._clearTransform();this.attrs.x=b.x,this.attrs.y=b.y,delete b.x,delete b.y,this._clearCache(S);var E=this._getAbsoluteTransform().copy();return E.invert(),E.translate(g.x,g.y),g={x:this.attrs.x+E.getTranslation().x,y:this.attrs.y+E.getTranslation().y},this._setTransform(b),this.setPosition({x:g.x,y:g.y}),this._clearCache(S),this._clearSelfAndDescendantCache(h),this}_setTransform(g){var b;for(b in g)this.attrs[b]=g[b]}_clearTransform(){var g={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,g}move(g){var b=g.x,E=g.y,k=this.x(),M=this.y();return b!==void 0&&(k+=b),E!==void 0&&(M+=E),this.setPosition({x:k,y:M}),this}_eachAncestorReverse(g,b){var E=[],k=this.getParent(),M,L;if(!(b&&b._id===this._id)){for(E.unshift(this);k&&(!b||k._id!==b._id);)E.unshift(k),k=k.parent;for(M=E.length,L=0;L<M;L++)g(E[L])}}rotate(g){return this.rotation(this.rotation()+g),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var g=this.index,b=this.parent.getChildren().length;return g<b-1?(this.parent.children.splice(g,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var g=this.index,b=this.parent.getChildren().length;return g<b-1?(this.parent.children.splice(g,1),this.parent.children.splice(g+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var g=this.index;return g>0?(this.parent.children.splice(g,1),this.parent.children.splice(g-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var g=this.index;return g>0?(this.parent.children.splice(g,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(g){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(g<0||g>=this.parent.children.length)&&e.Util.warn("Unexpected value "+g+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var b=this.index;return this.parent.children.splice(b,1),this.parent.children.splice(g,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var g=this.opacity(),b=this.getParent();return b&&!b._isUnderCache&&(g*=b.getAbsoluteOpacity()),g}moveTo(g){return this.getParent()!==g&&(this._remove(),g.add(this)),this}toObject(){var g={},b=this.getAttrs(),E,k,M,L,G;g.attrs={};for(E in b)k=b[E],G=e.Util.isObject(k)&&!e.Util._isPlainObject(k)&&!e.Util._isArray(k),!G&&(M=typeof this[E]=="function"&&this[E],delete b[E],L=M?M.call(this):null,b[E]=k,L!==k&&(g.attrs[E]=k));return g.className=this.getClassName(),e.Util._prepareToStringify(g)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(g,b,E){var k=[];b&&this._isMatch(g)&&k.push(this);for(var M=this.parent;M;){if(M===E)return k;M._isMatch(g)&&k.push(M),M=M.parent}return k}isAncestorOf(g){return!1}findAncestor(g,b,E){return this.findAncestors(g,b,E)[0]}_isMatch(g){if(!g)return!1;if(typeof g=="function")return g(this);var b=g.replace(/ /g,"").split(","),E=b.length,k,M;for(k=0;k<E;k++)if(M=b[k],e.Util.isValidSelector(M)||(e.Util.warn('Selector "'+M+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),M.charAt(0)==="#"){if(this.id()===M.slice(1))return!0}else if(M.charAt(0)==="."){if(this.hasName(M.slice(1)))return!0}else if(this.className===M||this.nodeType===M)return!0;return!1}getLayer(){var g=this.getParent();return g?g.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){var g=this.getParent();if(g)return g.getStage()}fire(g,b={},E){return b.target=b.target||this,E?this._fireAndBubble(g,b):this._fire(g,b),this}getAbsoluteTransform(g){return g?this._getAbsoluteTransform(g):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(g){var b;if(g)return b=new e.Transform,this._eachAncestorReverse(function(k){var M=k.transformsEnabled();M==="all"?b.multiply(k.getTransform()):M==="position"&&b.translate(k.x()-k.offsetX(),k.y()-k.offsetY())},g),b;b=this._cache.get(h)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(b):b.reset();var E=this.transformsEnabled();if(E==="all")b.multiply(this.getTransform());else if(E==="position"){const k=this.attrs.x||0,M=this.attrs.y||0,L=this.attrs.offsetX||0,G=this.attrs.offsetY||0;b.translate(k-L,M-G)}return b.dirty=!1,b}getAbsoluteScale(g){for(var b=this;b;)b._isUnderCache&&(g=b),b=b.getParent();const k=this.getAbsoluteTransform(g).decompose();return{x:k.scaleX,y:k.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(S,this._getTransform)}_getTransform(){var g,b,E=this._cache.get(S)||new e.Transform;E.reset();var k=this.x(),M=this.y(),L=i.Konva.getAngle(this.rotation()),G=(g=this.attrs.scaleX)!==null&&g!==void 0?g:1,B=(b=this.attrs.scaleY)!==null&&b!==void 0?b:1,K=this.attrs.skewX||0,X=this.attrs.skewY||0,z=this.attrs.offsetX||0,te=this.attrs.offsetY||0;return(k!==0||M!==0)&&E.translate(k,M),L!==0&&E.rotate(L),(K!==0||X!==0)&&E.skew(K,X),(G!==1||B!==1)&&E.scale(G,B),(z!==0||te!==0)&&E.translate(-1*z,-1*te),E.dirty=!1,E}clone(g){var b=e.Util.cloneObject(this.attrs),E,k,M,L,G;for(E in g)b[E]=g[E];var B=new this.constructor(b);for(E in this.eventListeners)for(k=this.eventListeners[E],M=k.length,L=0;L<M;L++)G=k[L],G.name.indexOf(p)<0&&(B.eventListeners[E]||(B.eventListeners[E]=[]),B.eventListeners[E].push(G));return B}_toKonvaCanvas(g){g=g||{};var b=this.getClientRect(),E=this.getStage(),k=g.x!==void 0?g.x:Math.floor(b.x),M=g.y!==void 0?g.y:Math.floor(b.y),L=g.pixelRatio||1,G=new r.SceneCanvas({width:g.width||Math.ceil(b.width)||(E?E.width():0),height:g.height||Math.ceil(b.height)||(E?E.height():0),pixelRatio:L}),B=G.getContext();return g.imageSmoothingEnabled===!1&&(B._context.imageSmoothingEnabled=!1),B.save(),(k||M)&&B.translate(-1*k,-1*M),this.drawScene(G),B.restore(),G}toCanvas(g){return this._toKonvaCanvas(g)._canvas}toDataURL(g){g=g||{};var b=g.mimeType||null,E=g.quality||null,k=this._toKonvaCanvas(g).toDataURL(b,E);return g.callback&&g.callback(k),k}toImage(g){return new Promise((b,E)=>{try{const k=g==null?void 0:g.callback;k&&delete g.callback,e.Util._urlToImage(this.toDataURL(g),function(M){b(M),k==null||k(M)})}catch(k){E(k)}})}toBlob(g){return new Promise((b,E)=>{try{const k=g==null?void 0:g.callback;k&&delete g.callback,this.toCanvas(g).toBlob(M=>{b(M),k==null||k(M)})}catch(k){E(k)}})}setSize(g){return this.width(g.width),this.height(g.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(g,b,E){var k=this.eventListeners[g],M,L,G;for(M=0;M<k.length;M++)if(L=k[M].name,G=k[M].handler,(L!=="konva"||b==="konva")&&(!b||L===b)&&(!E||E===G)){if(k.splice(M,1),k.length===0){delete this.eventListeners[g];break}M--}}_fireChangeEvent(g,b,E){this._fire(g+d,{oldVal:b,newVal:E})}addName(g){if(!this.hasName(g)){var b=this.name(),E=b?b+" "+g:g;this.name(E)}return this}hasName(g){if(!g)return!1;const b=this.name();if(!b)return!1;var E=(b||"").split(/\s/g);return E.indexOf(g)!==-1}removeName(g){var b=(this.name()||"").split(/\s/g),E=b.indexOf(g);return E!==-1&&(b.splice(E,1),this.name(b.join(" "))),this}setAttr(g,b){var E=this[x+e.Util._capitalize(g)];return e.Util._isFunction(E)?E.call(this,b):this._setAttr(g,b),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const g=this.getLayer()||this.getStage();g==null||g.batchDraw()}}_setAttr(g,b){var E=this.attrs[g];E===b&&!e.Util.isObject(b)||(b==null?delete this.attrs[g]:this.attrs[g]=b,this._shouldFireChangeEvents&&this._fireChangeEvent(g,E,b),this._requestDraw())}_setComponentAttr(g,b,E){var k;E!==void 0&&(k=this.attrs[g],k||(this.attrs[g]=this.getAttr(g)),this.attrs[g][b]=E,this._fireChangeEvent(g,k,E))}_fireAndBubble(g,b,E){b&&this.nodeType===c&&(b.target=this);var k=(g===y||g===C)&&(E&&(this===E||this.isAncestorOf&&this.isAncestorOf(E))||this.nodeType==="Stage"&&!E);if(!k){this._fire(g,b);var M=(g===y||g===C)&&E&&E.isAncestorOf&&E.isAncestorOf(this)&&!E.isAncestorOf(this.parent);(b&&!b.cancelBubble||!b)&&this.parent&&this.parent.isListening()&&!M&&(E&&E.parent?this._fireAndBubble.call(this.parent,g,b,E):this._fireAndBubble.call(this.parent,g,b))}}_getProtoListeners(g){var b,E,k;const M=(b=this._cache.get(o))!==null&&b!==void 0?b:{};let L=M==null?void 0:M[g];if(L===void 0){L=[];let G=Object.getPrototypeOf(this);for(;G;){const B=(k=(E=G.eventListeners)===null||E===void 0?void 0:E[g])!==null&&k!==void 0?k:[];L.push(...B),G=Object.getPrototypeOf(G)}M[g]=L,this._cache.set(o,M)}return L}_fire(g,b){b=b||{},b.currentTarget=this,b.type=g;const E=this._getProtoListeners(g);if(E)for(var k=0;k<E.length;k++)E[k].handler.call(this,b);const M=this.eventListeners[g];if(M)for(var k=0;k<M.length;k++)M[k].handler.call(this,b)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(g){var b=g?g.pointerId:void 0,E=this.getStage(),k=this.getAbsolutePosition(),M=E._getPointerById(b)||E._changedPointerPositions[0]||k;n.DD._dragElements.set(this._id,{node:this,startPointerPos:M,offset:{x:M.x-k.x,y:M.y-k.y},dragStatus:"ready",pointerId:b})}startDrag(g,b=!0){n.DD._dragElements.has(this._id)||this._createDragElement(g);const E=n.DD._dragElements.get(this._id);E.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:g&&g.evt},b)}_setDragPosition(g,b){const E=this.getStage()._getPointerById(b.pointerId);if(E){var k={x:E.x-b.offset.x,y:E.y-b.offset.y},M=this.dragBoundFunc();if(M!==void 0){const L=M.call(this,k,g);L?k=L:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==k.x||this._lastPos.y!==k.y)&&(this.setAbsolutePosition(k),this._requestDraw()),this._lastPos=k}}stopDrag(g){const b=n.DD._dragElements.get(this._id);b&&(b.dragStatus="stopped"),n.DD._endDragBefore(g),n.DD._endDragAfter(g)}setDraggable(g){this._setAttr("draggable",g),this._dragChange()}isDragging(){const g=n.DD._dragElements.get(this._id);return g?g.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(g){var b=g.evt.button!==void 0,E=!b||i.Konva.dragButtons.indexOf(g.evt.button)>=0;if(E&&!this.isDragging()){var k=!1;n.DD._dragElements.forEach(M=>{this.isAncestorOf(M.node)&&(k=!0)}),k||this._createDragElement(g)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var g=this.getStage();if(!g)return;const b=n.DD._dragElements.get(this._id),E=b&&b.dragStatus==="dragging",k=b&&b.dragStatus==="ready";E?this.stopDrag():k&&n.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(g={x:0,y:0}){const b=this.getStage();if(!b)return!1;const E={x:-g.x,y:-g.y,width:b.width()+2*g.x,height:b.height()+2*g.y};return e.Util.haveIntersection(E,this.getClientRect())}static create(g,b){return e.Util._isString(g)&&(g=JSON.parse(g)),this._createNode(g,b)}static _createNode(g,b){var E=Rs.prototype.getClassName.call(g),k=g.children,M,L,G;b&&(g.attrs.container=b),i.Konva[E]||(e.Util.warn('Can not find a node with class name "'+E+'". Fallback to "Shape".'),E="Shape");const B=i.Konva[E];if(M=new B(g.attrs),k)for(L=k.length,G=0;G<L;G++)M.add(Rs._createNode(k[G]));return M}};Or.Node=T,T.prototype.nodeType="Node",T.prototype._attrsAffectingSize=[],T.prototype.eventListeners={},T.prototype.on.call(T.prototype,w,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(S),this._clearSelfAndDescendantCache(h)}),T.prototype.on.call(T.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(O)}),T.prototype.on.call(T.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(f)}),T.prototype.on.call(T.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const R=t.Factory.addGetterSetter;return R(T,"zIndex"),R(T,"absolutePosition"),R(T,"position"),R(T,"x",0,(0,s.getNumberValidator)()),R(T,"y",0,(0,s.getNumberValidator)()),R(T,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),R(T,"opacity",1,(0,s.getNumberValidator)()),R(T,"name","",(0,s.getStringValidator)()),R(T,"id","",(0,s.getStringValidator)()),R(T,"rotation",0,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(T,"scale",["x","y"]),R(T,"scaleX",1,(0,s.getNumberValidator)()),R(T,"scaleY",1,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(T,"skew",["x","y"]),R(T,"skewX",0,(0,s.getNumberValidator)()),R(T,"skewY",0,(0,s.getNumberValidator)()),t.Factory.addComponentsGetterSetter(T,"offset",["x","y"]),R(T,"offsetX",0,(0,s.getNumberValidator)()),R(T,"offsetY",0,(0,s.getNumberValidator)()),R(T,"dragDistance",null,(0,s.getNumberValidator)()),R(T,"width",0,(0,s.getNumberValidator)()),R(T,"height",0,(0,s.getNumberValidator)()),R(T,"listening",!0,(0,s.getBooleanValidator)()),R(T,"preventDefault",!0,(0,s.getBooleanValidator)()),R(T,"filters",null,function(N){return this._filterUpToDate=!1,N}),R(T,"visible",!0,(0,s.getBooleanValidator)()),R(T,"transformsEnabled","all",(0,s.getStringValidator)()),R(T,"size"),R(T,"dragBoundFunc"),R(T,"draggable",!1,(0,s.getBooleanValidator)()),t.Factory.backCompat(T,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Or}var Nr={},vo;function Hn(){if(vo)return Nr;vo=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Container=void 0;const e=ge(),t=Fe(),r=_e();let i=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const a=this.children||[];var o=[];return a.forEach(function(h){s(h)&&o.push(h)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(var a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){var a=this._generalFind(s,!0);return a.length>0?a[0]:void 0}_generalFind(s,a){var o=[];return this._descendants(h=>{const u=h._isMatch(s);return u&&o.push(h),!!(u&&a)}),o}_descendants(s){let a=!1;const o=this.getChildren();for(const h of o){if(a=s(h),a)return!0;if(h.hasChildren()&&(a=h._descendants(s),a))return!0}return!1}toObject(){var s=t.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(a=>{s.children.push(a.toObject())}),s}isAncestorOf(s){for(var a=s.getParent();a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(s){var a=t.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(o){a.add(o.clone())}),a}getAllIntersections(s){var a=[];return this.find("Shape").forEach(function(o){o.isVisible()&&o.intersects(s)&&a.push(o)}),a}_clearSelfAndDescendantCache(s){var a;super._clearSelfAndDescendantCache(s),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(o){o._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(a,o){a.index=o}),this._requestDraw()}drawScene(s,a){var o=this.getLayer(),h=s||o&&o.getCanvas(),u=h&&h.getContext(),m=this._getCanvasCache(),d=m&&m.scene,_=h&&h.isCache;if(!this.isVisible()&&!_)return this;if(d){u.save();var p=this.getAbsoluteTransform(a).getMatrix();u.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",h,a);return this}drawHit(s,a){if(!this.shouldDrawHit(a))return this;var o=this.getLayer(),h=s||o&&o.hitCanvas,u=h&&h.getContext(),m=this._getCanvasCache(),d=m&&m.hit;if(d){u.save();var _=this.getAbsoluteTransform(a).getMatrix();u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedHitCanvas(u),u.restore()}else this._drawChildren("drawHit",h,a);return this}_drawChildren(s,a,o){var h,u=a&&a.getContext(),m=this.clipWidth(),d=this.clipHeight(),_=this.clipFunc(),p=m&&d||_;const f=o===this;if(p){u.save();var y=this.getAbsoluteTransform(o),C=y.getMatrix();if(u.transform(C[0],C[1],C[2],C[3],C[4],C[5]),u.beginPath(),_)_.call(this,u,this);else{var x=this.clipX(),c=this.clipY();u.rect(x,c,m,d)}u.clip(),C=y.copy().invert().getMatrix(),u.transform(C[0],C[1],C[2],C[3],C[4],C[5])}var l=!f&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";l&&(u.save(),u._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(v){v[s](a,o)}),l&&u.restore(),p&&u.restore()}getClientRect(s){var a;s=s||{};var o=s.skipTransform,h=s.relativeTo,u,m,d,_,p={x:1/0,y:1/0,width:0,height:0},f=this;(a=this.children)===null||a===void 0||a.forEach(function(l){if(l.visible()){var v=l.getClientRect({relativeTo:f,skipShadow:s.skipShadow,skipStroke:s.skipStroke});v.width===0&&v.height===0||(u===void 0?(u=v.x,m=v.y,d=v.x+v.width,_=v.y+v.height):(u=Math.min(u,v.x),m=Math.min(m,v.y),d=Math.max(d,v.x+v.width),_=Math.max(_,v.y+v.height)))}});for(var y=this.find("Shape"),C=!1,x=0;x<y.length;x++){var c=y[x];if(c._isVisible(this)){C=!0;break}}return C&&u!==void 0?p={x:u,y:m,width:d-u,height:_-m}:p={x:0,y:0,width:0,height:0},o?p:this._transformedRect(p,h)}};return Nr.Container=i,e.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(i,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"clipFunc"),Nr}var rs={},Je={},yo;function vc(){if(yo)return Je;yo=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.releaseCapture=Je.setPointerCapture=Je.hasPointerCapture=Je.createEvent=Je.getCapturedShape=void 0;const e=me(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function i(h){return t.get(h)}Je.getCapturedShape=i;function n(h){return{evt:h,pointerId:h.pointerId}}Je.createEvent=n;function s(h,u){return t.get(h)===u}Je.hasPointerCapture=s;function a(h,u){o(h),u.getStage()&&(t.set(h,u),r&&u._fire("gotpointercapture",n(new PointerEvent("gotpointercapture"))))}Je.setPointerCapture=a;function o(h,u){const m=t.get(h);if(!m)return;const d=m.getStage();d&&d.content,t.delete(h),r&&m._fire("lostpointercapture",n(new PointerEvent("lostpointercapture")))}return Je.releaseCapture=o,Je}var bo;function T1(){return bo||(bo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Ne(),r=ge(),i=Hn(),n=me(),s=Vn(),a=ca(),o=me(),h=vc();var u="Stage",m="string",d="px",_="mouseout",p="mouseleave",f="mouseover",y="mouseenter",C="mousemove",x="mousedown",c="mouseup",l="pointermove",v="pointerdown",S="pointerup",P="pointercancel",O="lostpointercapture",w="pointerout",A="pointerleave",T="pointerover",R="pointerenter",N="contextmenu",g="touchstart",b="touchend",E="touchmove",k="touchcancel",M="wheel",L=5,G=[[y,"_pointerenter"],[x,"_pointerdown"],[C,"_pointermove"],[c,"_pointerup"],[p,"_pointerleave"],[g,"_pointerdown"],[E,"_pointermove"],[b,"_pointerup"],[k,"_pointercancel"],[f,"_pointerover"],[M,"_wheel"],[N,"_contextmenu"],[v,"_pointerdown"],[l,"_pointermove"],[S,"_pointerup"],[P,"_pointercancel"],[O,"_lostpointercapture"]];const B={mouse:{[w]:_,[A]:p,[T]:f,[R]:y,[l]:C,[v]:x,[S]:c,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[A]:"touchleave",[T]:"touchover",[R]:"touchenter",[l]:E,[v]:g,[S]:b,[P]:k,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[A]:A,[T]:T,[R]:R,[l]:l,[v]:v,[S]:S,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=ie=>ie.indexOf("pointer")>=0?"pointer":ie.indexOf("touch")>=0?"touch":"mouse",X=ie=>{const I=K(ie);if(I==="pointer")return n.Konva.pointerEventsEnabled&&B.pointer;if(I==="touch")return B.touch;if(I==="mouse")return B.mouse};function z(ie={}){return(ie.clipFunc||ie.clipWidth||ie.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ie}const te="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class re extends i.Container{constructor(I){super(z(I)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{z(this.attrs)}),this._checkVisibility()}_validateAdd(I){const U=I.getType()==="Layer",Y=I.getType()==="FastLayer";U||Y||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const I=this.visible()?"":"none";this.content.style.display=I}setContainer(I){if(typeof I===m){if(I.charAt(0)==="."){var U=I.slice(1);I=document.getElementsByClassName(U)[0]}else{var Y;I.charAt(0)!=="#"?Y=I:Y=I.slice(1),I=document.getElementById(Y)}if(!I)throw"Can not find container in document with id "+Y}return this._setAttr("container",I),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),I.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var I=this.children,U=I.length,Y;for(Y=0;Y<U;Y++)I[Y].clear();return this}clone(I){return I||(I={}),I.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,I)}destroy(){super.destroy();var I=this.content;I&&t.Util._isInDocument(I)&&this.container().removeChild(I);var U=e.stages.indexOf(this);return U>-1&&e.stages.splice(U,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const I=this._pointerPositions[0]||this._changedPointerPositions[0];return I?{x:I.x,y:I.y}:(t.Util.warn(te),null)}_getPointerById(I){return this._pointerPositions.find(U=>U.id===I)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(I){I=I||{},I.x=I.x||0,I.y=I.y||0,I.width=I.width||this.width(),I.height=I.height||this.height();var U=new s.SceneCanvas({width:I.width,height:I.height,pixelRatio:I.pixelRatio||1}),Y=U.getContext()._context,he=this.children;return(I.x||I.y)&&Y.translate(-1*I.x,-1*I.y),he.forEach(function(oe){if(oe.isVisible()){var F=oe._toKonvaCanvas(I);Y.drawImage(F._canvas,I.x,I.y,F.getWidth()/F.getPixelRatio(),F.getHeight()/F.getPixelRatio())}}),U}getIntersection(I){if(!I)return null;var U=this.children,Y=U.length,he=Y-1,oe;for(oe=he;oe>=0;oe--){const F=U[oe].getIntersection(I);if(F)return F}return null}_resizeDOM(){var I=this.width(),U=this.height();this.content&&(this.content.style.width=I+d,this.content.style.height=U+d),this.bufferCanvas.setSize(I,U),this.bufferHitCanvas.setSize(I,U),this.children.forEach(Y=>{Y.setSize({width:I,height:U}),Y.draw()})}add(I,...U){if(arguments.length>1){for(var Y=0;Y<arguments.length;Y++)this.add(arguments[Y]);return this}super.add(I);var he=this.children.length;return he>L&&t.Util.warn("The stage has "+he+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),I.setSize({width:this.width(),height:this.height()}),I.draw(),n.Konva.isBrowser&&this.content.appendChild(I.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(I){return h.hasPointerCapture(I,this)}setPointerCapture(I){h.setPointerCapture(I,this)}releaseCapture(I){h.releaseCapture(I,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&G.forEach(([I,U])=>{this.content.addEventListener(I,Y=>{this[U](Y)},{passive:!1})})}_pointerenter(I){this.setPointersPositions(I);const U=X(I.type);this._fire(U.pointerenter,{evt:I,target:this,currentTarget:this})}_pointerover(I){this.setPointersPositions(I);const U=X(I.type);this._fire(U.pointerover,{evt:I,target:this,currentTarget:this})}_getTargetShape(I){let U=this[I+"targetShape"];return U&&!U.getStage()&&(U=null),U}_pointerleave(I){const U=X(I.type),Y=K(I.type);if(U){this.setPointersPositions(I);var he=this._getTargetShape(Y),oe=!a.DD.isDragging||n.Konva.hitOnDragEnabled;he&&oe?(he._fireAndBubble(U.pointerout,{evt:I}),he._fireAndBubble(U.pointerleave,{evt:I}),this._fire(U.pointerleave,{evt:I,target:this,currentTarget:this}),this[Y+"targetShape"]=null):oe&&(this._fire(U.pointerleave,{evt:I,target:this,currentTarget:this}),this._fire(U.pointerout,{evt:I,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(I){const U=X(I.type),Y=K(I.type);if(U){this.setPointersPositions(I);var he=!1;this._changedPointerPositions.forEach(oe=>{var F=this.getIntersection(oe);if(a.DD.justDragged=!1,n.Konva["_"+Y+"ListenClick"]=!0,!(F&&F.isListening()))return;n.Konva.capturePointerEventsEnabled&&F.setPointerCapture(oe.id),this[Y+"ClickStartShape"]=F,F._fireAndBubble(U.pointerdown,{evt:I,pointerId:oe.id}),he=!0;const V=I.type.indexOf("touch")>=0;F.preventDefault()&&I.cancelable&&V&&I.preventDefault()}),he||this._fire(U.pointerdown,{evt:I,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(I){const U=X(I.type),Y=K(I.type);if(!U)return;a.DD.isDragging&&a.DD.node.preventDefault()&&I.cancelable&&I.preventDefault(),this.setPointersPositions(I);var he=!a.DD.isDragging||n.Konva.hitOnDragEnabled;if(!he)return;var oe={};let F=!1;var D=this._getTargetShape(Y);this._changedPointerPositions.forEach(V=>{const H=h.getCapturedShape(V.id)||this.getIntersection(V),q=V.id,j={evt:I,pointerId:q};var J=D!==H;if(J&&D&&(D._fireAndBubble(U.pointerout,Object.assign({},j),H),D._fireAndBubble(U.pointerleave,Object.assign({},j),H)),H){if(oe[H._id])return;oe[H._id]=!0}H&&H.isListening()?(F=!0,J&&(H._fireAndBubble(U.pointerover,Object.assign({},j),D),H._fireAndBubble(U.pointerenter,Object.assign({},j),D),this[Y+"targetShape"]=H),H._fireAndBubble(U.pointermove,Object.assign({},j))):D&&(this._fire(U.pointerover,{evt:I,target:this,currentTarget:this,pointerId:q}),this[Y+"targetShape"]=null)}),F||this._fire(U.pointermove,{evt:I,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(I){const U=X(I.type),Y=K(I.type);if(!U)return;this.setPointersPositions(I);const he=this[Y+"ClickStartShape"],oe=this[Y+"ClickEndShape"];var F={};let D=!1;this._changedPointerPositions.forEach(V=>{const H=h.getCapturedShape(V.id)||this.getIntersection(V);if(H){if(H.releaseCapture(V.id),F[H._id])return;F[H._id]=!0}const q=V.id,j={evt:I,pointerId:q};let J=!1;n.Konva["_"+Y+"InDblClickWindow"]?(J=!0,clearTimeout(this[Y+"DblTimeout"])):a.DD.justDragged||(n.Konva["_"+Y+"InDblClickWindow"]=!0,clearTimeout(this[Y+"DblTimeout"])),this[Y+"DblTimeout"]=setTimeout(function(){n.Konva["_"+Y+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),H&&H.isListening()?(D=!0,this[Y+"ClickEndShape"]=H,H._fireAndBubble(U.pointerup,Object.assign({},j)),n.Konva["_"+Y+"ListenClick"]&&he&&he===H&&(H._fireAndBubble(U.pointerclick,Object.assign({},j)),J&&oe&&oe===H&&H._fireAndBubble(U.pointerdblclick,Object.assign({},j)))):(this[Y+"ClickEndShape"]=null,n.Konva["_"+Y+"ListenClick"]&&this._fire(U.pointerclick,{evt:I,target:this,currentTarget:this,pointerId:q}),J&&this._fire(U.pointerdblclick,{evt:I,target:this,currentTarget:this,pointerId:q}))}),D||this._fire(U.pointerup,{evt:I,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+Y+"ListenClick"]=!1,I.cancelable&&Y!=="touch"&&I.preventDefault()}_contextmenu(I){this.setPointersPositions(I);var U=this.getIntersection(this.getPointerPosition());U&&U.isListening()?U._fireAndBubble(N,{evt:I}):this._fire(N,{evt:I,target:this,currentTarget:this})}_wheel(I){this.setPointersPositions(I);var U=this.getIntersection(this.getPointerPosition());U&&U.isListening()?U._fireAndBubble(M,{evt:I}):this._fire(M,{evt:I,target:this,currentTarget:this})}_pointercancel(I){this.setPointersPositions(I);const U=h.getCapturedShape(I.pointerId)||this.getIntersection(this.getPointerPosition());U&&U._fireAndBubble(S,h.createEvent(I)),h.releaseCapture(I.pointerId)}_lostpointercapture(I){h.releaseCapture(I.pointerId)}setPointersPositions(I){var U=this._getContentPosition(),Y=null,he=null;I=I||window.event,I.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(I.touches,oe=>{this._pointerPositions.push({id:oe.identifier,x:(oe.clientX-U.left)/U.scaleX,y:(oe.clientY-U.top)/U.scaleY})}),Array.prototype.forEach.call(I.changedTouches||I.touches,oe=>{this._changedPointerPositions.push({id:oe.identifier,x:(oe.clientX-U.left)/U.scaleX,y:(oe.clientY-U.top)/U.scaleY})})):(Y=(I.clientX-U.left)/U.scaleX,he=(I.clientY-U.top)/U.scaleY,this.pointerPos={x:Y,y:he},this._pointerPositions=[{x:Y,y:he,id:t.Util._getFirstPointerId(I)}],this._changedPointerPositions=[{x:Y,y:he,id:t.Util._getFirstPointerId(I)}])}_setPointerPosition(I){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(I)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var I=this.content.getBoundingClientRect();return{top:I.top,left:I.left,scaleX:I.width/this.content.clientWidth||1,scaleY:I.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!n.Konva.isBrowser){var I=this.container();if(!I)throw"Stage has no container. A container is required.";I.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),I.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(I){I.batchDraw()}),this}}e.Stage=re,re.prototype.nodeType=u,(0,o._registerNode)(re),r.Factory.addGetterSetter(re,"container")}(rs)),rs}var Fr={},is={},Co;function Le(){return Co||(Co=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=me(),r=Ne(),i=ge(),n=Fe(),s=_e(),a=me(),o=vc();var h="hasShadow",u="shadowRGBA",m="patternImage",d="linearGradient",_="radialGradient";let p;function f(){return p||(p=r.Util.createCanvasElement().getContext("2d"),p)}e.shapes={};function y(A){A.fill()}function C(A){A.stroke()}function x(A){A.fill()}function c(A){A.stroke()}function l(){this._clearCache(h)}function v(){this._clearCache(u)}function S(){this._clearCache(m)}function P(){this._clearCache(d)}function O(){this._clearCache(_)}class w extends n.Node{constructor(T){super(T);let R;for(;R=r.Util.getRandomColor(),!(R&&!(R in e.shapes)););this.colorKey=R,e.shapes[R]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(m,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var T=f();const R=T.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(R&&R.setTransform){const N=new r.Transform;N.translate(this.fillPatternX(),this.fillPatternY()),N.rotate(t.Konva.getAngle(this.fillPatternRotation())),N.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),N.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const g=N.getMatrix(),b=typeof DOMMatrix>"u"?{a:g[0],b:g[1],c:g[2],d:g[3],e:g[4],f:g[5]}:new DOMMatrix(g);R.setTransform(b)}return R}}_getLinearGradient(){return this._getCache(d,this.__getLinearGradient)}__getLinearGradient(){var T=this.fillLinearGradientColorStops();if(T){for(var R=f(),N=this.fillLinearGradientStartPoint(),g=this.fillLinearGradientEndPoint(),b=R.createLinearGradient(N.x,N.y,g.x,g.y),E=0;E<T.length;E+=2)b.addColorStop(T[E],T[E+1]);return b}}_getRadialGradient(){return this._getCache(_,this.__getRadialGradient)}__getRadialGradient(){var T=this.fillRadialGradientColorStops();if(T){for(var R=f(),N=this.fillRadialGradientStartPoint(),g=this.fillRadialGradientEndPoint(),b=R.createRadialGradient(N.x,N.y,this.fillRadialGradientStartRadius(),g.x,g.y,this.fillRadialGradientEndRadius()),E=0;E<T.length;E+=2)b.addColorStop(T[E],T[E+1]);return b}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var T=r.Util.colorToRGBA(this.shadowColor());if(T)return"rgba("+T.r+","+T.g+","+T.b+","+T.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const T=this.hitStrokeWidth();return T==="auto"?this.hasStroke():this.strokeEnabled()&&!!T}intersects(T){var R=this.getStage(),N=R.bufferHitCanvas,g;return N.getContext().clear(),this.drawHit(N,null,!0),g=N.context.getImageData(Math.round(T.x),Math.round(T.y),1,1).data,g[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(T){var R;if(!this.getStage()||!((R=this.attrs.perfectDrawEnabled)!==null&&R!==void 0?R:!0))return!1;const g=T||this.hasFill(),b=this.hasStroke(),E=this.getAbsoluteOpacity()!==1;if(g&&b&&E)return!0;const k=this.hasShadow(),M=this.shadowForStrokeEnabled();return!!(g&&b&&k&&M)}setStrokeHitEnabled(T){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),T?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var T=this.size();return{x:this._centroid?-T.width/2:0,y:this._centroid?-T.height/2:0,width:T.width,height:T.height}}getClientRect(T={}){const R=T.skipTransform,N=T.relativeTo,g=this.getSelfRect(),E=!T.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,k=g.width+E,M=g.height+E,L=!T.skipShadow&&this.hasShadow(),G=L?this.shadowOffsetX():0,B=L?this.shadowOffsetY():0,K=k+Math.abs(G),X=M+Math.abs(B),z=L&&this.shadowBlur()||0,te=K+z*2,re=X+z*2,ie={width:te,height:re,x:-(E/2+z)+Math.min(G,0)+g.x,y:-(E/2+z)+Math.min(B,0)+g.y};return R?ie:this._transformedRect(ie,N)}drawScene(T,R){var N=this.getLayer(),g=T||N.getCanvas(),b=g.getContext(),E=this._getCanvasCache(),k=this.getSceneFunc(),M=this.hasShadow(),L,G,B,K=g.isCache,X=R===this;if(!this.isVisible()&&!X)return this;if(E){b.save();var z=this.getAbsoluteTransform(R).getMatrix();return b.transform(z[0],z[1],z[2],z[3],z[4],z[5]),this._drawCachedSceneCanvas(b),b.restore(),this}if(!k)return this;if(b.save(),this._useBufferCanvas()&&!K){L=this.getStage(),G=L.bufferCanvas,B=G.getContext(),B.clear(),B.save(),B._applyLineJoin(this);var te=this.getAbsoluteTransform(R).getMatrix();B.transform(te[0],te[1],te[2],te[3],te[4],te[5]),k.call(this,B,this),B.restore();var re=G.pixelRatio;M&&b._applyShadow(this),b._applyOpacity(this),b._applyGlobalCompositeOperation(this),b.drawImage(G._canvas,0,0,G.width/re,G.height/re)}else{if(b._applyLineJoin(this),!X){var te=this.getAbsoluteTransform(R).getMatrix();b.transform(te[0],te[1],te[2],te[3],te[4],te[5]),b._applyOpacity(this),b._applyGlobalCompositeOperation(this)}M&&b._applyShadow(this),k.call(this,b,this)}return b.restore(),this}drawHit(T,R,N=!1){if(!this.shouldDrawHit(R,N))return this;var g=this.getLayer(),b=T||g.hitCanvas,E=b&&b.getContext(),k=this.hitFunc()||this.sceneFunc(),M=this._getCanvasCache(),L=M&&M.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),L){E.save();var G=this.getAbsoluteTransform(R).getMatrix();return E.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(E),E.restore(),this}if(!k)return this;if(E.save(),E._applyLineJoin(this),!(this===R)){var K=this.getAbsoluteTransform(R).getMatrix();E.transform(K[0],K[1],K[2],K[3],K[4],K[5])}return k.call(this,E,this),E.restore(),this}drawHitFromCache(T=0){var R=this._getCanvasCache(),N=this._getCachedSceneCanvas(),g=R.hit,b=g.getContext(),E=g.getWidth(),k=g.getHeight(),M,L,G,B,K,X;b.clear(),b.drawImage(N._canvas,0,0,E,k);try{for(M=b.getImageData(0,0,E,k),L=M.data,G=L.length,B=r.Util._hexToRgb(this.colorKey),K=0;K<G;K+=4)X=L[K+3],X>T?(L[K]=B.r,L[K+1]=B.g,L[K+2]=B.b,L[K+3]=255):L[K+3]=0;b.putImageData(M,0,0)}catch(z){r.Util.error("Unable to draw hit graph from cached scene canvas. "+z.message)}return this}hasPointerCapture(T){return o.hasPointerCapture(T,this)}setPointerCapture(T){o.setPointerCapture(T,this)}releaseCapture(T){o.releaseCapture(T,this)}}e.Shape=w,w.prototype._fillFunc=y,w.prototype._strokeFunc=C,w.prototype._fillFuncHit=x,w.prototype._strokeFuncHit=c,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,a._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",l),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",S),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",O),i.Factory.addGetterSetter(w,"stroke",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"strokeWidth",2,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),i.Factory.addGetterSetter(w,"lineJoin"),i.Factory.addGetterSetter(w,"lineCap"),i.Factory.addGetterSetter(w,"sceneFunc"),i.Factory.addGetterSetter(w,"hitFunc"),i.Factory.addGetterSetter(w,"dash"),i.Factory.addGetterSetter(w,"dashOffset",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowColor",void 0,(0,s.getStringValidator)()),i.Factory.addGetterSetter(w,"shadowBlur",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOpacity",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternImage"),i.Factory.addGetterSetter(w,"fill",void 0,(0,s.getStringOrGradientValidator)()),i.Factory.addGetterSetter(w,"fillPatternX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternY",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(w,"fillEnabled",!0),i.Factory.addGetterSetter(w,"strokeEnabled",!0),i.Factory.addGetterSetter(w,"shadowEnabled",!0),i.Factory.addGetterSetter(w,"dashEnabled",!0),i.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(w,"fillPriority","color"),i.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,s.getNumberValidator)()),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(w,"fillPatternRotation",0),i.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(is)),is}var So;function yc(){if(So)return Fr;So=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Layer=void 0;const e=Ne(),t=Hn(),r=Fe(),i=ge(),n=Vn(),s=_e(),a=Le(),o=me();var h="#",u="beforeDraw",m="draw",d=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],_=d.length;let p=class extends t.Container{constructor(y){super(y),this.canvas=new n.SceneCanvas,this.hitCanvas=new n.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);var C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),y<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[y+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var y=r.Node.prototype.moveUp.call(this);if(!y)return!1;var C=this.getStage();return!C||!C.content?!1:(C.content.removeChild(this.getNativeCanvasElement()),this.index<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[this.index+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var y=this.getStage();if(y){var C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var y=this.getStage();if(y){var C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&e.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:C}){return this.canvas.setSize(y,C),this.hitCanvas.setSize(y,C),this._setSmoothEnabled(),this}_validateAdd(y){var C=y.getType();C!=="Group"&&C!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;for(var C=1,x=!1;;){for(let c=0;c<_;c++){const l=d[c],v=this._getIntersection({x:y.x+l.x*C,y:y.y+l.y*C}),S=v.shape;if(S)return S;if(x=!!v.antialiased,!v.antialiased)break}if(x)C+=1;else return null}}_getIntersection(y){const C=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(y.x*C),Math.round(y.y*C),1,1).data,c=x[3];if(c===255){const l=e.Util._rgbToHex(x[0],x[1],x[2]),v=a.shapes[h+l];return v?{shape:v}:{antialiased:!0}}else if(c>0)return{antialiased:!0};return{}}drawScene(y,C){var x=this.getLayer(),c=y||x&&x.getCanvas();return this._fire(u,{node:this}),this.clearBeforeDraw()&&c.getContext().clear(),t.Container.prototype.drawScene.call(this,c,C),this._fire(m,{node:this}),this}drawHit(y,C){var x=this.getLayer(),c=y||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,c,C),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var y=this.parent,C=!!this.hitCanvas._canvas.parentNode;C?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Fr.Layer=p,p.prototype.nodeType="Layer",(0,o._registerNode)(p),i.Factory.addGetterSetter(p,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(p,"clearBeforeDraw",!0),i.Factory.addGetterSetter(p,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Fr}var Mr={},wo;function E1(){if(wo)return Mr;wo=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FastLayer=void 0;const e=Ne(),t=yc(),r=me();let i=class extends t.Layer{constructor(s){super(s),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Mr.FastLayer=i,i.prototype.nodeType="FastLayer",(0,r._registerNode)(i),Mr}var Ir={},xo;function ua(){if(xo)return Ir;xo=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.Group=void 0;const e=Ne(),t=Hn(),r=me();let i=class extends t.Container{_validateAdd(s){var a=s.getType();a!=="Group"&&a!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return Ir.Group=i,i.prototype.nodeType="Group",(0,r._registerNode)(i),Ir}var Lr={},To;function da(){if(To)return Lr;To=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Animation=void 0;const e=me(),t=Ne();var r=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class hr{constructor(s,a){this.id=hr.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=s,this.setLayers(a)}setLayers(s){var a=[];return s?s.length>0?a=s:a=[s]:a=[],this.layers=a,this}getLayers(){return this.layers}addLayer(s){var a=this.layers,o=a.length,h;for(h=0;h<o;h++)if(a[h]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){var s=hr,a=s.animations,o=a.length,h;for(h=0;h<o;h++)if(a[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),hr._addAnimation(this),this}stop(){return hr._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){var a=s.id,o=this.animations,h=o.length,u;for(u=0;u<h;u++)if(o[u].id===a){this.animations.splice(u,1);break}}static _runFrames(){var s={},a=this.animations,o,h,u,m,d,_,p,f,y;for(m=0;m<a.length;m++)if(o=a[m],h=o.layers,u=o.func,o._updateFrameObject(r()),_=h.length,u?y=u.call(o,o.frame)!==!1:y=!0,!!y)for(d=0;d<_;d++)p=h[d],p._id!==void 0&&(s[p._id]=p);for(f in s)s.hasOwnProperty(f)&&s[f].batchDraw()}static _animationLoop(){var s=hr;s.animations.length?(s._runFrames(),t.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return i.animations=[],i.animIdCounter=0,i.animRunning=!1,Lr.Animation=i,Lr}var ns={},Eo;function P1(){return Eo||(Eo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Ne(),r=da(),i=Fe(),n=me();var s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,h=3,u=0,m=["fill","stroke","shadowColor"];class d{constructor(f,y,C,x,c,l,v){this.prop=f,this.propFunc=y,this.begin=x,this._pos=x,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=c-this.begin,this.pause()}fire(f){var y=this[f];y&&y()}setTime(f){f>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():f<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=f,this.update())}getTime(){return this._time}setPosition(f){this.prevPos=this._pos,this.propFunc(f),this._pos=f}getPosition(f){return f===void 0&&(f=this._time),this.func(f,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(f){this.pause(),this._time=f,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var f=this.getTimer()-this._startTime;this.state===o?this.setTime(f):this.state===h&&this.setTime(this.duration-f)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class _{constructor(f){var y=this,C=f.node,x=C._id,c,l=f.easing||e.Easings.Linear,v=!!f.yoyo,S;typeof f.duration>"u"?c=.3:f.duration===0?c=.001:c=f.duration,this.node=C,this._id=u++;var P=C.getLayer()||(C instanceof n.Konva.Stage?C.getLayers():null);P||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},P),this.tween=new d(S,function(O){y._tweenFunc(O)},l,0,1,c*1e3,v),this._addListeners(),_.attrs[x]||(_.attrs[x]={}),_.attrs[x][this._id]||(_.attrs[x][this._id]={}),_.tweens[x]||(_.tweens[x]={});for(S in f)s[S]===void 0&&this._addAttr(S,f[S]);this.reset(),this.onFinish=f.onFinish,this.onReset=f.onReset,this.onUpdate=f.onUpdate}_addAttr(f,y){var C=this.node,x=C._id,c,l,v,S,P,O,w,A;if(v=_.tweens[x][f],v&&delete _.attrs[x][v][f],c=C.getAttr(f),t.Util._isArray(y))if(l=[],P=Math.max(y.length,c.length),f==="points"&&y.length!==c.length&&(y.length>c.length?(w=c,c=t.Util._prepareArrayForTween(c,y,C.closed())):(O=y,y=t.Util._prepareArrayForTween(y,c,C.closed()))),f.indexOf("fill")===0)for(S=0;S<P;S++)if(S%2===0)l.push(y[S]-c[S]);else{var T=t.Util.colorToRGBA(c[S]);A=t.Util.colorToRGBA(y[S]),c[S]=T,l.push({r:A.r-T.r,g:A.g-T.g,b:A.b-T.b,a:A.a-T.a})}else for(S=0;S<P;S++)l.push(y[S]-c[S]);else m.indexOf(f)!==-1?(c=t.Util.colorToRGBA(c),A=t.Util.colorToRGBA(y),l={r:A.r-c.r,g:A.g-c.g,b:A.b-c.b,a:A.a-c.a}):l=y-c;_.attrs[x][this._id][f]={start:c,diff:l,end:y,trueEnd:O,trueStart:w},_.tweens[x][f]=this._id}_tweenFunc(f){var y=this.node,C=_.attrs[y._id][this._id],x,c,l,v,S,P,O,w;for(x in C){if(c=C[x],l=c.start,v=c.diff,w=c.end,t.Util._isArray(l))if(S=[],O=Math.max(l.length,w.length),x.indexOf("fill")===0)for(P=0;P<O;P++)P%2===0?S.push((l[P]||0)+v[P]*f):S.push("rgba("+Math.round(l[P].r+v[P].r*f)+","+Math.round(l[P].g+v[P].g*f)+","+Math.round(l[P].b+v[P].b*f)+","+(l[P].a+v[P].a*f)+")");else for(P=0;P<O;P++)S.push((l[P]||0)+v[P]*f);else m.indexOf(x)!==-1?S="rgba("+Math.round(l.r+v.r*f)+","+Math.round(l.g+v.g*f)+","+Math.round(l.b+v.b*f)+","+(l.a+v.a*f)+")":S=l+v*f;y.setAttr(x,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var f=this.node,y=_.attrs[f._id][this._id];y.points&&y.points.trueEnd&&f.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var f=this.node,y=_.attrs[f._id][this._id];y.points&&y.points.trueStart&&f.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(f){return this.tween.seek(f*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var f=this.node._id,y=this._id,C=_.tweens[f],x;this.pause();for(x in C)delete _.tweens[f][x];delete _.attrs[f][y]}}_.attrs={},_.tweens={},e.Tween=_,i.Node.prototype.to=function(p){var f=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),f&&f()};var y=new _(p);y.play()},e.Easings={BackEaseIn(p,f,y,C){var x=1.70158;return y*(p/=C)*p*((x+1)*p-x)+f},BackEaseOut(p,f,y,C){var x=1.70158;return y*((p=p/C-1)*p*((x+1)*p+x)+1)+f},BackEaseInOut(p,f,y,C){var x=1.70158;return(p/=C/2)<1?y/2*(p*p*(((x*=1.525)+1)*p-x))+f:y/2*((p-=2)*p*(((x*=1.525)+1)*p+x)+2)+f},ElasticEaseIn(p,f,y,C,x,c){var l=0;return p===0?f:(p/=C)===1?f+y:(c||(c=C*.3),!x||x<Math.abs(y)?(x=y,l=c/4):l=c/(2*Math.PI)*Math.asin(y/x),-(x*Math.pow(2,10*(p-=1))*Math.sin((p*C-l)*(2*Math.PI)/c))+f)},ElasticEaseOut(p,f,y,C,x,c){var l=0;return p===0?f:(p/=C)===1?f+y:(c||(c=C*.3),!x||x<Math.abs(y)?(x=y,l=c/4):l=c/(2*Math.PI)*Math.asin(y/x),x*Math.pow(2,-10*p)*Math.sin((p*C-l)*(2*Math.PI)/c)+y+f)},ElasticEaseInOut(p,f,y,C,x,c){var l=0;return p===0?f:(p/=C/2)===2?f+y:(c||(c=C*(.3*1.5)),!x||x<Math.abs(y)?(x=y,l=c/4):l=c/(2*Math.PI)*Math.asin(y/x),p<1?-.5*(x*Math.pow(2,10*(p-=1))*Math.sin((p*C-l)*(2*Math.PI)/c))+f:x*Math.pow(2,-10*(p-=1))*Math.sin((p*C-l)*(2*Math.PI)/c)*.5+y+f)},BounceEaseOut(p,f,y,C){return(p/=C)<1/2.75?y*(7.5625*p*p)+f:p<2/2.75?y*(7.5625*(p-=1.5/2.75)*p+.75)+f:p<2.5/2.75?y*(7.5625*(p-=2.25/2.75)*p+.9375)+f:y*(7.5625*(p-=2.625/2.75)*p+.984375)+f},BounceEaseIn(p,f,y,C){return y-e.Easings.BounceEaseOut(C-p,0,y,C)+f},BounceEaseInOut(p,f,y,C){return p<C/2?e.Easings.BounceEaseIn(p*2,0,y,C)*.5+f:e.Easings.BounceEaseOut(p*2-C,0,y,C)*.5+y*.5+f},EaseIn(p,f,y,C){return y*(p/=C)*p+f},EaseOut(p,f,y,C){return-y*(p/=C)*(p-2)+f},EaseInOut(p,f,y,C){return(p/=C/2)<1?y/2*p*p+f:-y/2*(--p*(p-2)-1)+f},StrongEaseIn(p,f,y,C){return y*(p/=C)*p*p*p*p+f},StrongEaseOut(p,f,y,C){return y*((p=p/C-1)*p*p*p*p+1)+f},StrongEaseInOut(p,f,y,C){return(p/=C/2)<1?y/2*p*p*p*p*p+f:y/2*((p-=2)*p*p*p*p+2)+f},Linear(p,f,y,C){return y*p/C+f}}}(ns)),ns}var Po;function A1(){return Po||(Po=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=me(),r=Ne(),i=Fe(),n=Hn(),s=T1(),a=yc(),o=E1(),h=ua(),u=ca(),m=Le(),d=da(),_=P1(),p=_c(),f=Vn();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:n.Container,Stage:s.Stage,stages:s.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:h.Group,DD:u.DD,Shape:m.Shape,shapes:m.shapes,Animation:d.Animation,Tween:_.Tween,Easings:_.Easings,Context:p.Context,Canvas:f.Canvas}),e.default=e.Konva}(Jn)),Jn}var Gr={},Ao;function k1(){if(Ao)return Gr;Ao=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Arc=void 0;const e=ge(),t=Le(),r=me(),i=_e(),n=me();let s=class extends t.Shape{_sceneFunc(o){var h=r.Konva.getAngle(this.angle()),u=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,h,u),o.arc(0,0,this.innerRadius(),h,0,!u),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),h=this.outerRadius(),u=this.clockwise(),m=r.Konva.getAngle(u?360-this.angle():this.angle()),d=Math.cos(Math.min(m,Math.PI)),_=1,p=Math.sin(Math.min(Math.max(Math.PI,m),3*Math.PI/2)),f=Math.sin(Math.min(m,Math.PI/2)),y=d*(d>0?o:h),C=_*h,x=p*(p>0?o:h),c=f*(f>0?h:o);return{x:y,y:u?-1*c:x,width:C-y,height:c-x}}};return Gr.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"clockwise",!1,(0,i.getBooleanValidator)()),Gr}var Dr={},Br={},ko;function bc(){if(ko)return Br;ko=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.Line=void 0;const e=ge(),t=Le(),r=_e(),i=me();function n(o,h,u,m,d,_,p){var f=Math.sqrt(Math.pow(u-o,2)+Math.pow(m-h,2)),y=Math.sqrt(Math.pow(d-u,2)+Math.pow(_-m,2)),C=p*f/(f+y),x=p*y/(f+y),c=u-C*(d-o),l=m-C*(_-h),v=u+x*(d-o),S=m+x*(_-h);return[c,l,v,S]}function s(o,h){var u=o.length,m=[],d,_;for(d=2;d<u-2;d+=2)_=n(o[d-2],o[d-1],o[d],o[d+1],o[d+2],o[d+3],h),!isNaN(_[0])&&(m.push(_[0]),m.push(_[1]),m.push(o[d]),m.push(o[d+1]),m.push(_[2]),m.push(_[3]));return m}let a=class extends t.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){var u=this.points(),m=u.length,d=this.tension(),_=this.closed(),p=this.bezier(),f,y,C;if(m){if(h.beginPath(),h.moveTo(u[0],u[1]),d!==0&&m>4){for(f=this.getTensionPoints(),y=f.length,C=_?0:4,_||h.quadraticCurveTo(f[0],f[1],f[2],f[3]);C<y-2;)h.bezierCurveTo(f[C++],f[C++],f[C++],f[C++],f[C++],f[C++]);_||h.quadraticCurveTo(f[y-2],f[y-1],u[m-2],u[m-1])}else if(p)for(C=2;C<m;)h.bezierCurveTo(u[C++],u[C++],u[C++],u[C++],u[C++],u[C++]);else for(C=2;C<m;C+=2)h.lineTo(u[C],u[C+1]);_?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){var h=this.points(),u=h.length,m=this.tension(),d=n(h[u-2],h[u-1],h[0],h[1],h[2],h[3],m),_=n(h[u-4],h[u-3],h[u-2],h[u-1],h[0],h[1],m),p=s(h,m),f=[d[2],d[3]].concat(p).concat([_[0],_[1],h[u-2],h[u-1],_[2],_[3],d[0],d[1],h[0],h[1]]);return f}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();for(var u=h[0],m=h[0],d=h[1],_=h[1],p,f,y=0;y<h.length/2;y++)p=h[y*2],f=h[y*2+1],u=Math.min(u,p),m=Math.max(m,p),d=Math.min(d,f),_=Math.max(_,f);return{x:u,y:d,width:m-u,height:_-d}}};return Br.Line=a,a.prototype.className="Line",a.prototype._attrsAffectingSize=["points","bezier","tension"],(0,i._registerNode)(a),e.Factory.addGetterSetter(a,"closed",!1),e.Factory.addGetterSetter(a,"bezier",!1),e.Factory.addGetterSetter(a,"tension",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(a,"points",[],(0,r.getNumberArrayValidator)()),Br}var Ur={},ss={},Ro;function R1(){return Ro||(Ro=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(a,o,h)=>{let u,m,d;u=h/2,m=0;for(let p=0;p<20;p++)d=u*e.tValues[20][p]+u,m+=e.cValues[20][p]*i(a,o,d);return u*m};e.getCubicArcLength=t;const r=(a,o,h)=>{h===void 0&&(h=1);const u=a[0]-2*a[1]+a[2],m=o[0]-2*o[1]+o[2],d=2*a[1]-2*a[0],_=2*o[1]-2*o[0],p=4*(u*u+m*m),f=4*(u*d+m*_),y=d*d+_*_;if(p===0)return h*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(o[2]-o[0],2));const C=f/(2*p),x=y/p,c=h+C,l=x-C*C,v=c*c+l>0?Math.sqrt(c*c+l):0,S=C*C+l>0?Math.sqrt(C*C+l):0,P=C+Math.sqrt(C*C+l)!==0?l*Math.log(Math.abs((c+v)/(C+S))):0;return Math.sqrt(p)/2*(c*v-C*S+P)};e.getQuadraticArcLength=r;function i(a,o,h){const u=n(1,h,a),m=n(1,h,o),d=u*u+m*m;return Math.sqrt(d)}const n=(a,o,h)=>{const u=h.length-1;let m,d;if(u===0)return 0;if(a===0){d=0;for(let _=0;_<=u;_++)d+=e.binomialCoefficients[u][_]*Math.pow(1-o,u-_)*Math.pow(o,_)*h[_];return d}else{m=new Array(u);for(let _=0;_<u;_++)m[_]=u*(h[_+1]-h[_]);return n(a-1,o,m)}},s=(a,o,h)=>{let u=1,m=a/o,d=(a-h(m))/o,_=0;for(;u>.001;){const p=h(m+d),f=Math.abs(a-p)/o;if(f<u)u=f,m+=d;else{const y=h(m-d),C=Math.abs(a-y)/o;C<u?(u=C,m-=d):d/=2}if(_++,_>500)break}return m};e.t2length=s}(ss)),ss}var Oo;function fa(){if(Oo)return Ur;Oo=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Path=void 0;const e=ge(),t=Le(),r=me(),i=R1();let n=class He extends t.Shape{constructor(a){super(a),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=He.parsePathData(this.data()),this.pathLength=He.getPathLength(this.dataArray)}_sceneFunc(a){var o=this.dataArray;a.beginPath();for(var h=!1,u=0;u<o.length;u++){var m=o[u].command,d=o[u].points;switch(m){case"L":a.lineTo(d[0],d[1]);break;case"M":a.moveTo(d[0],d[1]);break;case"C":a.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5]);break;case"Q":a.quadraticCurveTo(d[0],d[1],d[2],d[3]);break;case"A":var _=d[0],p=d[1],f=d[2],y=d[3],C=d[4],x=d[5],c=d[6],l=d[7],v=f>y?f:y,S=f>y?1:f/y,P=f>y?y/f:1;a.translate(_,p),a.rotate(c),a.scale(S,P),a.arc(0,0,v,C,C+x,1-l),a.scale(1/S,1/P),a.rotate(-c),a.translate(-_,-p);break;case"z":h=!0,a.closePath();break}}!h&&!this.hasFill()?a.strokeShape(this):a.fillStrokeShape(this)}getSelfRect(){var a=[];this.dataArray.forEach(function(f){if(f.command==="A"){var y=f.points[4],C=f.points[5],x=f.points[4]+C,c=Math.PI/180;if(Math.abs(y-x)<c&&(c=Math.abs(y-x)),C<0)for(let l=y-c;l>x;l-=c){const v=He.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],l,0);a.push(v.x,v.y)}else for(let l=y+c;l<x;l+=c){const v=He.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],l,0);a.push(v.x,v.y)}}else if(f.command==="C")for(let l=0;l<=1;l+=.01){const v=He.getPointOnCubicBezier(l,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);a.push(v.x,v.y)}else a=a.concat(f.points)});for(var o=a[0],h=a[0],u=a[1],m=a[1],d,_,p=0;p<a.length/2;p++)d=a[p*2],_=a[p*2+1],isNaN(d)||(o=Math.min(o,d),h=Math.max(h,d)),isNaN(_)||(u=Math.min(u,_),m=Math.max(m,_));return{x:o,y:u,width:h-o,height:m-u}}getLength(){return this.pathLength}getPointAtLength(a){return He.getPointAtLengthOfDataArray(a,this.dataArray)}static getLineLength(a,o,h,u){return Math.sqrt((h-a)*(h-a)+(u-o)*(u-o))}static getPathLength(a){let o=0;for(var h=0;h<a.length;++h)o+=a[h].pathLength;return o}static getPointAtLengthOfDataArray(a,o){var h,u=0,m=o.length;if(!m)return null;for(;u<m&&a>o[u].pathLength;)a-=o[u].pathLength,++u;if(u===m)return h=o[u-1].points.slice(-2),{x:h[0],y:h[1]};if(a<.01)return h=o[u].points.slice(0,2),{x:h[0],y:h[1]};var d=o[u],_=d.points;switch(d.command){case"L":return He.getPointOnLine(a,d.start.x,d.start.y,_[0],_[1]);case"C":return He.getPointOnCubicBezier((0,i.t2length)(a,He.getPathLength(o),v=>(0,i.getCubicArcLength)([d.start.x,_[0],_[2],_[4]],[d.start.y,_[1],_[3],_[5]],v)),d.start.x,d.start.y,_[0],_[1],_[2],_[3],_[4],_[5]);case"Q":return He.getPointOnQuadraticBezier((0,i.t2length)(a,He.getPathLength(o),v=>(0,i.getQuadraticArcLength)([d.start.x,_[0],_[2]],[d.start.y,_[1],_[3]],v)),d.start.x,d.start.y,_[0],_[1],_[2],_[3]);case"A":var p=_[0],f=_[1],y=_[2],C=_[3],x=_[4],c=_[5],l=_[6];return x+=c*a/d.pathLength,He.getPointOnEllipticalArc(p,f,y,C,x,l)}return null}static getPointOnLine(a,o,h,u,m,d,_){d===void 0&&(d=o),_===void 0&&(_=h);var p=(m-h)/(u-o+1e-8),f=Math.sqrt(a*a/(1+p*p));u<o&&(f*=-1);var y=p*f,C;if(u===o)C={x:d,y:_+y};else if((_-h)/(d-o+1e-8)===p)C={x:d+f,y:_+y};else{var x,c,l=this.getLineLength(o,h,u,m),v=(d-o)*(u-o)+(_-h)*(m-h);v=v/(l*l),x=o+v*(u-o),c=h+v*(m-h);var S=this.getLineLength(d,_,x,c),P=Math.sqrt(a*a-S*S);f=Math.sqrt(P*P/(1+p*p)),u<o&&(f*=-1),y=p*f,C={x:x+f,y:c+y}}return C}static getPointOnCubicBezier(a,o,h,u,m,d,_,p,f){function y(S){return S*S*S}function C(S){return 3*S*S*(1-S)}function x(S){return 3*S*(1-S)*(1-S)}function c(S){return(1-S)*(1-S)*(1-S)}var l=p*y(a)+d*C(a)+u*x(a)+o*c(a),v=f*y(a)+_*C(a)+m*x(a)+h*c(a);return{x:l,y:v}}static getPointOnQuadraticBezier(a,o,h,u,m,d,_){function p(c){return c*c}function f(c){return 2*c*(1-c)}function y(c){return(1-c)*(1-c)}var C=d*p(a)+u*f(a)+o*y(a),x=_*p(a)+m*f(a)+h*y(a);return{x:C,y:x}}static getPointOnEllipticalArc(a,o,h,u,m,d){var _=Math.cos(d),p=Math.sin(d),f={x:h*Math.cos(m),y:u*Math.sin(m)};return{x:a+(f.x*_-f.y*p),y:o+(f.x*p+f.y*_)}}static parsePathData(a){if(!a)return[];var o=a,h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var u=0;u<h.length;u++)o=o.replace(new RegExp(h[u],"g"),"|"+h[u]);var m=o.split("|"),d=[],_=[],p=0,f=0,y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,C;for(u=1;u<m.length;u++){var x=m[u],c=x.charAt(0);for(x=x.slice(1),_.length=0;C=y.exec(x);)_.push(C[0]);for(var l=[],v=0,S=_.length;v<S;v++){if(_[v]==="00"){l.push(0,0);continue}var P=parseFloat(_[v]);isNaN(P)?l.push(0):l.push(P)}for(;l.length>0&&!isNaN(l[0]);){var O=null,w=[],A=p,T=f,R,N,g,b,E,k,M,L,G,B;switch(c){case"l":p+=l.shift(),f+=l.shift(),O="L",w.push(p,f);break;case"L":p=l.shift(),f=l.shift(),w.push(p,f);break;case"m":var K=l.shift(),X=l.shift();if(p+=K,f+=X,O="M",d.length>2&&d[d.length-1].command==="z"){for(var z=d.length-2;z>=0;z--)if(d[z].command==="M"){p=d[z].points[0]+K,f=d[z].points[1]+X;break}}w.push(p,f),c="l";break;case"M":p=l.shift(),f=l.shift(),O="M",w.push(p,f),c="L";break;case"h":p+=l.shift(),O="L",w.push(p,f);break;case"H":p=l.shift(),O="L",w.push(p,f);break;case"v":f+=l.shift(),O="L",w.push(p,f);break;case"V":f=l.shift(),O="L",w.push(p,f);break;case"C":w.push(l.shift(),l.shift(),l.shift(),l.shift()),p=l.shift(),f=l.shift(),w.push(p,f);break;case"c":w.push(p+l.shift(),f+l.shift(),p+l.shift(),f+l.shift()),p+=l.shift(),f+=l.shift(),O="C",w.push(p,f);break;case"S":N=p,g=f,R=d[d.length-1],R.command==="C"&&(N=p+(p-R.points[2]),g=f+(f-R.points[3])),w.push(N,g,l.shift(),l.shift()),p=l.shift(),f=l.shift(),O="C",w.push(p,f);break;case"s":N=p,g=f,R=d[d.length-1],R.command==="C"&&(N=p+(p-R.points[2]),g=f+(f-R.points[3])),w.push(N,g,p+l.shift(),f+l.shift()),p+=l.shift(),f+=l.shift(),O="C",w.push(p,f);break;case"Q":w.push(l.shift(),l.shift()),p=l.shift(),f=l.shift(),w.push(p,f);break;case"q":w.push(p+l.shift(),f+l.shift()),p+=l.shift(),f+=l.shift(),O="Q",w.push(p,f);break;case"T":N=p,g=f,R=d[d.length-1],R.command==="Q"&&(N=p+(p-R.points[0]),g=f+(f-R.points[1])),p=l.shift(),f=l.shift(),O="Q",w.push(N,g,p,f);break;case"t":N=p,g=f,R=d[d.length-1],R.command==="Q"&&(N=p+(p-R.points[0]),g=f+(f-R.points[1])),p+=l.shift(),f+=l.shift(),O="Q",w.push(N,g,p,f);break;case"A":b=l.shift(),E=l.shift(),k=l.shift(),M=l.shift(),L=l.shift(),G=p,B=f,p=l.shift(),f=l.shift(),O="A",w=this.convertEndpointToCenterParameterization(G,B,p,f,M,L,b,E,k);break;case"a":b=l.shift(),E=l.shift(),k=l.shift(),M=l.shift(),L=l.shift(),G=p,B=f,p+=l.shift(),f+=l.shift(),O="A",w=this.convertEndpointToCenterParameterization(G,B,p,f,M,L,b,E,k);break}d.push({command:O||c,points:w,start:{x:A,y:T},pathLength:this.calcLength(A,T,O||c,w)})}(c==="z"||c==="Z")&&d.push({command:"z",points:[],start:void 0,pathLength:0})}return d}static calcLength(a,o,h,u){var m,d,_,p,f=He;switch(h){case"L":return f.getLineLength(a,o,u[0],u[1]);case"C":return(0,i.getCubicArcLength)([a,u[0],u[2],u[4]],[o,u[1],u[3],u[5]],1);case"Q":return(0,i.getQuadraticArcLength)([a,u[0],u[2]],[o,u[1],u[3]],1);case"A":m=0;var y=u[4],C=u[5],x=u[4]+C,c=Math.PI/180;if(Math.abs(y-x)<c&&(c=Math.abs(y-x)),d=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],y,0),C<0)for(p=y-c;p>x;p-=c)_=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],p,0),m+=f.getLineLength(d.x,d.y,_.x,_.y),d=_;else for(p=y+c;p<x;p+=c)_=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],p,0),m+=f.getLineLength(d.x,d.y,_.x,_.y),d=_;return _=f.getPointOnEllipticalArc(u[0],u[1],u[2],u[3],x,0),m+=f.getLineLength(d.x,d.y,_.x,_.y),m}return 0}static convertEndpointToCenterParameterization(a,o,h,u,m,d,_,p,f){var y=f*(Math.PI/180),C=Math.cos(y)*(a-h)/2+Math.sin(y)*(o-u)/2,x=-1*Math.sin(y)*(a-h)/2+Math.cos(y)*(o-u)/2,c=C*C/(_*_)+x*x/(p*p);c>1&&(_*=Math.sqrt(c),p*=Math.sqrt(c));var l=Math.sqrt((_*_*(p*p)-_*_*(x*x)-p*p*(C*C))/(_*_*(x*x)+p*p*(C*C)));m===d&&(l*=-1),isNaN(l)&&(l=0);var v=l*_*x/p,S=l*-p*C/_,P=(a+h)/2+Math.cos(y)*v-Math.sin(y)*S,O=(o+u)/2+Math.sin(y)*v+Math.cos(y)*S,w=function(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])},A=function(E,k){return(E[0]*k[0]+E[1]*k[1])/(w(E)*w(k))},T=function(E,k){return(E[0]*k[1]<E[1]*k[0]?-1:1)*Math.acos(A(E,k))},R=T([1,0],[(C-v)/_,(x-S)/p]),N=[(C-v)/_,(x-S)/p],g=[(-1*C-v)/_,(-1*x-S)/p],b=T(N,g);return A(N,g)<=-1&&(b=Math.PI),A(N,g)>=1&&(b=0),d===0&&b>0&&(b=b-2*Math.PI),d===1&&b<0&&(b=b+2*Math.PI),[P,O,_,p,R,b,y,d]}};return Ur.Path=n,n.prototype.className="Path",n.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(n),e.Factory.addGetterSetter(n,"data"),Ur}var No;function O1(){if(No)return Dr;No=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Arrow=void 0;const e=ge(),t=bc(),r=_e(),i=me(),n=fa();let s=class extends t.Line{_sceneFunc(o){super._sceneFunc(o);var h=Math.PI*2,u=this.points(),m=u,d=this.tension()!==0&&u.length>4;d&&(m=this.getTensionPoints());var _=this.pointerLength(),p=u.length,f,y;if(d){const c=[m[m.length-4],m[m.length-3],m[m.length-2],m[m.length-1],u[p-2],u[p-1]],l=n.Path.calcLength(m[m.length-4],m[m.length-3],"C",c),v=n.Path.getPointOnQuadraticBezier(Math.min(1,1-_/l),c[0],c[1],c[2],c[3],c[4],c[5]);f=u[p-2]-v.x,y=u[p-1]-v.y}else f=u[p-2]-u[p-4],y=u[p-1]-u[p-3];var C=(Math.atan2(y,f)+h)%h,x=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(u[p-2],u[p-1]),o.rotate(C),o.moveTo(0,0),o.lineTo(-_,x/2),o.lineTo(-_,-x/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(u[0],u[1]),d?(f=(m[0]+m[2])/2-u[0],y=(m[1]+m[3])/2-u[1]):(f=u[2]-u[0],y=u[3]-u[1]),o.rotate((Math.atan2(-y,-f)+h)%h),o.moveTo(0,0),o.lineTo(-_,x/2),o.lineTo(-_,-x/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){var h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),h=this.pointerWidth()/2;return{x:o.x-h,y:o.y-h,width:o.width+h*2,height:o.height+h*2}}};return Dr.Arrow=s,s.prototype.className="Arrow",(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"pointerLength",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"pointerWidth",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"pointerAtBeginning",!1),e.Factory.addGetterSetter(s,"pointerAtEnding",!0),Dr}var Vr={},Fo;function N1(){if(Fo)return Vr;Fo=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Circle=void 0;const e=ge(),t=Le(),r=_e(),i=me();let n=class extends t.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius()!==a/2&&this.radius(a/2)}setHeight(a){this.radius()!==a/2&&this.radius(a/2)}};return Vr.Circle=n,n.prototype._centroid=!0,n.prototype.className="Circle",n.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(n),e.Factory.addGetterSetter(n,"radius",0,(0,r.getNumberValidator)()),Vr}var Hr={},Mo;function F1(){if(Mo)return Hr;Mo=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.Ellipse=void 0;const e=ge(),t=Le(),r=_e(),i=me();let n=class extends t.Shape{_sceneFunc(a){var o=this.radiusX(),h=this.radiusY();a.beginPath(),a.save(),o!==h&&a.scale(1,h/o),a.arc(0,0,o,0,Math.PI*2,!1),a.restore(),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(a){this.radiusX(a/2)}setHeight(a){this.radiusY(a/2)}};return Hr.Ellipse=n,n.prototype.className="Ellipse",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(n),e.Factory.addComponentsGetterSetter(n,"radius",["x","y"]),e.Factory.addGetterSetter(n,"radiusX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"radiusY",0,(0,r.getNumberValidator)()),Hr}var qr={},Io;function M1(){if(Io)return qr;Io=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Image=void 0;const e=Ne(),t=ge(),r=Le(),i=me(),n=_e();let s=class Cc extends r.Shape{constructor(o){super(o),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(o){const h=this.getWidth(),u=this.getHeight(),m=this.cornerRadius(),d=this.attrs.image;let _;if(d){const p=this.attrs.cropWidth,f=this.attrs.cropHeight;p&&f?_=[d,this.cropX(),this.cropY(),p,f,0,0,h,u]:_=[d,0,0,h,u]}(this.hasFill()||this.hasStroke()||m)&&(o.beginPath(),m?e.Util.drawRoundedRectPath(o,h,u,m):o.rect(0,0,h,u),o.closePath(),o.fillStrokeShape(this)),d&&(m&&o.clip(),o.drawImage.apply(o,_))}_hitFunc(o){var h=this.width(),u=this.height(),m=this.cornerRadius();o.beginPath(),m?e.Util.drawRoundedRectPath(o,h,u,m):o.rect(0,0,h,u),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,h;return(o=this.attrs.width)!==null&&o!==void 0?o:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var o,h;return(o=this.attrs.height)!==null&&o!==void 0?o:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(o,h,u=null){var m=e.Util.createImageElement();m.onload=function(){var d=new Cc({image:m});h(d)},m.onerror=u,m.crossOrigin="Anonymous",m.src=o}};return qr.Image=s,s.prototype.className="Image",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(s,"image"),t.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(s,"cropX",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropY",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropWidth",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"cropHeight",0,(0,n.getNumberValidator)()),qr}var Kt={},Lo;function I1(){if(Lo)return Kt;Lo=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Tag=Kt.Label=void 0;const e=ge(),t=Le(),r=ua(),i=_e(),n=me();var s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],a="Change.konva",o="none",h="up",u="right",m="down",d="left",_=s.length;let p=class extends r.Group{constructor(C){super(C),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(C){var x=this,c,l=function(){x._sync()};for(c=0;c<_;c++)C.on(s[c]+a,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var C=this.getText(),x=this.getTag(),c,l,v,S,P,O,w;if(C&&x){switch(c=C.width(),l=C.height(),v=x.pointerDirection(),S=x.pointerWidth(),w=x.pointerHeight(),P=0,O=0,v){case h:P=c/2,O=-1*w;break;case u:P=c+S,O=l/2;break;case m:P=c/2,O=l+w;break;case d:P=-1*S,O=l/2;break}x.setAttrs({x:-1*P,y:-1*O,width:c,height:l}),C.setAttrs({x:-1*P,y:-1*O})}}};Kt.Label=p,p.prototype.className="Label",(0,n._registerNode)(p);class f extends t.Shape{_sceneFunc(C){var x=this.width(),c=this.height(),l=this.pointerDirection(),v=this.pointerWidth(),S=this.pointerHeight(),P=this.cornerRadius();let O=0,w=0,A=0,T=0;typeof P=="number"?O=w=A=T=Math.min(P,x/2,c/2):(O=Math.min(P[0]||0,x/2,c/2),w=Math.min(P[1]||0,x/2,c/2),T=Math.min(P[2]||0,x/2,c/2),A=Math.min(P[3]||0,x/2,c/2)),C.beginPath(),C.moveTo(O,0),l===h&&(C.lineTo((x-v)/2,0),C.lineTo(x/2,-1*S),C.lineTo((x+v)/2,0)),C.lineTo(x-w,0),C.arc(x-w,w,w,Math.PI*3/2,0,!1),l===u&&(C.lineTo(x,(c-S)/2),C.lineTo(x+v,c/2),C.lineTo(x,(c+S)/2)),C.lineTo(x,c-T),C.arc(x-T,c-T,T,0,Math.PI/2,!1),l===m&&(C.lineTo((x+v)/2,c),C.lineTo(x/2,c+S),C.lineTo((x-v)/2,c)),C.lineTo(A,c),C.arc(A,c-A,A,Math.PI/2,Math.PI,!1),l===d&&(C.lineTo(0,(c+S)/2),C.lineTo(-1*v,c/2),C.lineTo(0,(c-S)/2)),C.lineTo(0,O),C.arc(O,O,O,Math.PI,Math.PI*3/2,!1),C.closePath(),C.fillStrokeShape(this)}getSelfRect(){var C=0,x=0,c=this.pointerWidth(),l=this.pointerHeight(),v=this.pointerDirection(),S=this.width(),P=this.height();return v===h?(x-=l,P+=l):v===m?P+=l:v===d?(C-=c*1.5,S+=c):v===u&&(S+=c*1.5),{x:C,y:x,width:S,height:P}}}return Kt.Tag=f,f.prototype.className="Tag",(0,n._registerNode)(f),e.Factory.addGetterSetter(f,"pointerDirection",o),e.Factory.addGetterSetter(f,"pointerWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(f,"pointerHeight",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(f,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Kt}var jr={},Go;function Sc(){if(Go)return jr;Go=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.Rect=void 0;const e=ge(),t=Le(),r=me(),i=Ne(),n=_e();class s extends t.Shape{_sceneFunc(o){var h=this.cornerRadius(),u=this.width(),m=this.height();o.beginPath(),h?i.Util.drawRoundedRectPath(o,u,m,h):o.rect(0,0,u,m),o.closePath(),o.fillStrokeShape(this)}}return jr.Rect=s,s.prototype.className="Rect",(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),jr}var Kr={},Do;function L1(){if(Do)return Kr;Do=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.RegularPolygon=void 0;const e=ge(),t=Le(),r=_e(),i=me();let n=class extends t.Shape{_sceneFunc(a){const o=this._getPoints();a.beginPath(),a.moveTo(o[0].x,o[0].y);for(var h=1;h<o.length;h++)a.lineTo(o[h].x,o[h].y);a.closePath(),a.fillStrokeShape(this)}_getPoints(){const a=this.attrs.sides,o=this.attrs.radius||0,h=[];for(var u=0;u<a;u++)h.push({x:o*Math.sin(u*2*Math.PI/a),y:-1*o*Math.cos(u*2*Math.PI/a)});return h}getSelfRect(){const a=this._getPoints();var o=a[0].x,h=a[0].y,u=a[0].x,m=a[0].y;return a.forEach(d=>{o=Math.min(o,d.x),h=Math.max(h,d.x),u=Math.min(u,d.y),m=Math.max(m,d.y)}),{x:o,y:u,width:h-o,height:m-u}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return Kr.RegularPolygon=n,n.prototype.className="RegularPolygon",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(n),e.Factory.addGetterSetter(n,"radius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"sides",0,(0,r.getNumberValidator)()),Kr}var Wr={},Bo;function G1(){if(Bo)return Wr;Bo=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.Ring=void 0;const e=ge(),t=Le(),r=_e(),i=me();var n=Math.PI*2;let s=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,n,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),n,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Wr.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(s),e.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),Wr}var zr={},Uo;function D1(){if(Uo)return zr;Uo=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.Sprite=void 0;const e=ge(),t=Le(),r=da(),i=_e(),n=me();let s=class extends t.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{var h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){var h=this.animation(),u=this.frameIndex(),m=u*4,d=this.animations()[h],_=this.frameOffsets(),p=d[m+0],f=d[m+1],y=d[m+2],C=d[m+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,C),o.closePath(),o.fillStrokeShape(this)),x)if(_){var c=_[h],l=u*2;o.drawImage(x,p,f,y,C,c[l+0],c[l+1],y,C)}else o.drawImage(x,p,f,y,C,0,0,y,C)}_hitFunc(o){var h=this.animation(),u=this.frameIndex(),m=u*4,d=this.animations()[h],_=this.frameOffsets(),p=d[m+2],f=d[m+3];if(o.beginPath(),_){var y=_[h],C=u*2;o.rect(y[C+0],y[C+1],p,f)}else o.rect(0,0,p,f);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var o=this.frameIndex(),h=this.animation(),u=this.animations(),m=u[h],d=m.length/4;o<d-1?this.frameIndex(o+1):this.frameIndex(0)}};return zr.Sprite=s,s.prototype.className="Sprite",(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"animation"),e.Factory.addGetterSetter(s,"animations"),e.Factory.addGetterSetter(s,"frameOffsets"),e.Factory.addGetterSetter(s,"image"),e.Factory.addGetterSetter(s,"frameIndex",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"frameRate",17,(0,i.getNumberValidator)()),e.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),zr}var Yr={},Vo;function B1(){if(Vo)return Yr;Vo=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Star=void 0;const e=ge(),t=Le(),r=_e(),i=me();let n=class extends t.Shape{_sceneFunc(a){var o=this.innerRadius(),h=this.outerRadius(),u=this.numPoints();a.beginPath(),a.moveTo(0,0-h);for(var m=1;m<u*2;m++){var d=m%2===0?h:o,_=d*Math.sin(m*Math.PI/u),p=-1*d*Math.cos(m*Math.PI/u);a.lineTo(_,p)}a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return Yr.Star=n,n.prototype.className="Star",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(n),e.Factory.addGetterSetter(n,"numPoints",5,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"outerRadius",0,(0,r.getNumberValidator)()),Yr}var Wt={},Ho;function wc(){if(Ho)return Wt;Ho=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.Text=Wt.stringToArray=void 0;const e=Ne(),t=ge(),r=Le(),i=_e(),n=me();function s(G){return Array.from(G)}Wt.stringToArray=s;var a="auto",o="center",h="justify",u="Change.konva",m="2d",d="-",_="left",p="text",f="Text",y="top",C="bottom",x="middle",c="normal",l="px ",v=" ",S="right",P="word",O="char",w="none",A="",T=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],R=T.length;function N(G){return G.split(",").map(B=>{B=B.trim();const K=B.indexOf(" ")>=0,X=B.indexOf('"')>=0||B.indexOf("'")>=0;return K&&!X&&(B=`"${B}"`),B}).join(", ")}var g;function b(){return g||(g=e.Util.createCanvasElement().getContext(m),g)}function E(G){G.fillText(this._partialText,this._partialTextX,this._partialTextY)}function k(G){G.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function M(G){return G=G||{},!G.fillLinearGradientColorStops&&!G.fillRadialGradientColorStops&&!G.fillPatternImage&&(G.fill=G.fill||"black"),G}let L=class extends r.Shape{constructor(B){super(M(B)),this._partialTextX=0,this._partialTextY=0;for(var K=0;K<R;K++)this.on(T[K]+u,this._setTextData);this._setTextData()}_sceneFunc(B){var K=this.textArr,X=K.length;if(this.text()){var z=this.padding(),te=this.fontSize(),re=this.lineHeight()*te,ie=this.verticalAlign(),I=0,U=this.align(),Y=this.getWidth(),he=this.letterSpacing(),oe=this.fill(),F=this.textDecoration(),D=F.indexOf("underline")!==-1,V=F.indexOf("line-through")!==-1,H,q=0,q=re/2,j=0,J=0;for(B.setAttr("font",this._getContextFont()),B.setAttr("textBaseline",x),B.setAttr("textAlign",_),ie===x?I=(this.getHeight()-X*re-z*2)/2:ie===C&&(I=this.getHeight()-X*re-z*2),B.translate(z,I+z),H=0;H<X;H++){var j=0,J=0,$=K[H],Q=$.text,W=$.width,ne=$.lastInParagraph,Z,se,le;if(B.save(),U===S?j+=Y-W-z*2:U===o&&(j+=(Y-W-z*2)/2),D){B.save(),B.beginPath(),B.moveTo(j,q+J+Math.round(te/2)),Z=Q.split(" ").length-1,se=Z===0,le=U===h&&!ne?Y-z*2:W,B.lineTo(j+Math.round(le),q+J+Math.round(te/2)),B.lineWidth=te/15;const rt=this._getLinearGradient();B.strokeStyle=rt||oe,B.stroke(),B.restore()}if(V){B.save(),B.beginPath(),B.moveTo(j,q+J),Z=Q.split(" ").length-1,se=Z===0,le=U===h&&ne&&!se?Y-z*2:W,B.lineTo(j+Math.round(le),q+J),B.lineWidth=te/15;const rt=this._getLinearGradient();B.strokeStyle=rt||oe,B.stroke(),B.restore()}if(he!==0||U===h){Z=Q.split(" ").length-1;for(var de=s(Q),be=0;be<de.length;be++){var pe=de[be];pe===" "&&!ne&&U===h&&(j+=(Y-z*2-W)/Z),this._partialTextX=j,this._partialTextY=q+J,this._partialText=pe,B.fillStrokeShape(this),j+=this.measureSize(pe).width+he}}else this._partialTextX=j,this._partialTextY=q+J,this._partialText=Q,B.fillStrokeShape(this);B.restore(),X>1&&(q+=re)}}}_hitFunc(B){var K=this.getWidth(),X=this.getHeight();B.beginPath(),B.rect(0,0,K,X),B.closePath(),B.fillStrokeShape(this)}setText(B){var K=e.Util._isString(B)?B:B==null?"":B+"";return this._setAttr(p,K),this}getWidth(){var B=this.attrs.width===a||this.attrs.width===void 0;return B?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var B=this.attrs.height===a||this.attrs.height===void 0;return B?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(B){var K=b(),X=this.fontSize(),z;return K.save(),K.font=this._getContextFont(),z=K.measureText(B),K.restore(),{width:z.width,height:X}}_getContextFont(){return this.fontStyle()+v+this.fontVariant()+v+(this.fontSize()+l)+N(this.fontFamily())}_addTextLine(B){this.align()===h&&(B=B.trim());var X=this._getTextWidth(B);return this.textArr.push({text:B,width:X,lastInParagraph:!1})}_getTextWidth(B){var K=this.letterSpacing(),X=B.length;return b().measureText(B).width+(X?K*(X-1):0)}_setTextData(){var B=this.text().split(`
`),K=+this.fontSize(),X=0,z=this.lineHeight()*K,te=this.attrs.width,re=this.attrs.height,ie=te!==a&&te!==void 0,I=re!==a&&re!==void 0,U=this.padding(),Y=te-U*2,he=re-U*2,oe=0,F=this.wrap(),D=F!==w,V=F!==O&&D,H=this.ellipsis();this.textArr=[],b().font=this._getContextFont();for(var q=H?this._getTextWidth(A):0,j=0,J=B.length;j<J;++j){var $=B[j],Q=this._getTextWidth($);if(ie&&Q>Y)for(;$.length>0;){for(var W=0,ne=$.length,Z="",se=0;W<ne;){var le=W+ne>>>1,de=$.slice(0,le+1),be=this._getTextWidth(de)+q;be<=Y?(W=le+1,Z=de,se=be):ne=le}if(Z){if(V){var pe,Ae=$[Z.length],$e=Ae===v||Ae===d;$e&&se<=Y?pe=Z.length:pe=Math.max(Z.lastIndexOf(v),Z.lastIndexOf(d))+1,pe>0&&(W=pe,Z=Z.slice(0,W),se=this._getTextWidth(Z))}Z=Z.trimRight(),this._addTextLine(Z),X=Math.max(X,se),oe+=z;var rt=this._shouldHandleEllipsis(oe);if(rt){this._tryToAddEllipsisToLastLine();break}if($=$.slice(W),$=$.trimLeft(),$.length>0&&(Q=this._getTextWidth($),Q<=Y)){this._addTextLine($),oe+=z,X=Math.max(X,Q);break}}else break}else this._addTextLine($),oe+=z,X=Math.max(X,Q),this._shouldHandleEllipsis(oe)&&j<J-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),I&&oe+z>he)break}this.textHeight=K,this.textWidth=X}_shouldHandleEllipsis(B){var K=+this.fontSize(),X=this.lineHeight()*K,z=this.attrs.height,te=z!==a&&z!==void 0,re=this.padding(),ie=z-re*2,I=this.wrap(),U=I!==w;return!U||te&&B+X>ie}_tryToAddEllipsisToLastLine(){var B=this.attrs.width,K=B!==a&&B!==void 0,X=this.padding(),z=B-X*2,te=this.ellipsis(),re=this.textArr[this.textArr.length-1];if(!(!re||!te)){if(K){var ie=this._getTextWidth(re.text+A)<z;ie||(re.text=re.text.slice(0,re.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(re.text+A)}}getStrokeScaleEnabled(){return!0}};return Wt.Text=L,L.prototype._fillFunc=E,L.prototype._strokeFunc=k,L.prototype.className=f,L.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,n._registerNode)(L),t.Factory.overWriteSetter(L,"width",(0,i.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(L,"height",(0,i.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(L,"fontFamily","Arial"),t.Factory.addGetterSetter(L,"fontSize",12,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(L,"fontStyle",c),t.Factory.addGetterSetter(L,"fontVariant",c),t.Factory.addGetterSetter(L,"padding",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(L,"align",_),t.Factory.addGetterSetter(L,"verticalAlign",y),t.Factory.addGetterSetter(L,"lineHeight",1,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(L,"wrap",P),t.Factory.addGetterSetter(L,"ellipsis",!1,(0,i.getBooleanValidator)()),t.Factory.addGetterSetter(L,"letterSpacing",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(L,"text","",(0,i.getStringValidator)()),t.Factory.addGetterSetter(L,"textDecoration",""),Wt}var $r={},qo;function U1(){if(qo)return $r;qo=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.TextPath=void 0;const e=Ne(),t=ge(),r=Le(),i=fa(),n=wc(),s=_e(),a=me();var o="",h="normal";function u(_){_.fillText(this.partialText,0,0)}function m(_){_.strokeText(this.partialText,0,0)}let d=class extends r.Shape{constructor(p){super(p),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(p){if(!this.attrs.data)return null;const f=this.pathLength;return p-1>f?null:i.Path.getPointAtLengthOfDataArray(p,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(p){p.setAttr("font",this._getContextFont()),p.setAttr("textBaseline",this.textBaseline()),p.setAttr("textAlign","left"),p.save();var f=this.textDecoration(),y=this.fill(),C=this.fontSize(),x=this.glyphInfo;f==="underline"&&p.beginPath();for(var c=0;c<x.length;c++){p.save();var l=x[c].p0;p.translate(l.x,l.y),p.rotate(x[c].rotation),this.partialText=x[c].text,p.fillStrokeShape(this),f==="underline"&&(c===0&&p.moveTo(0,C/2+1),p.lineTo(C,C/2+1)),p.restore()}f==="underline"&&(p.strokeStyle=y,p.lineWidth=C/20,p.stroke()),p.restore()}_hitFunc(p){p.beginPath();var f=this.glyphInfo;if(f.length>=1){var y=f[0].p0;p.moveTo(y.x,y.y)}for(var C=0;C<f.length;C++){var x=f[C].p1;p.lineTo(x.x,x.y)}p.setAttr("lineWidth",this.fontSize()),p.setAttr("strokeStyle",this.colorKey),p.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(p){return n.Text.prototype.setText.call(this,p)}_getContextFont(){return n.Text.prototype._getContextFont.call(this)}_getTextSize(p){var f=this.dummyCanvas,y=f.getContext("2d");y.save(),y.font=this._getContextFont();var C=y.measureText(p);return y.restore(),{width:C.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:p,height:f}=this._getTextSize(this.attrs.text);if(this.textWidth=p,this.textHeight=f,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),C=this.align(),x=this.kerningFunc(),c=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let l=0;C==="center"&&(l=Math.max(0,this.pathLength/2-c/2)),C==="right"&&(l=Math.max(0,this.pathLength-c));const v=(0,n.stringToArray)(this.text());let S=l;for(var P=0;P<v.length;P++){const O=this._getPointAtLength(S);if(!O)return;let w=this._getTextSize(v[P]).width+y;if(v[P]===" "&&C==="justify"){const b=this.text().split(" ").length-1;w+=(this.pathLength-c)/b}const A=this._getPointAtLength(S+w);if(!A)return;const T=i.Path.getLineLength(O.x,O.y,A.x,A.y);let R=0;if(x)try{R=x(v[P-1],v[P])*this.fontSize()}catch{R=0}O.x+=R,A.x+=R,this.textWidth+=R;const N=i.Path.getPointOnLine(R+T/2,O.x,O.y,A.x,A.y),g=Math.atan2(A.y-O.y,A.x-O.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:v[P],rotation:g,p0:O,p1:A}),S+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var p=[];this.glyphInfo.forEach(function(P){p.push(P.p0.x),p.push(P.p0.y),p.push(P.p1.x),p.push(P.p1.y)});for(var f=p[0]||0,y=p[0]||0,C=p[1]||0,x=p[1]||0,c,l,v=0;v<p.length/2;v++)c=p[v*2],l=p[v*2+1],f=Math.min(f,c),y=Math.max(y,c),C=Math.min(C,l),x=Math.max(x,l);var S=this.fontSize();return{x:f-S/2,y:C-S/2,width:y-f+S,height:x-C+S}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return $r.TextPath=d,d.prototype._fillFunc=u,d.prototype._strokeFunc=m,d.prototype._fillFuncHit=u,d.prototype._strokeFuncHit=m,d.prototype.className="TextPath",d.prototype._attrsAffectingSize=["text","fontSize","data"],(0,a._registerNode)(d),t.Factory.addGetterSetter(d,"data"),t.Factory.addGetterSetter(d,"fontFamily","Arial"),t.Factory.addGetterSetter(d,"fontSize",12,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(d,"fontStyle",h),t.Factory.addGetterSetter(d,"align","left"),t.Factory.addGetterSetter(d,"letterSpacing",0,(0,s.getNumberValidator)()),t.Factory.addGetterSetter(d,"textBaseline","middle"),t.Factory.addGetterSetter(d,"fontVariant",h),t.Factory.addGetterSetter(d,"text",o),t.Factory.addGetterSetter(d,"textDecoration",null),t.Factory.addGetterSetter(d,"kerningFunc",null),$r}var Xr={},jo;function V1(){if(jo)return Xr;jo=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.Transformer=void 0;const e=Ne(),t=ge(),r=Fe(),i=Le(),n=Sc(),s=ua(),a=me(),o=_e(),h=me();var u="tr-konva",m=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(w=>w+`.${u}`).join(" "),d="nodesRect",_=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],p={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const f="ontouchstart"in a.Konva._global;function y(w,A){if(w==="rotater")return"crosshair";A+=e.Util.degToRad(p[w]||0);var T=(e.Util.radToDeg(A)%360+360)%360;return e.Util._inRange(T,315+22.5,360)||e.Util._inRange(T,0,22.5)?"ns-resize":e.Util._inRange(T,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(T,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(T,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(T,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(T,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(T,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(T,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+T),"pointer")}var C=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],x=1e8;function c(w){return{x:w.x+w.width/2*Math.cos(w.rotation)+w.height/2*Math.sin(-w.rotation),y:w.y+w.height/2*Math.cos(w.rotation)+w.width/2*Math.sin(w.rotation)}}function l(w,A,T){const R=T.x+(w.x-T.x)*Math.cos(A)-(w.y-T.y)*Math.sin(A),N=T.y+(w.x-T.x)*Math.sin(A)+(w.y-T.y)*Math.cos(A);return Object.assign(Object.assign({},w),{rotation:w.rotation+A,x:R,y:N})}function v(w,A){const T=c(w);return l(w,A,T)}function S(w,A,T){let R=A;for(let N=0;N<w.length;N++){const g=a.Konva.getAngle(w[N]),b=Math.abs(g-A)%(Math.PI*2);Math.min(b,Math.PI*2-b)<T&&(R=g)}return R}let P=class extends s.Group{constructor(A){super(A),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(m,this.update),this.getNode()&&this.update()}attachTo(A){return this.setNode(A),this}setNode(A){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([A])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return u+this._id}setNodes(A=[]){this._nodes&&this._nodes.length&&this.detach();const T=A.filter(N=>N.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=A=T,A.length===1&&this.useSingleNodeRotation()?this.rotation(A[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(N=>{const g=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},b=N._attrsAffectingSize.map(E=>E+"Change."+this._getEventNamespace()).join(" ");N.on(b,g),N.on(_.map(E=>E+`.${this._getEventNamespace()}`).join(" "),g),N.on(`absoluteTransformChange.${this._getEventNamespace()}`,g),this._proxyDrag(N)}),this._resetTransformCache();var R=!!this.findOne(".top-left");return R&&this.update(),this}_proxyDrag(A){let T;A.on(`dragstart.${this._getEventNamespace()}`,R=>{T=A.getAbsolutePosition(),!this.isDragging()&&A!==this.findOne(".back")&&this.startDrag(R,!1)}),A.on(`dragmove.${this._getEventNamespace()}`,R=>{if(!T)return;const N=A.getAbsolutePosition(),g=N.x-T.x,b=N.y-T.y;this.nodes().forEach(E=>{if(E===A||E.isDragging())return;const k=E.getAbsolutePosition();E.setAbsolutePosition({x:k.x+g,y:k.y+b}),E.startDrag(R)}),T=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(A=>{A.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(d),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(d,this.__getNodeRect)}__getNodeShape(A,T=this.rotation(),R){var N=A.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=A.getAbsoluteScale(R),b=A.getAbsolutePosition(R),E=N.x*g.x-A.offsetX()*g.x,k=N.y*g.y-A.offsetY()*g.y;const M=(a.Konva.getAngle(A.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),L={x:b.x+E*Math.cos(M)+k*Math.sin(-M),y:b.y+k*Math.cos(M)+E*Math.sin(M),width:N.width*g.x,height:N.height*g.y,rotation:M};return l(L,-a.Konva.getAngle(T),{x:0,y:0})}__getNodeRect(){var A=this.getNode();if(!A)return{x:-x,y:-x,width:0,height:0,rotation:0};const T=[];this.nodes().map(M=>{const L=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var G=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}],B=M.getAbsoluteTransform();G.forEach(function(K){var X=B.point(K);T.push(X)})});const R=new e.Transform;R.rotate(-a.Konva.getAngle(this.rotation()));var N,g,b,E;T.forEach(function(M){var L=R.point(M);N===void 0&&(N=b=L.x,g=E=L.y),N=Math.min(N,L.x),g=Math.min(g,L.y),b=Math.max(b,L.x),E=Math.max(E,L.y)}),R.invert();const k=R.point({x:N,y:g});return{x:k.x,y:k.y,width:b-N,height:E-g,rotation:a.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C.forEach(function(A){this._createAnchor(A)}.bind(this)),this._createAnchor("rotater")}_createAnchor(A){var T=new n.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:A+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:f?10:"auto"}),R=this;T.on("mousedown touchstart",function(N){R._handleMouseDown(N)}),T.on("dragstart",N=>{T.stopDrag(),N.cancelBubble=!0}),T.on("dragend",N=>{N.cancelBubble=!0}),T.on("mouseenter",()=>{var N=a.Konva.getAngle(this.rotation()),g=y(A,N);T.getStage().content&&(T.getStage().content.style.cursor=g),this._cursorChange=!0}),T.on("mouseout",()=>{T.getStage().content&&(T.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(T)}_createBack(){var A=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(T){var R=this.getParent(),N=R.padding();T.beginPath(),T.rect(-N,-N,this.width()+N*2,this.height()+N*2),T.moveTo(this.width()/2,-N),R.rotateEnabled()&&T.lineTo(this.width()/2,-R.rotateAnchorOffset()*e.Util._sign(this.height())-N),T.fillStrokeShape(this)},hitFunc:(T,R)=>{if(this.shouldOverdrawWholeArea()){var N=this.padding();T.beginPath(),T.rect(-N,-N,R.width()+N*2,R.height()+N*2),T.fillStrokeShape(R)}}});this.add(A),this._proxyDrag(A),A.on("dragstart",T=>{T.cancelBubble=!0}),A.on("dragmove",T=>{T.cancelBubble=!0}),A.on("dragend",T=>{T.cancelBubble=!0}),this.on("dragmove",T=>{this.update()})}_handleMouseDown(A){this._movingAnchorName=A.target.name().split(" ")[0];var T=this._getNodeRect(),R=T.width,N=T.height,g=Math.sqrt(Math.pow(R,2)+Math.pow(N,2));this.sin=Math.abs(N/g),this.cos=Math.abs(R/g),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var b=A.target.getAbsolutePosition(),E=A.target.getStage().getPointerPosition();this._anchorDragOffset={x:E.x-b.x,y:E.y-b.y},this._fire("transformstart",{evt:A.evt,target:this.getNode()}),this._nodes.forEach(k=>{k._fire("transformstart",{evt:A.evt,target:k})})}_handleMouseMove(A){var T,R,N,g=this.findOne("."+this._movingAnchorName),b=g.getStage();b.setPointersPositions(A);const E=b.getPointerPosition();let k={x:E.x-this._anchorDragOffset.x,y:E.y-this._anchorDragOffset.y};const M=g.getAbsolutePosition();this.anchorDragBoundFunc()&&(k=this.anchorDragBoundFunc()(M,k,A)),g.setAbsolutePosition(k);const L=g.getAbsolutePosition();if(!(M.x===L.x&&M.y===L.y)){if(this._movingAnchorName==="rotater"){var G=this._getNodeRect();T=g.x()-G.width/2,R=-g.y()+G.height/2;let j=Math.atan2(-R,T)+Math.PI/2;G.height<0&&(j-=Math.PI);var B=a.Konva.getAngle(this.rotation());const J=B+j,$=a.Konva.getAngle(this.rotationSnapTolerance()),W=S(this.rotationSnaps(),J,$)-G.rotation,ne=v(G,W);this._fitNodesInto(ne,A);return}var K=this.shiftBehavior(),X;K==="inverted"?X=this.keepRatio()&&!A.shiftKey:K==="none"?X=this.keepRatio():X=this.keepRatio()||A.shiftKey;var I=this.centeredScaling()||A.altKey;if(this._movingAnchorName==="top-left"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};N=Math.sqrt(Math.pow(z.x-g.x(),2)+Math.pow(z.y-g.y(),2));var te=this.findOne(".top-left").x()>z.x?-1:1,re=this.findOne(".top-left").y()>z.y?-1:1;T=N*this.cos*te,R=N*this.sin*re,this.findOne(".top-left").x(z.x-T),this.findOne(".top-left").y(z.y-R)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(g.y());else if(this._movingAnchorName==="top-right"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};N=Math.sqrt(Math.pow(g.x()-z.x,2)+Math.pow(z.y-g.y(),2));var te=this.findOne(".top-right").x()<z.x?-1:1,re=this.findOne(".top-right").y()>z.y?-1:1;T=N*this.cos*te,R=N*this.sin*re,this.findOne(".top-right").x(z.x+T),this.findOne(".top-right").y(z.y-R)}var ie=g.position();this.findOne(".top-left").y(ie.y),this.findOne(".bottom-right").x(ie.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(g.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(g.x());else if(this._movingAnchorName==="bottom-left"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};N=Math.sqrt(Math.pow(z.x-g.x(),2)+Math.pow(g.y()-z.y,2));var te=z.x<g.x()?-1:1,re=g.y()<z.y?-1:1;T=N*this.cos*te,R=N*this.sin*re,g.x(z.x-T),g.y(z.y+R)}ie=g.position(),this.findOne(".top-left").x(ie.x),this.findOne(".bottom-right").y(ie.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(g.y());else if(this._movingAnchorName==="bottom-right"){if(X){var z=I?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};N=Math.sqrt(Math.pow(g.x()-z.x,2)+Math.pow(g.y()-z.y,2));var te=this.findOne(".bottom-right").x()<z.x?-1:1,re=this.findOne(".bottom-right").y()<z.y?-1:1;T=N*this.cos*te,R=N*this.sin*re,this.findOne(".bottom-right").x(z.x+T),this.findOne(".bottom-right").y(z.y+R)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var I=this.centeredScaling()||A.altKey;if(I){var U=this.findOne(".top-left"),Y=this.findOne(".bottom-right"),he=U.x(),oe=U.y(),F=this.getWidth()-Y.x(),D=this.getHeight()-Y.y();Y.move({x:-he,y:-oe}),U.move({x:F,y:D})}var V=this.findOne(".top-left").getAbsolutePosition();T=V.x,R=V.y;var H=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),q=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:T,y:R,width:H,height:q,rotation:a.Konva.getAngle(this.rotation())},A)}}_handleMouseUp(A){this._removeEvents(A)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(A){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var T=this.getNode();this._fire("transformend",{evt:A,target:T}),T&&this._nodes.forEach(R=>{R._fire("transformend",{evt:A,target:R})}),this._movingAnchorName=null}}_fitNodesInto(A,T){var R=this._getNodeRect();const N=1;if(e.Util._inRange(A.width,-this.padding()*2-N,N)){this.update();return}if(e.Util._inRange(A.height,-this.padding()*2-N,N)){this.update();return}const g=this.flipEnabled();var b=new e.Transform;if(b.rotate(a.Konva.getAngle(this.rotation())),this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("left")>=0){const G=b.point({x:-this.padding()*2,y:0});if(A.x+=G.x,A.y+=G.y,A.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,!g){this.update();return}}else if(this._movingAnchorName&&A.width<0&&this._movingAnchorName.indexOf("right")>=0){const G=b.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,A.width+=this.padding()*2,!g){this.update();return}}if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("top")>=0){const G=b.point({x:0,y:-this.padding()*2});if(A.x+=G.x,A.y+=G.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,A.height+=this.padding()*2,!g){this.update();return}}else if(this._movingAnchorName&&A.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const G=b.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,A.height+=this.padding()*2,!g){this.update();return}}if(this.boundBoxFunc()){const G=this.boundBoxFunc()(R,A);G?A=G:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const E=1e7,k=new e.Transform;k.translate(R.x,R.y),k.rotate(R.rotation),k.scale(R.width/E,R.height/E);const M=new e.Transform;M.translate(A.x,A.y),M.rotate(A.rotation),M.scale(A.width/E,A.height/E);const L=M.multiply(k.invert());this._nodes.forEach(G=>{var B;const K=G.getParent().getAbsoluteTransform(),X=G.getTransform().copy();X.translate(G.offsetX(),G.offsetY());const z=new e.Transform;z.multiply(K.copy().invert()).multiply(L).multiply(K).multiply(X);const te=z.decompose();G.setAttrs(te),this._fire("transform",{evt:T,target:G}),G._fire("transform",{evt:T,target:G}),(B=G.getLayer())===null||B===void 0||B.batchDraw()}),this.rotation(e.Util._getRotation(A.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(A,T){this.findOne(A).setAttrs(T)}update(){var A,T=this._getNodeRect();this.rotation(e.Util._getRotation(T.rotation));var R=T.width,N=T.height,g=this.enabledAnchors(),b=this.resizeEnabled(),E=this.padding(),k=this.anchorSize();this.find("._anchor").forEach(M=>{M.setAttrs({width:k,height:k,offsetX:k/2,offsetY:k/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:k/2+E,offsetY:k/2+E,visible:b&&g.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:R/2,y:0,offsetY:k/2+E,visible:b&&g.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:R,y:0,offsetX:k/2-E,offsetY:k/2+E,visible:b&&g.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:N/2,offsetX:k/2+E,visible:b&&g.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:R,y:N/2,offsetX:k/2-E,visible:b&&g.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:N,offsetX:k/2+E,offsetY:k/2-E,visible:b&&g.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:R/2,y:N,offsetY:k/2-E,visible:b&&g.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:R,y:N,offsetX:k/2-E,offsetY:k/2-E,visible:b&&g.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:R/2,y:-this.rotateAnchorOffset()*e.Util._sign(N)-E,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:R,height:N,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(A=this.getLayer())===null||A===void 0||A.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var A=this.findOne("."+this._movingAnchorName);A&&A.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(A){var T=r.Node.prototype.clone.call(this,A);return T}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Xr.Transformer=P;function O(w){return w instanceof Array||e.Util.warn("enabledAnchors value should be an array"),w instanceof Array&&w.forEach(function(A){C.indexOf(A)===-1&&e.Util.warn("Unknown anchor name: "+A+". Available names are: "+C.join(", "))}),w||[]}return P.prototype.className="Transformer",(0,h._registerNode)(P),t.Factory.addGetterSetter(P,"enabledAnchors",C,O),t.Factory.addGetterSetter(P,"flipEnabled",!0,(0,o.getBooleanValidator)()),t.Factory.addGetterSetter(P,"resizeEnabled",!0),t.Factory.addGetterSetter(P,"anchorSize",10,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"rotateEnabled",!0),t.Factory.addGetterSetter(P,"rotationSnaps",[]),t.Factory.addGetterSetter(P,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderEnabled",!0),t.Factory.addGetterSetter(P,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(P,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"anchorFill","white"),t.Factory.addGetterSetter(P,"anchorCornerRadius",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(P,"borderStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"borderDash"),t.Factory.addGetterSetter(P,"keepRatio",!0),t.Factory.addGetterSetter(P,"shiftBehavior","default"),t.Factory.addGetterSetter(P,"centeredScaling",!1),t.Factory.addGetterSetter(P,"ignoreStroke",!1),t.Factory.addGetterSetter(P,"padding",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(P,"node"),t.Factory.addGetterSetter(P,"nodes"),t.Factory.addGetterSetter(P,"boundBoxFunc"),t.Factory.addGetterSetter(P,"anchorDragBoundFunc"),t.Factory.addGetterSetter(P,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(P,"useSingleNodeRotation",!0),t.Factory.backCompat(P,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Xr}var Jr={},Ko;function H1(){if(Ko)return Jr;Ko=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Wedge=void 0;const e=ge(),t=Le(),r=me(),i=_e(),n=me();let s=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Jr.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"radius",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"angle",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(s,"clockwise",!1),e.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Jr}var Qr={},Wo;function q1(){if(Wo)return Qr;Wo=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Blur=void 0;const e=ge(),t=Fe(),r=_e();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function a(h,u){var m=h.data,d=h.width,_=h.height,p,f,y,C,x,c,l,v,S,P,O,w,A,T,R,N,g,b,E,k,M,L,G,B,K=u+u+1,X=d-1,z=_-1,te=u+1,re=te*(te+1)/2,ie=new i,I=null,U=ie,Y=null,he=null,oe=n[u],F=s[u];for(y=1;y<K;y++)U=U.next=new i,y===te&&(I=U);for(U.next=ie,l=c=0,f=0;f<_;f++){for(N=g=b=E=v=S=P=O=0,w=te*(k=m[c]),A=te*(M=m[c+1]),T=te*(L=m[c+2]),R=te*(G=m[c+3]),v+=re*k,S+=re*M,P+=re*L,O+=re*G,U=ie,y=0;y<te;y++)U.r=k,U.g=M,U.b=L,U.a=G,U=U.next;for(y=1;y<te;y++)C=c+((X<y?X:y)<<2),v+=(U.r=k=m[C])*(B=te-y),S+=(U.g=M=m[C+1])*B,P+=(U.b=L=m[C+2])*B,O+=(U.a=G=m[C+3])*B,N+=k,g+=M,b+=L,E+=G,U=U.next;for(Y=ie,he=I,p=0;p<d;p++)m[c+3]=G=O*oe>>F,G!==0?(G=255/G,m[c]=(v*oe>>F)*G,m[c+1]=(S*oe>>F)*G,m[c+2]=(P*oe>>F)*G):m[c]=m[c+1]=m[c+2]=0,v-=w,S-=A,P-=T,O-=R,w-=Y.r,A-=Y.g,T-=Y.b,R-=Y.a,C=l+((C=p+u+1)<X?C:X)<<2,N+=Y.r=m[C],g+=Y.g=m[C+1],b+=Y.b=m[C+2],E+=Y.a=m[C+3],v+=N,S+=g,P+=b,O+=E,Y=Y.next,w+=k=he.r,A+=M=he.g,T+=L=he.b,R+=G=he.a,N-=k,g-=M,b-=L,E-=G,he=he.next,c+=4;l+=d}for(p=0;p<d;p++){for(g=b=E=N=S=P=O=v=0,c=p<<2,w=te*(k=m[c]),A=te*(M=m[c+1]),T=te*(L=m[c+2]),R=te*(G=m[c+3]),v+=re*k,S+=re*M,P+=re*L,O+=re*G,U=ie,y=0;y<te;y++)U.r=k,U.g=M,U.b=L,U.a=G,U=U.next;for(x=d,y=1;y<=u;y++)c=x+p<<2,v+=(U.r=k=m[c])*(B=te-y),S+=(U.g=M=m[c+1])*B,P+=(U.b=L=m[c+2])*B,O+=(U.a=G=m[c+3])*B,N+=k,g+=M,b+=L,E+=G,U=U.next,y<z&&(x+=d);for(c=p,Y=ie,he=I,f=0;f<_;f++)C=c<<2,m[C+3]=G=O*oe>>F,G>0?(G=255/G,m[C]=(v*oe>>F)*G,m[C+1]=(S*oe>>F)*G,m[C+2]=(P*oe>>F)*G):m[C]=m[C+1]=m[C+2]=0,v-=w,S-=A,P-=T,O-=R,w-=Y.r,A-=Y.g,T-=Y.b,R-=Y.a,C=p+((C=f+te)<z?C:z)*d<<2,v+=N+=Y.r=m[C],S+=g+=Y.g=m[C+1],P+=b+=Y.b=m[C+2],O+=E+=Y.a=m[C+3],Y=Y.next,w+=k=he.r,A+=M=he.g,T+=L=he.b,R+=G=he.a,N-=k,g-=M,b-=L,E-=G,he=he.next,c+=d}}const o=function(u){var m=Math.round(this.blurRadius());m>0&&a(u,m)};return Qr.Blur=o,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Qr}var Zr={},zo;function j1(){if(zo)return Zr;zo=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.Brighten=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=this.brightness()*255,a=n.data,o=a.length,h;for(h=0;h<o;h+=4)a[h]+=s,a[h+1]+=s,a[h+2]+=s};return Zr.Brighten=i,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),Zr}var ei={},Yo;function K1(){if(Yo)return ei;Yo=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Contrast=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=Math.pow((this.contrast()+100)/100,2),a=n.data,o=a.length,h=150,u=150,m=150,d;for(d=0;d<o;d+=4)h=a[d],u=a[d+1],m=a[d+2],h/=255,h-=.5,h*=s,h+=.5,h*=255,u/=255,u-=.5,u*=s,u+=.5,u*=255,m/=255,m-=.5,m*=s,m+=.5,m*=255,h=h<0?0:h>255?255:h,u=u<0?0:u>255?255:u,m=m<0?0:m>255?255:m,a[d]=h,a[d+1]=u,a[d+2]=m};return ei.Contrast=i,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ei}var ti={},$o;function W1(){if($o)return ti;$o=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Emboss=void 0;const e=ge(),t=Fe(),r=Ne(),i=_e(),n=function(s){var a=this.embossStrength()*10,o=this.embossWhiteLevel()*255,h=this.embossDirection(),u=this.embossBlend(),m=0,d=0,_=s.data,p=s.width,f=s.height,y=p*4,C=f;switch(h){case"top-left":m=-1,d=-1;break;case"top":m=-1,d=0;break;case"top-right":m=-1,d=1;break;case"right":m=0,d=1;break;case"bottom-right":m=1,d=1;break;case"bottom":m=1,d=0;break;case"bottom-left":m=1,d=-1;break;case"left":m=0,d=-1;break;default:r.Util.error("Unknown emboss direction: "+h)}do{var x=(C-1)*y,c=m;C+c<1&&(c=0),C+c>f&&(c=0);var l=(C-1+c)*p*4,v=p;do{var S=x+(v-1)*4,P=d;v+P<1&&(P=0),v+P>p&&(P=0);var O=l+(v-1+P)*4,w=_[S]-_[O],A=_[S+1]-_[O+1],T=_[S+2]-_[O+2],R=w,N=R>0?R:-R,g=A>0?A:-A,b=T>0?T:-T;if(g>N&&(R=A),b>N&&(R=T),R*=a,u){var E=_[S]+R,k=_[S+1]+R,M=_[S+2]+R;_[S]=E>255?255:E<0?0:E,_[S+1]=k>255?255:k<0?0:k,_[S+2]=M>255?255:M<0?0:M}else{var L=o-R;L<0?L=0:L>255&&(L=255),_[S]=_[S+1]=_[S+2]=L}}while(--v)}while(--C)};return ti.Emboss=n,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",null,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,null,e.Factory.afterSetFilter),ti}var ri={},Xo;function z1(){if(Xo)return ri;Xo=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Enhance=void 0;const e=ge(),t=Fe(),r=_e();function i(s,a,o,h,u){var m=o-a,d=u-h,_;return m===0?h+d/2:d===0?h:(_=(s-a)/m,_=d*_+h,_)}const n=function(s){var a=s.data,o=a.length,h=a[0],u=h,m,d=a[1],_=d,p,f=a[2],y=f,C,x,c=this.enhance();if(c!==0){for(x=0;x<o;x+=4)m=a[x+0],m<h?h=m:m>u&&(u=m),p=a[x+1],p<d?d=p:p>_&&(_=p),C=a[x+2],C<f?f=C:C>y&&(y=C);u===h&&(u=255,h=0),_===d&&(_=255,d=0),y===f&&(y=255,f=0);var l,v,S,P,O,w,A,T,R;for(c>0?(v=u+c*(255-u),S=h-c*(h-0),O=_+c*(255-_),w=d-c*(d-0),T=y+c*(255-y),R=f-c*(f-0)):(l=(u+h)*.5,v=u+c*(u-l),S=h+c*(h-l),P=(_+d)*.5,O=_+c*(_-P),w=d+c*(d-P),A=(y+f)*.5,T=y+c*(y-A),R=f+c*(f-A)),x=0;x<o;x+=4)a[x+0]=i(a[x+0],h,u,S,v),a[x+1]=i(a[x+1],d,_,w,O),a[x+2]=i(a[x+2],f,y,R,T)}};return ri.Enhance=n,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ri}var ii={},Jo;function Y1(){if(Jo)return ii;Jo=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Grayscale=void 0;const e=function(t){var r=t.data,i=r.length,n,s;for(n=0;n<i;n+=4)s=.34*r[n]+.5*r[n+1]+.16*r[n+2],r[n]=s,r[n+1]=s,r[n+2]=s};return ii.Grayscale=e,ii}var ni={},Qo;function $1(){if(Qo)return ni;Qo=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.HSL=void 0;const e=ge(),t=Fe(),r=_e();e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter);const i=function(n){var s=n.data,a=s.length,o=1,h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,m=this.luminance()*127,d,_=o*h*Math.cos(u*Math.PI/180),p=o*h*Math.sin(u*Math.PI/180),f=.299*o+.701*_+.167*p,y=.587*o-.587*_+.33*p,C=.114*o-.114*_-.497*p,x=.299*o-.299*_-.328*p,c=.587*o+.413*_+.035*p,l=.114*o-.114*_+.293*p,v=.299*o-.3*_+1.25*p,S=.587*o-.586*_-1.05*p,P=.114*o+.886*_-.2*p,O,w,A,T;for(d=0;d<a;d+=4)O=s[d+0],w=s[d+1],A=s[d+2],T=s[d+3],s[d+0]=f*O+y*w+C*A+m,s[d+1]=x*O+c*w+l*A+m,s[d+2]=v*O+S*w+P*A+m,s[d+3]=T};return ni.HSL=i,ni}var si={},Zo;function X1(){if(Zo)return si;Zo=1,Object.defineProperty(si,"__esModule",{value:!0}),si.HSV=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=n.data,a=s.length,o=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,m,d=o*h*Math.cos(u*Math.PI/180),_=o*h*Math.sin(u*Math.PI/180),p=.299*o+.701*d+.167*_,f=.587*o-.587*d+.33*_,y=.114*o-.114*d-.497*_,C=.299*o-.299*d-.328*_,x=.587*o+.413*d+.035*_,c=.114*o-.114*d+.293*_,l=.299*o-.3*d+1.25*_,v=.587*o-.586*d-1.05*_,S=.114*o+.886*d-.2*_,P,O,w,A;for(m=0;m<a;m+=4)P=s[m+0],O=s[m+1],w=s[m+2],A=s[m+3],s[m+0]=p*P+f*O+y*w,s[m+1]=C*P+x*O+c*w,s[m+2]=l*P+v*O+S*w,s[m+3]=A};return si.HSV=i,e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),si}var ai={},el;function J1(){if(el)return ai;el=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Invert=void 0;const e=function(t){var r=t.data,i=r.length,n;for(n=0;n<i;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2]};return ai.Invert=e,ai}var oi={},tl;function Q1(){if(tl)return oi;tl=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Kaleidoscope=void 0;const e=ge(),t=Fe(),r=Ne(),i=_e();var n=function(o,h,u){var m=o.data,d=h.data,_=o.width,p=o.height,f=u.polarCenterX||_/2,y=u.polarCenterY||p/2,C,x,c,l=0,v=0,S=0,P=0,O,w=Math.sqrt(f*f+y*y);x=_-f,c=p-y,O=Math.sqrt(x*x+c*c),w=O>w?O:w;var A=p,T=_,R,N,g=360/T*Math.PI/180,b,E;for(N=0;N<T;N+=1)for(b=Math.sin(N*g),E=Math.cos(N*g),R=0;R<A;R+=1)x=Math.floor(f+w*R/A*E),c=Math.floor(y+w*R/A*b),C=(c*_+x)*4,l=m[C+0],v=m[C+1],S=m[C+2],P=m[C+3],C=(N+R*_)*4,d[C+0]=l,d[C+1]=v,d[C+2]=S,d[C+3]=P},s=function(o,h,u){var m=o.data,d=h.data,_=o.width,p=o.height,f=u.polarCenterX||_/2,y=u.polarCenterY||p/2,C,x,c,l,v,S=0,P=0,O=0,w=0,A,T=Math.sqrt(f*f+y*y);x=_-f,c=p-y,A=Math.sqrt(x*x+c*c),T=A>T?A:T;var R=p,N=_,g,b,E=u.polarRotation||0,k,M;for(x=0;x<_;x+=1)for(c=0;c<p;c+=1)l=x-f,v=c-y,g=Math.sqrt(l*l+v*v)*R/T,b=(Math.atan2(v,l)*180/Math.PI+360+E)%360,b=b*N/360,k=Math.floor(b),M=Math.floor(g),C=(M*_+k)*4,S=m[C+0],P=m[C+1],O=m[C+2],w=m[C+3],C=(c*_+x)*4,d[C+0]=S,d[C+1]=P,d[C+2]=O,d[C+3]=w};const a=function(o){var h=o.width,u=o.height,m,d,_,p,f,y,C,x,c,l,v=Math.round(this.kaleidoscopePower()),S=Math.round(this.kaleidoscopeAngle()),P=Math.floor(h*(S%360)/360);if(!(v<1)){var O=r.Util.createCanvasElement();O.width=h,O.height=u;var w=O.getContext("2d").getImageData(0,0,h,u);r.Util.releaseCanvas(O),n(o,w,{polarCenterX:h/2,polarCenterY:u/2});for(var A=h/Math.pow(2,v);A<=8;)A=A*2,v-=1;A=Math.ceil(A);var T=A,R=0,N=T,g=1;for(P+A>h&&(R=T,N=0,g=-1),d=0;d<u;d+=1)for(m=R;m!==N;m+=g)_=Math.round(m+P)%h,c=(h*d+_)*4,f=w.data[c+0],y=w.data[c+1],C=w.data[c+2],x=w.data[c+3],l=(h*d+m)*4,w.data[l+0]=f,w.data[l+1]=y,w.data[l+2]=C,w.data[l+3]=x;for(d=0;d<u;d+=1)for(T=Math.floor(A),p=0;p<v;p+=1){for(m=0;m<T+1;m+=1)c=(h*d+m)*4,f=w.data[c+0],y=w.data[c+1],C=w.data[c+2],x=w.data[c+3],l=(h*d+T*2-m-1)*4,w.data[l+0]=f,w.data[l+1]=y,w.data[l+2]=C,w.data[l+3]=x;T*=2}s(w,o,{polarRotation:0})}};return oi.Kaleidoscope=a,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),oi}var li={},rl;function Z1(){if(rl)return li;rl=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Mask=void 0;const e=ge(),t=Fe(),r=_e();function i(_,p,f){var y=(f*_.width+p)*4,C=[];return C.push(_.data[y++],_.data[y++],_.data[y++],_.data[y++]),C}function n(_,p){return Math.sqrt(Math.pow(_[0]-p[0],2)+Math.pow(_[1]-p[1],2)+Math.pow(_[2]-p[2],2))}function s(_){for(var p=[0,0,0],f=0;f<_.length;f++)p[0]+=_[f][0],p[1]+=_[f][1],p[2]+=_[f][2];return p[0]/=_.length,p[1]/=_.length,p[2]/=_.length,p}function a(_,p){var f=i(_,0,0),y=i(_,_.width-1,0),C=i(_,0,_.height-1),x=i(_,_.width-1,_.height-1),c=p||10;if(n(f,y)<c&&n(y,x)<c&&n(x,C)<c&&n(C,f)<c){for(var l=s([y,f,x,C]),v=[],S=0;S<_.width*_.height;S++){var P=n(l,[_.data[S*4],_.data[S*4+1],_.data[S*4+2]]);v[S]=P<c?0:255}return v}}function o(_,p){for(var f=0;f<_.width*_.height;f++)_.data[4*f+3]=p[f]}function h(_,p,f){for(var y=[1,1,1,1,0,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),c=[],l=0;l<f;l++)for(var v=0;v<p;v++){for(var S=l*p+v,P=0,O=0;O<C;O++)for(var w=0;w<C;w++){var A=l+O-x,T=v+w-x;if(A>=0&&A<f&&T>=0&&T<p){var R=A*p+T,N=y[O*C+w];P+=_[R]*N}}c[S]=P===255*8?255:0}return c}function u(_,p,f){for(var y=[1,1,1,1,1,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),c=[],l=0;l<f;l++)for(var v=0;v<p;v++){for(var S=l*p+v,P=0,O=0;O<C;O++)for(var w=0;w<C;w++){var A=l+O-x,T=v+w-x;if(A>=0&&A<f&&T>=0&&T<p){var R=A*p+T,N=y[O*C+w];P+=_[R]*N}}c[S]=P>=255*4?255:0}return c}function m(_,p,f){for(var y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),c=[],l=0;l<f;l++)for(var v=0;v<p;v++){for(var S=l*p+v,P=0,O=0;O<C;O++)for(var w=0;w<C;w++){var A=l+O-x,T=v+w-x;if(A>=0&&A<f&&T>=0&&T<p){var R=A*p+T,N=y[O*C+w];P+=_[R]*N}}c[S]=P}return c}const d=function(_){var p=this.threshold(),f=a(_,p);return f&&(f=h(f,_.width,_.height),f=u(f,_.width,_.height),f=m(f,_.width,_.height),o(_,f)),_};return li.Mask=d,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),li}var hi={},il;function eg(){if(il)return hi;il=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Noise=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=this.noise()*255,a=n.data,o=a.length,h=s/2,u;for(u=0;u<o;u+=4)a[u+0]+=h-2*h*Math.random(),a[u+1]+=h-2*h*Math.random(),a[u+2]+=h-2*h*Math.random()};return hi.Noise=i,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),hi}var ci={},nl;function tg(){if(nl)return ci;nl=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Pixelate=void 0;const e=ge(),t=Ne(),r=Fe(),i=_e(),n=function(s){var a=Math.ceil(this.pixelSize()),o=s.width,h=s.height,u,m,d,_,p,f,y,C=Math.ceil(o/a),x=Math.ceil(h/a),c,l,v,S,P,O,w,A=s.data;if(a<=0){t.Util.error("pixelSize value can not be <= 0");return}for(P=0;P<C;P+=1)for(O=0;O<x;O+=1){for(_=0,p=0,f=0,y=0,c=P*a,l=c+a,v=O*a,S=v+a,w=0,u=c;u<l;u+=1)if(!(u>=o))for(m=v;m<S;m+=1)m>=h||(d=(o*m+u)*4,_+=A[d+0],p+=A[d+1],f+=A[d+2],y+=A[d+3],w+=1);for(_=_/w,p=p/w,f=f/w,y=y/w,u=c;u<l;u+=1)if(!(u>=o))for(m=v;m<S;m+=1)m>=h||(d=(o*m+u)*4,A[d+0]=_,A[d+1]=p,A[d+2]=f,A[d+3]=y)}};return ci.Pixelate=n,e.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,i.getNumberValidator)(),e.Factory.afterSetFilter),ci}var ui={},sl;function rg(){if(sl)return ui;sl=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Posterize=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=Math.round(this.levels()*254)+1,a=n.data,o=a.length,h=255/s,u;for(u=0;u<o;u+=1)a[u]=Math.floor(a[u]/h)*h};return ui.Posterize=i,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ui}var di={},al;function ig(){if(al)return di;al=1,Object.defineProperty(di,"__esModule",{value:!0}),di.RGB=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=n.data,a=s.length,o=this.red(),h=this.green(),u=this.blue(),m,d;for(m=0;m<a;m+=4)d=(.34*s[m]+.5*s[m+1]+.16*s[m+2])/255,s[m]=d*o,s[m+1]=d*h,s[m+2]=d*u,s[m+3]=s[m+3]};return di.RGB=i,e.Factory.addGetterSetter(t.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),e.Factory.addGetterSetter(t.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),di}var fi={},ol;function ng(){if(ol)return fi;ol=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.RGBA=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=n.data,a=s.length,o=this.red(),h=this.green(),u=this.blue(),m=this.alpha(),d,_;for(d=0;d<a;d+=4)_=1-m,s[d]=o*m+s[d]*_,s[d+1]=h*m+s[d+1]*_,s[d+2]=u*m+s[d+2]*_};return fi.RGBA=i,e.Factory.addGetterSetter(t.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),e.Factory.addGetterSetter(t.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n}),fi}var gi={},ll;function sg(){if(ll)return gi;ll=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Sepia=void 0;const e=function(t){var r=t.data,i=r.length,n,s,a,o;for(n=0;n<i;n+=4)s=r[n+0],a=r[n+1],o=r[n+2],r[n+0]=Math.min(255,s*.393+a*.769+o*.189),r[n+1]=Math.min(255,s*.349+a*.686+o*.168),r[n+2]=Math.min(255,s*.272+a*.534+o*.131)};return gi.Sepia=e,gi}var pi={},hl;function ag(){if(hl)return pi;hl=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Solarize=void 0;const e=function(t){var r=t.data,i=t.width,n=t.height,s=i*4,a=n;do{var o=(a-1)*s,h=i;do{var u=o+(h-1)*4,m=r[u],d=r[u+1],_=r[u+2];m>127&&(m=255-m),d>127&&(d=255-d),_>127&&(_=255-_),r[u]=m,r[u+1]=d,r[u+2]=_}while(--h)}while(--a)};return pi.Solarize=e,pi}var mi={},cl;function og(){if(cl)return mi;cl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Threshold=void 0;const e=ge(),t=Fe(),r=_e(),i=function(n){var s=this.threshold()*255,a=n.data,o=a.length,h;for(h=0;h<o;h+=1)a[h]=a[h]<s?0:255};return mi.Threshold=i,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),mi}var ul;function lg(){if(ul)return Rr;ul=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.Konva=void 0;const e=A1(),t=k1(),r=O1(),i=N1(),n=F1(),s=M1(),a=I1(),o=bc(),h=fa(),u=Sc(),m=L1(),d=G1(),_=D1(),p=B1(),f=wc(),y=U1(),C=V1(),x=H1(),c=q1(),l=j1(),v=K1(),S=W1(),P=z1(),O=Y1(),w=$1(),A=X1(),T=J1(),R=Q1(),N=Z1(),g=eg(),b=tg(),E=rg(),k=ig(),M=ng(),L=sg(),G=ag(),B=og();return Rr.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:r.Arrow,Circle:i.Circle,Ellipse:n.Ellipse,Image:s.Image,Label:a.Label,Tag:a.Tag,Line:o.Line,Path:h.Path,Rect:u.Rect,RegularPolygon:m.RegularPolygon,Ring:d.Ring,Sprite:_.Sprite,Star:p.Star,Text:f.Text,TextPath:y.TextPath,Transformer:C.Transformer,Wedge:x.Wedge,Filters:{Blur:c.Blur,Brighten:l.Brighten,Contrast:v.Contrast,Emboss:S.Emboss,Enhance:P.Enhance,Grayscale:O.Grayscale,HSL:w.HSL,HSV:A.HSV,Invert:T.Invert,Kaleidoscope:R.Kaleidoscope,Mask:N.Mask,Noise:g.Noise,Pixelate:b.Pixelate,Posterize:E.Posterize,RGB:k.RGB,RGBA:M.RGBA,Sepia:L.Sepia,Solarize:G.Solarize,Threshold:B.Threshold}}),Rr}var hg=on.exports,dl;function xc(){if(dl)return on.exports;dl=1,Object.defineProperty(hg,"__esModule",{value:!0});const e=lg();return on.exports=e.Konva,on.exports}var cg=xc();const pt=mc(cg),ug={props:{layerBackground:Object,tailleGrille:Number,width:Number,height:Number},watch:{layerBackground:{immediate:!0,handler(e){if(e){const t=new Konva.Rect({id:"fond",x:0,y:0,width:this.tailleGrille*(this.width/this.tailleGrille)-this.width/this.tailleGrille/6,height:this.tailleGrille*(this.height/this.tailleGrille)-this.height/this.tailleGrille/6,fill:"#0B0B0B"});e.add(t),e.draw()}}}}},dg={ref:"background"};function fg(e,t,r,i,n,s){return ce(),fe("div",null,[ee("div",dg,null,512)])}const gg=Ye(ug,[["render",fg]]),pg={props:{layerCell:Object,tailleGrille:Number,width:Number,height:Number,roomId:Number,socket:Object},data(){return{myTurn:null,valid:[]}},mounted(){this.socket.emit("nextplayer",this.roomId),this.socket.on("my turn",e=>{this.myTurn=e,console.log("cellule : my turn "+this.myTurn)}),this.socket.on("cells checked",e=>{console.log(e),this.valid=e,this.layerCell.getChildren().forEach(t=>{t.fill("#0B0B0B"),t.valid=!1}),e.forEach(t=>{this.layerCell.find(r=>r.attrs.x1===t.x&&r.attrs.y1===t.y)[0].fill("#333363"),this.layerCell.draw()})})},watch:{layerCell:{immediate:!0,handler(e){const t=this;if(e){for(let r=0;r<this.tailleGrille;r++)for(let i=0;i<this.tailleGrille;i++){console.log(this.height/this.tailleGrille-this.height/this.tailleGrille/6);const n=new Konva.Rect({id:""+r+i,x1:r,y1:i,x:this.width/this.tailleGrille*r,y:this.height/this.tailleGrille*i,width:this.width/this.tailleGrille-this.width/this.tailleGrille/6,height:this.height/this.tailleGrille-this.height/this.tailleGrille/6,fill:"#0B0B0B",stroke:"#217BFF"});n.on("click",function(s){let a=!1;t.valid.find(o=>o.x===s.target.attrs.x1&&o.y===s.target.attrs.y1)&&(a=!0),t.myTurn&&a&&(console.log("event-turn"),console.log(s.target),t.socket.emit("nextplayer",t.roomId),t.socket.emit("coord",t.roomId,{x:s.target.attrs.x1,y:s.target.attrs.y1}),t.layerCell.getChildren().forEach(o=>{o.fill("#0B0B0B"),o.valid=!1}))}),e.add(n)}e.draw()}}}}},mg={ref:"cell"};function _g(e,t,r,i,n,s){return ce(),fe("div",null,[ee("div",mg,null,512)])}const vg=Ye(pg,[["render",_g]]),yg={props:{layerPion:Object,tailleGrille:Number,listeJoueur:Object,width:Number,height:Number,otherInitGame:Object,myInitGame:Object,newPosition:Object},data(){return{mx:this.width/this.tailleGrille,sx:-(this.width/this.tailleGrille)/2-this.width/this.tailleGrille/12}},watch:{newPosition:function(e,t){const r=this;console.log("La valeur de la prop myProp a chang de",t,"",e);let i=this.layerPion.find(s=>s.attrs.owner===e.id)[0];const n=new pt.Tween({node:i,duration:.5,x:(1+e.coord.x)*this.mx+this.sx,y:(1+e.coord.y)*this.mx+this.sx,opacity:1,onFinish:function(){i.setAttrs({x:(1+e.coord.x)*r.mx+r.sx,y:(1+e.coord.y)*r.mx+r.sx})}});console.log(i),n.play()},layerPion:{immediate:!0,handler(e){if(e){const t=[[(1+this.myInitGame.positionStart.x)*this.mx+this.sx,(1+this.myInitGame.positionStart.y)*this.mx+this.sx]];this.otherInitGame.forEach(r=>{t.push([(1+r.positionStart.x)*this.mx+this.sx,(1+r.positionStart.y)*this.mx+this.sx])});for(const r in this.listeJoueur){const i=new pt.Circle({owner:this.listeJoueur[r][0],x:t[r][0],y:t[r][1],radius:.5*(this.width/this.tailleGrille-this.width/this.tailleGrille/6),fill:this.listeJoueur[r][1]});e.add(i)}e.draw()}}}}},bg={ref:"pion"};function Cg(e,t,r,i,n,s){return ce(),fe("div",null,[ee("div",bg,null,512)])}const Sg=Ye(yg,[["render",Cg]]),wg={props:{layerBarEmpl:Object,tailleGrille:Number,width:Number,height:Number,selected:Array},watch:{layerBarEmpl:{immediate:!0,handler(e){if(e){for(let t=0;t<this.tailleGrille-1;t++)for(let r=0;r<this.tailleGrille;r++){let i=new pt.Rect({id:""+t+r,x:this.width/this.tailleGrille*t+this.width/this.tailleGrille*.875,y:this.height/this.tailleGrille*r+this.height/this.tailleGrille*.125/3,x1:t,y1:r,width:this.width/this.tailleGrille/12,height:this.height/this.tailleGrille*.75,fill:"#464646",name:"verticale"});r!==this.tailleGrille-1&&(i.on("mouseover",function(n){n.target.fill("#EDED5E"),console.log("[barV] "+n.target.attrs.id),e.find(s=>s.attrs.x1===n.target.attrs.x1&&s.attrs.y1===n.target.attrs.y1+1&&s.attrs.name==="verticale")[0].fill("#EDED5E"),e.draw()}),i.on("mouseout",function(n){n.target.fill("#464646"),e.find(s=>s.attrs.x1===n.target.attrs.x1&&s.attrs.y1===n.target.attrs.y1+1&&s.attrs.name==="verticale")[0].fill("#464646"),e.draw()})),e.add(i)}for(let t=0;t<this.tailleGrille;t++)for(let r=0;r<this.tailleGrille-1;r++){let i=new pt.Rect({id:""+t+r,x:this.width/this.tailleGrille*t+this.width/this.tailleGrille*.125/3,y:this.height/this.tailleGrille*r+this.height/this.tailleGrille*.875,x1:t,y1:r,width:this.width/this.tailleGrille*.75,height:this.height/this.tailleGrille/12,fill:"#464646",name:"horizontale"});t!==this.tailleGrille-1&&(i.on("mouseover",function(n){n.target.fill("#EDED5E"),console.log("[barH] "+n.target.attrs.id),e.find(s=>s.attrs.x1===n.target.attrs.x1+1&&s.attrs.y1===n.target.attrs.y1&&s.attrs.name==="horizontale")[0].fill("#EDED5E"),e.draw()}),i.on("mouseout",function(n){n.target.fill("#464646"),e.find(s=>s.attrs.x1===n.target.attrs.x1+1&&s.attrs.y1===n.target.attrs.y1&&s.attrs.name==="horizontale")[0].fill("#464646"),e.draw()})),e.add(i)}console.log(e),e.draw()}}}}},xg={ref:"barEmpl"};function Tg(e,t,r,i,n,s){return ce(),fe("div",null,[ee("div",xg,null,512)])}const Eg=Ye(wg,[["render",Tg]]),Pg={props:{layerBar:Object,tailleGrille:Number,nbBarriere:Number,listeJoueur:Object,width:Number,height:Number},watch:{layerBar:{immediate:!0,handler(e){if(e){for(const t in this.listeJoueur)for(let r=0;r<this.nbBarriere;r++){const i=new Konva.Rect({id:"("+r+")",owner:this.listeJoueur[t][0],x:t*this.tailleGrille*100/4,y:20*r+this.tailleGrille*120,width:90,height:10,fill:this.listeJoueur[t][1]});e.add(i)}e.draw()}}}}},Ag={ref:"barriere"};function kg(e,t,r,i,n,s){return ce(),fe("div",null,[ee("div",Ag,null,512)])}const Rg=Ye(Pg,[["render",kg]]);const Og={name:"PlateauComponent",data(){return{width:800,height:800,listeJoueur:[],layerBackground:null,layerCell:null,layerBarEmpl:null,layerBar:null,layerPion:null}},props:["nbSquares","myInitGame","otherInitGame","myTurn","newPosition","nbBarriere","roomId","socket"],components:{Background:gg,Rect:vg,Pion:Sg,BarrierEmpl:Eg,BarrierObj:Rg},computed:{stage(){return this.$refs.stage}},methods:{changeturn(e){this.$emit("event-turn",e)}},mounted(){this.listeJoueur.push([this.myInitGame.socketId,this.myInitGame.color]),this.otherInitGame.forEach(a=>this.listeJoueur.push([a.socketId,a.color])),console.log("plateau joueurs : "+this.listeJoueur);const e=new pt.Stage({container:this.$refs.plateau,width:this.width,height:this.height}),t=new pt.Layer({fill:"blue"});e.add(t),this.layerBackground=t;const r=new pt.Layer({fill:"blue"});e.add(r),this.layerCell=r;const i=new pt.Layer({fill:"blue"});e.add(i),this.layerBarEmpl=i;const n=new pt.Layer({fill:"blue"});e.add(n),this.layerBar=n;const s=new pt.Layer({fill:"blue"});e.add(s),this.layerPion=s,e.draw()}},Ng={class:"container"},Fg={ref:"plateau"};function Mg(e,t,r,i,n,s){const a=je("Background"),o=je("Rect"),h=je("BarrierEmpl"),u=je("Pion");return ce(),fe("div",Ng,[ee("div",Fg,[Se(a,{width:n.width,height:n.height,layerBackground:n.layerBackground,"taille-grille":r.nbSquares},null,8,["width","height","layerBackground","taille-grille"]),Se(o,{roomId:r.roomId,socket:r.socket,width:n.width,height:n.height,layerCell:n.layerCell,"taille-grille":r.nbSquares},null,8,["roomId","socket","width","height","layerCell","taille-grille"]),Se(h,{width:n.width,height:n.height,layerBarEmpl:n.layerBarEmpl,"taille-grille":r.nbSquares},null,8,["width","height","layerBarEmpl","taille-grille"]),Se(u,{newPosition:r.newPosition,myInitGame:r.myInitGame,otherInitGame:r.otherInitGame,width:n.width,height:n.height,layerPion:n.layerPion,listeJoueur:n.listeJoueur,"taille-grille":r.nbSquares},null,8,["newPosition","myInitGame","otherInitGame","width","height","layerPion","listeJoueur","taille-grille"])],512)])}const Ig=Ye(Og,[["render",Mg],["__scopeId","data-v-1ff738e0"]]);const Lg={name:"Regles",props:["revele","toggleModale"]},Gg={key:0,class:"overlay"},Dg={key:1,class:"bloc-modale"},Bg=yh('<div class="row" data-v-af2c760d><div class="col" data-v-af2c760d><button class="btn btn-primary" data-v-af2c760d> A </button></div><div class="col" data-v-af2c760d><button class="btn btn-info" data-v-af2c760d> BLABKAS </button></div></div>',1);function Ug(e,t,r,i,n,s){return ce(),fe(ke,null,[r.revele?(ce(),fe("div",Gg)):Te("",!0),r.revele?(ce(),fe("div",Dg,[ee("button",{onClick:t[0]||(t[0]=(...a)=>r.toggleModale&&r.toggleModale(...a)),class:"btn-closei btn btn-danger"},"X"),Bg])):Te("",!0)],64)}const Vg=Ye(Lg,[["render",Ug],["__scopeId","data-v-af2c760d"]]);const Hg={props:["username","socket","roomId"],data(){return{text:"",messages:[],isTyping:!1,timeout:null}},created(){this.onSubmit()},methods:{onSubmit(){this.socket.on("message recu",e=>{this.messages=[...this.messages,e]}),this.socket.on("typing",e=>{const t=e.username;t!==this.username&&(document.getElementById("typing-indicator").innerHTML=`${t} est en train d'crire`)}),this.socket.on("stop typing",()=>{this.socket.emit("stop typing",{username:this.username}),document.getElementById("typing-indicator").innerHTML=""})},scrollToBottom(){this.$nextTick(()=>{this.$refs.messages&&(this.$refs.messages.scrollToBottom=this.$refs.messages.scrollHeight)})},onTyping(){this.isTyping=!1,clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.isTyping=!0,this.socket.emit("typing",{username:this.username})},500)},sendMessage(){this.isTyping=!1;const e={id:new Date().getTime(),text:this.text,user:this.username,socketId:this.socket.id};this.messages=[...this.messages,e],this.text="",this.socket.emit("message",e),this.scrollToBottom()}},watch(){this.$refs.messages.scrollTop=this.$refs.messages.scrollHeight}},ga=e=>(An("data-v-1b140940"),e=e(),kn(),e),qg={class:"chat__layer"},jg={class:"container"},Kg=ga(()=>ee("div",null,[ee("h2",{id:"chatty"},"Chat"),ee("button",{class:"future_modal"},"")],-1)),Wg={ref:"messages",id:"messages"},zg=ga(()=>ee("div",{id:"emoji_list"},null,-1)),Yg={key:0},$g=ga(()=>ee("div",{id:"typing-indicator"},null,-1));function Xg(e,t,r,i,n,s){return ce(),fe("div",qg,[ee("div",jg,[Kg,ee("div",Wg,[zg,(ce(!0),fe(ke,null,In(n.messages,a=>(ce(),fe("div",{key:a.id,class:br([{"message-from-me":a.socketId===r.socket.id,"message-from-others":a.socketId!==r.socket.id&&a.user!==r.username},"mt-3"])},[a.user!==r.username?(ce(),fe("div",Yg,[ee("span",null,[ee("b",null,et(a.user),1)])])):Te("",!0),ee("div",null,[ee("p",null,et(a.text),1),ee("span",null,et(new Date(a.id).toLocaleTimeString()),1)])],2))),128))],512),ee("div",null,[ot(ee("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.text=a),placeholder:"write a message...",class:"text-message",onKeyup:[t[1]||(t[1]=Kh((...a)=>s.sendMessage&&s.sendMessage(...a),["enter"])),t[2]||(t[2]=(...a)=>s.onTyping&&s.onTyping(...a))]},null,544),[[Vt,n.text]])]),$g])])}const Jg=Ye(Hg,[["render",Xg],["__scopeId","data-v-1b140940"]]),Qg={name:"infoBarriere",props:["username","nb_Walls","new_nb_Walls"],data(){return{myValue:this.new_nb_Walls*100/this.nb_Walls}},computed:{progressBarValue(){return this.myValue},progressBarWidth(){return`${this.myValue}%`}}},Zg={class:"container"},e2={class:"progress"};function t2(e,t,r,i,n,s){return ce(),fe("div",Zg,[ee("h2",null,et(r.username),1),ee("div",e2,[ee("div",{class:"progress-bar",role:"progressbar",style:yr({width:s.progressBarWidth}),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},et(r.new_nb_Walls)+" / "+et(r.nb_Walls)+" Murs ",5)])])}const r2=Ye(Qg,[["render",t2]]);const i2={data(){return{player:null,socket:an(),roomId:null,playGame:!1,color:null,nbSquares:null,nbBarriere:null,myInitGame:null,otherInitGame:[],myTurn:!1,start:!1,newPosition:null,game:null,reveleCreer:!1,reveleRejoindre:!1,reveleRegles:!1}},components:{NewRoomComponent:s1,JoinRoomComponent:w1,ListeRoomComponent:pc,ListeUserComponent:ha,PlateauComponent:Ig,Regles:Vg,chat:Jg,infoBarriere:r2},created(){this.socket.on("start game",({info:e,initGame:t})=>{this.nbSquares=e.nb_Squares,this.nbBarriere=e.nb_Walls,this.start=!0,this.socket.emit("game",this.roomId),t.forEach(r=>{r.socketId===this.socket.id?this.myInitGame=r:this.otherInitGame.push(r)}),this.playGame=!0}),this.socket.on("my turn",e=>{this.myTurn=e,console.log("my turn "+this.myTurn)}),this.socket.on("change",e=>{console.log(e),this.newPosition=e})},methods:{setRoomId(e){this.player=e.player,console.log("[App.vue] : "+this.player),this.roomId=e.roomId,console.log("[App.vue] : "+this.roomId),this.game=e.game},changeturn(e){this.myTurn=e.myTurn,this.socket.emit("nextplayer",this.roomId),this.socket.emit("coord",this.roomId,e.coord),console.log("payload "+this.myTurn)},toggleCreer:function(){this.reveleCreer=!this.reveleCreer},toggleRejoindre:function(){this.reveleRejoindre=!this.reveleRejoindre},toggleRegles:function(){this.reveleRegles=!this.reveleRegles}}},n2={class:"template"},s2={class:"one"},a2={key:3,class:"alert alert-success"},o2=ee("strong",null,"Your turn man!",-1),l2=[o2],h2={key:4,class:"alert alert-warning"},c2=ee("strong",null,"Wait bro is not your turn!",-1),u2=[c2],d2={class:"boutons"},f2={class:"game_rule"},g2={class:"two"};function p2(e,t,r,i,n,s){const a=je("NewRoomComponent"),o=je("JoinRoomComponent"),h=je("regles"),u=je("infoBarriere"),m=je("PlateauComponent"),d=je("chat");return ce(),fe("div",n2,[Gn(et(n.myTurn)+" ",1),ee("div",s2,[n.playGame?Te("",!0):(ce(),ct(a,{key:0,socket:n.socket,onEventRoomId:s.setRoomId,revele:n.reveleCreer,toggleModale:s.toggleCreer},null,8,["socket","onEventRoomId","revele","toggleModale"])),n.playGame?Te("",!0):(ce(),ct(o,{key:1,socket:n.socket,onEventRoomId:s.setRoomId,revele:n.reveleRejoindre,toggleModale:s.toggleRejoindre},null,8,["socket","onEventRoomId","revele","toggleModale"])),Se(h,{revele:n.reveleRegles,toggleModale:s.toggleRegles},null,8,["revele","toggleModale"]),n.playGame?(ce(),ct(u,{key:2,username:n.player.username,"nb_-walls":n.game.nb_Walls,"new_nb_-walls":n.game.new_nb_Walls},null,8,["username","nb_-walls","new_nb_-walls"])):Te("",!0),n.playGame&&n.myTurn?(ce(),fe("div",a2,l2)):Te("",!0),n.playGame&&!n.myTurn?(ce(),fe("div",h2,u2)):Te("",!0),ee("div",d2,[n.playGame?Te("",!0):(ce(),fe("div",{key:0,onClick:t[0]||(t[0]=(..._)=>s.toggleCreer&&s.toggleCreer(..._)),class:"btn btn-success"},"Crer une partie")),n.playGame?Te("",!0):(ce(),fe("div",{key:1,onClick:t[1]||(t[1]=(..._)=>s.toggleRejoindre&&s.toggleRejoindre(..._)),class:"btn btn-success"},"Rejoindre une partie"))]),ee("div",f2,[ee("div",{onClick:t[2]||(t[2]=(..._)=>s.toggleRegles&&s.toggleRegles(..._)),class:"btn btn-success"},"Regles")]),n.playGame?(ce(),ct(m,{key:5,socket:n.socket,roomId:n.roomId,onEventTurn:s.changeturn,myTurn:n.myTurn,color:n.color,nbSquares:n.nbSquares,nbBarriere:n.nbBarriere,myInitGame:n.myInitGame,otherInitGame:n.otherInitGame,newPosition:n.newPosition},null,8,["socket","roomId","onEventTurn","myTurn","color","nbSquares","nbBarriere","myInitGame","otherInitGame","newPosition"])):Te("",!0)]),ee("div",g2,[n.playGame?(ce(),ct(d,{key:0,socket:n.socket,username:n.player.username,"room-id":n.roomId},null,8,["socket","username","room-id"])):Te("",!0)])])}const m2=Ye(i2,[["render",p2]]);var Tc={exports:{}};const _2=x1(Vf);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(e,t){(function(i,n){e.exports=n(_2,xc())})(ks,function(r,i){return function(n){var s={};function a(o){if(s[o])return s[o].exports;var h=s[o]={i:o,l:!1,exports:{}};return n[o].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=n,a.c=s,a.d=function(o,h,u){a.o(o,h)||Object.defineProperty(o,h,{enumerable:!0,get:u})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,h){if(h&1&&(o=a(o)),h&8||h&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),h&2&&typeof o!="string")for(var m in o)a.d(u,m,function(d){return o[d]}.bind(null,m));return u},a.n=function(o){var h=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(h,"a",h),h},a.o=function(o,h){return Object.prototype.hasOwnProperty.call(o,h)},a.p="",a(a.s=2)}([function(n,s){n.exports=r},function(n,s){n.exports=i},function(n,s,a){n.exports=a(3)},function(n,s,a){a.r(s);var o=a(0),h=a(1),u=a.n(h);function m(g){if(!u.a.autoDrawEnabled){var b=g.getLayer()||g.getStage();b&&b.batchDraw()}}var d={key:!0,style:!0,elm:!0,isRootInsert:!0},_=".vue-konva-event";function p(g,b,E,k){b===void 0&&(b={}),E===void 0&&(E={});var M=g.__konvaNode,L={},G=!1;for(var B in E)if(!d[B]){var K=B.slice(0,2)==="on",X=E[B]!==b[B];if(K&&X){var z=B.substr(2).toLowerCase();z.substr(0,7)==="content"&&(z="content"+z.substr(7,1).toUpperCase()+z.substr(8)),M.off(z+_,E[B])}var te=!b.hasOwnProperty(B);te&&M.setAttr(B,void 0)}for(var re in b)if(!d[re]){var ie=re.slice(0,2)==="on",I=E[re]!==b[re];if(ie&&I){var U=re.substr(2).toLowerCase();U.substr(0,7)==="content"&&(U="content"+U.substr(7,1).toUpperCase()+U.substr(8)),b[re]&&(M.off(U+_),M.on(U+_,b[re]))}!ie&&(b[re]!==E[re]||k&&b[re]!==M.getAttr(re))&&(G=!0,L[re]=b[re])}G&&(M.setAttrs(L),m(M))}var f="v";function y(g){function b(E){return E.__konvaNode?E:E.parent?b(E.parent):(console.error("vue-konva error: Can not find parent node"),{})}return b(g.parent)}function C(g){if(g!=null&&g.component)return g.component.__konvaNode||C(g.component.subTree)}function x(g){var b=g.el,E=g.component,k=C(g);if(b!=null&&b.tagName&&E&&!k){var M=b&&b.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+M+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return k}function c(g){var b=[];return g.children&&g.children.forEach(function(E){!E.component&&Array.isArray(E.children)&&E.children.forEach(function(k){!k.component&&Array.isArray(k.children)?b.push.apply(b,k.children):b.push(k)}),E.component&&b.push(E)}),b}function l(g,b){var E=c(g),k=[];E.forEach(function(L){var G=x(L);G&&k.push(G)});var M=!1;k.forEach(function(L,G){L.getZIndex()!==G&&(L.setZIndex(G),M=!0)}),M&&m(b)}function v(){return v=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(g[k]=E[k])}return g},v.apply(this,arguments)}var S={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(b,E){var k=E.attrs,M=E.slots,L=E.expose;E.emits;var G=Object(o.getCurrentInstance)(),B=Object(o.reactive)({}),K=Object(o.ref)(null),X=new window.Konva.Stage({width:b.config.width,height:b.config.height,container:document.createElement("div")});G.__konvaNode=X,re();function z(){return G.__konvaNode}function te(){return G.__konvaNode}function re(){var ie=B||{},I=v({},k,b.config);p(G,I,ie,b.__useStrictMode),Object.assign(B,I)}return Object(o.onMounted)(function(){K.value.innerHTML="",X.container(K.value),re()}),Object(o.onUpdated)(function(){re(),l(G.subTree,X)}),Object(o.onBeforeUnmount)(function(){X.destroy()}),Object(o.watch)(function(){return b.config},re,{deep:!0}),L({getStage:te,getNode:z}),function(){var ie;return Object(o.h)("div",{ref:K},(ie=M.default)===null||ie===void 0?void 0:ie.call(M))}}};function P(){return P=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(g[k]=E[k])}return g},P.apply(this,arguments)}var O=".vue-konva-event",w={Group:!0,Layer:!0,FastLayer:!0,Label:!0},A=function(g){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(E,k){var M=k.attrs,L=k.slots,G=k.expose,B=Object(o.getCurrentInstance)(),K=Object(o.reactive)({}),X=window.Konva[g];if(!X){console.error("vue-konva error: Can not find node "+g);return}var z=new X;B.__konvaNode=z,B.vnode.__konvaNode=z,ie();function te(){return B.__konvaNode}function re(){return B.__konvaNode}function ie(){var U={};for(var Y in B.vnode.props)Y.slice(0,2)==="on"&&(U[Y]=B.vnode.props[Y]);var he=K||{},oe=P({},M,E.config,U);p(B,oe,he,E.__useStrictMode),Object.assign(K,oe)}Object(o.onMounted)(function(){var U=y(B).__konvaNode;U.add(z),m(z)}),Object(o.onUnmounted)(function(){m(z),z.destroy(),z.off(O)}),Object(o.onUpdated)(function(){ie(),l(B.subTree,z)}),Object(o.watch)(function(){return E.config},ie,{deep:!0}),G({getStage:re,getNode:te});var I=w[g];return I?function(){var U;return Object(o.h)("template",{},(U=L.default)===null||U===void 0?void 0:U.call(L))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&a(1);var T=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],R=[{name:"Stage",component:S}].concat(T.map(function(g){return{name:g,component:A(g)}})),N={install:function(b,E){var k=f;E&&E.prefix&&(k=E.prefix),R.forEach(function(M){b.component(""+k+M.name,M.component)})}};s.default=N}]).default})})(Tc);var v2=Tc.exports;const y2=mc(v2),Ec=Jh(m2);Ec.use(y2);Ec.mount("#app");
